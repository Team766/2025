<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Svelte + Vite</title>
    <script type="module" crossorigin>var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var d=Array.isArray,f=Array.prototype.indexOf,p=Array.from;Object.keys;var m=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyDescriptors,_=Object.prototype,v=Array.prototype,y=Object.getPrototypeOf,b=Object.isExtensible;function x(e){return typeof e==`function`}const S=()=>{};function C(e){return e()}function w(e){for(var t=0;t<e.length;t++)e[t]()}function T(){var e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}const ee=1024,te=2048,E=4096,ne=8192,re=65536,ie=1<<19,ae=1<<20,D=1<<25,oe=32768,O=1<<21,se=1<<23,ce=Symbol(`$state`),le=Symbol(`legacy props`),ue=Symbol(``),de=new class extends Error{name=`StaleReactionError`;message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function fe(e){throw Error(`https://svelte.dev/e/lifecycle_outside_component`)}function pe(){throw Error(`https://svelte.dev/e/async_derived_orphan`)}function me(e){throw Error(`https://svelte.dev/e/effect_in_teardown`)}function k(){throw Error(`https://svelte.dev/e/effect_in_unowned_derived`)}function he(e){throw Error(`https://svelte.dev/e/effect_orphan`)}function ge(){throw Error(`https://svelte.dev/e/effect_update_depth_exceeded`)}function A(e){throw Error(`https://svelte.dev/e/lifecycle_legacy_only`)}function j(e){throw Error(`https://svelte.dev/e/props_invalid_value`)}function _e(){throw Error(`https://svelte.dev/e/state_descriptors_fixed`)}function ve(){throw Error(`https://svelte.dev/e/state_prototype_fixed`)}function M(){throw Error(`https://svelte.dev/e/state_unsafe_mutation`)}function N(){throw Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`)}const ye={},be=Symbol();function xe(e){console.warn(`https://svelte.dev/e/hydration_mismatch`)}function Se(){console.warn(`https://svelte.dev/e/select_multiple_invalid_value`)}function Ce(){console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`)}let P=!1;function we(e){P=e}let F;function Te(e){if(e===null)throw xe(),ye;return F=e}function Ee(){return Te(Yt(F))}function I(e){if(P){if(Yt(F)!==null)throw xe(),ye;F=e}}function De(e=1){if(P){for(var t=e,n=F;t--;)n=Yt(n);F=n}}function Oe(e=!0){for(var t=0,n=F;;){if(n.nodeType===8){var r=n.data;if(r===`]`){if(t===0)return n;--t}else (r===`[`||r===`[!`)&&(t+=1)}var i=Yt(n);e&&n.remove(),n=i}}function ke(e){if(!e||e.nodeType!==8)throw xe(),ye;return e.data}function Ae(e){return e===this.v}function je(e,t){return e==e?e!==t||typeof e==`object`&&!!e||typeof e==`function`:t==t}function Me(e){return!je(e,this.v)}let Ne=!1;function Pe(){Ne=!0}let L=null;function Fe(e){L=e}function Ie(e){return Ve(`getContext`).get(e)}function Le(e,t){return Ve(`setContext`).set(e,t),t}function Re(e,t=!1,n){L={p:L,i:!1,c:null,e:null,s:e,x:null,l:Ne&&!t?{s:null,u:null,$:[]}:null}}function ze(e){var t=L,n=t.e;if(n!==null){t.e=null;for(var r of n)fn(r)}return e!==void 0&&(t.x=e),t.i=!0,L=t.p,e??{}}function Be(){return!Ne||L!==null&&L.l===null}function Ve(e){return L===null&&fe(e),L.c??=new Map(He(L)||void 0)}function He(e){let t=e.p;for(;t!==null;){let e=t.c;if(e!==null)return e;t=t.p}return null}var Ue=[];function We(){var e=Ue;Ue=[],w(e)}function Ge(e){if(Ue.length===0&&!nt){var t=Ue;queueMicrotask(()=>{t===Ue&&We()})}Ue.push(e)}function Ke(){for(;Ue.length>0;)We()}function qe(e){var t=Bn;if(t===null)return Ln.f|=se,e;if(t.f&32768)Je(e,t);else{if(!(t.f&128))throw e;t.b.error(e)}}function Je(e,t){for(;t!==null;){if(t.f&128)try{t.b.error(e);return}catch(t){e=t}t=t.parent}throw e}var Ye=new Set;let Xe=null,Ze=null,Qe=null;var $e=[],et=null,tt=!1;let nt=!1;var rt=class e{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#i=null;#a=new Set;#o=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(e){$e=[],Ze=null,this.apply();var t={parent:null,effect:null,effects:[],render_effects:[]};for(let n of e)this.#s(n,t);this.is_fork||this.#u(),this.is_deferred()?(this.#c(t.effects),this.#c(t.render_effects)):(Ze=this,Xe=null,ct(t.render_effects),ct(t.effects),Ze=null,this.#i?.resolve()),Qe=null}#s(e,t){e.f^=ee;for(var n=e.first;n!==null;){var r=n.f,i=(r&96)!=0,a=i&&(r&1024)!=0||(r&8192)!=0||this.skipped_effects.has(n);if(n.f&128&&n.b?.is_pending()&&(t={parent:t,effect:n,effects:[],render_effects:[]}),!a&&n.fn!==null){i?n.f^=ee:r&4?t.effects.push(n):$n(n)&&(n.f&16&&this.#a.add(n),ir(n));var o=n.first;if(o!==null){n=o;continue}}var s=n.parent;for(n=n.next;n===null&&s!==null;)s===t.effect&&(this.#c(t.effects),this.#c(t.render_effects),t=t.parent),n=s.next,s=s.parent}}#c(e){for(let t of e)t.f&2048?this.#a.add(t):t.f&4096&&this.#o.add(t),this.#l(t.deps),lr(t,ee)}#l(e){if(e!==null)for(let t of e)!(t.f&2)||!(t.f&32768)||(t.f^=oe,this.#l(t.deps))}capture(e,t){this.previous.has(e)||this.previous.set(e,t),e.f&8388608||(this.current.set(e,e.v),Qe?.set(e,e.v))}activate(){Xe=this,this.apply()}deactivate(){Xe===this&&(Xe=null,Qe=null)}flush(){if(this.activate(),$e.length>0){if(at(),Xe!==null&&Xe!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(let e of this.#t)e(this);this.#t.clear()}#u(){if(this.#r===0){for(let e of this.#e)e();this.#e.clear()}this.#n===0&&this.#d()}#d(){if(Ye.size>1){this.previous.clear();var e=Qe,t=!0,n={parent:null,effect:null,effects:[],render_effects:[]};for(let e of Ye){if(e===this){t=!1;continue}let i=[];for(let[n,r]of this.current){if(e.current.has(n))if(t&&r!==e.current.get(n))e.current.set(n,r);else continue;i.push(n)}if(i.length===0)continue;let a=[...e.current.keys()].filter(e=>!this.current.has(e));if(a.length>0){var r=$e;$e=[];let t=new Set,o=new Map;for(let e of i)lt(e,a,t,o);if($e.length>0){Xe=e,e.apply();for(let t of $e)e.#s(t,n);e.deactivate()}$e=r}}Xe=null,Qe=e}this.committed=!0,Ye.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){--this.#n,e&&--this.#r,this.revive()}revive(){for(let e of this.#a)this.#o.delete(e),lr(e,te),dt(e);for(let e of this.#o)lr(e,E),dt(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#i??=T()).promise}static ensure(){if(Xe===null){let t=Xe=new e;Ye.add(Xe),nt||e.enqueue(()=>{Xe===t&&t.flush()})}return Xe}static enqueue(e){Ge(e)}apply(){}};function it(e){var t=nt;nt=!0;try{var n;for(e&&(Xe!==null&&at(),n=e());;){if(Ke(),$e.length===0&&(Xe?.flush(),$e.length===0))return et=null,n;at()}}finally{nt=t}}function at(){var e=Nn;tt=!0;try{var t=0;for(Pn(!0);$e.length>0;){var n=rt.ensure();t++>1e3&&ot(),n.process($e),Ot.clear()}}finally{tt=!1,Pn(e),et=null}}function ot(){try{ge()}catch(e){Je(e,et)}}let st=null;function ct(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&24576)&&$n(r)&&(st=new Set,ir(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Dn(r):r.fn=null),st?.size>0)){Ot.clear();for(let e of st){if(e.f&24576)continue;let t=[e],n=e.parent;for(;n!==null;)st.has(n)&&(st.delete(n),t.push(n)),n=n.parent;for(let e=t.length-1;e>=0;e--){let n=t[e];n.f&24576||ir(n)}}st.clear()}}st=null}}function lt(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(let i of e.reactions){let e=i.f;e&2?lt(i,t,n,r):e&4194320&&!(e&2048)&&ut(i,t,r)&&(lr(i,te),dt(i))}}function ut(e,t,n){let r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(let r of e.deps){if(t.includes(r))return!0;if(r.f&2&&ut(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function dt(e){for(var t=et=e;t.parent!==null;){t=t.parent;var n=t.f;if(tt&&t===Bn&&n&16&&!(n&262144))return;if(n&96){if(!(n&1024))return;t.f^=ee}}$e.push(t)}function ft(e){let t=0,n=At(0),r;return()=>{ln()&&(W(n),vn(()=>(t===0&&(r=G(()=>e(()=>It(n)))),t+=1,()=>{Ge(()=>{--t,t===0&&(r?.(),r=void 0,It(n))})})))}}var pt=ie|65664;function mt(e,t,n){new ht(e,t,n)}var ht=class{parent;#e=!1;#t;#n=P?F:null;#r;#i;#a;#o=null;#s=null;#c=null;#l=null;#u=null;#d=0;#f=0;#p=!1;#m=null;#h=ft(()=>(this.#m=At(this.#d),()=>{this.#m=null}));constructor(e,t,n){this.#t=e,this.#r=t,this.#i=n,this.parent=Bn.b,this.#e=!!this.#r.pending,this.#a=yn(()=>{if(Bn.b=this,P){let e=this.#n;Ee(),e.nodeType===8&&e.data===`[!`?this.#_():this.#g()}else{var e=this.#v();try{this.#o=xn(()=>n(e))}catch(e){this.error(e)}this.#f>0?this.#b():this.#e=!1}return()=>{this.#u?.remove()}},pt),P&&(this.#t=F)}#g(){try{this.#o=xn(()=>this.#i(this.#t))}catch(e){this.error(e)}this.#e=!1}#_(){let e=this.#r.pending;e&&(this.#s=xn(()=>e(this.#t)),rt.enqueue(()=>{var e=this.#v();this.#o=this.#y(()=>(rt.ensure(),xn(()=>this.#i(e)))),this.#f>0?this.#b():(On(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#v(){var e=this.#t;return this.#e&&(this.#u=qt(),this.#t.before(this.#u),e=this.#u),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#y(e){var t=Bn,n=Ln,r=L;Vn(this.#a),zn(this.#a),Fe(this.#a.ctx);try{return e()}catch(e){return qe(e),null}finally{Vn(t),zn(n),Fe(r)}}#b(){let e=this.#r.pending;this.#o!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Mn(this.#o,this.#l)),this.#s===null&&(this.#s=xn(()=>e(this.#t)))}#x(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#x(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&On(this.#s,()=>{this.#s=null}),this.#l&&=(this.#t.before(this.#l),null))}update_pending_count(e){this.#x(e),this.#d+=e,this.#m&&Nt(this.#m,this.#d)}get_effect_pending(){return this.#h(),W(this.#m)}error(e){var t=this.#r.onerror;let n=this.#r.failed;if(this.#p||!t&&!n)throw e;this.#o&&=(Tn(this.#o),null),this.#s&&=(Tn(this.#s),null),this.#c&&=(Tn(this.#c),null),P&&(Te(this.#n),De(),Te(Oe()));var r=!1,i=!1;let a=()=>{if(r){Ce();return}r=!0,i&&N(),rt.ensure(),this.#d=0,this.#c!==null&&On(this.#c,()=>{this.#c=null}),this.#e=this.has_pending_snippet(),this.#o=this.#y(()=>(this.#p=!1,xn(()=>this.#i(this.#t)))),this.#f>0?this.#b():this.#e=!1};var o=Ln;try{zn(null),i=!0,t?.(e,a),i=!1}catch(e){Je(e,this.#a&&this.#a.parent)}finally{zn(o)}n&&Ge(()=>{this.#c=this.#y(()=>{rt.ensure(),this.#p=!0;try{return xn(()=>{n(this.#t,()=>e,()=>a)})}catch(e){return Je(e,this.#a.parent),null}finally{this.#p=!1}})})}};function gt(e,t,n,r){let i=Be()?yt:St;if(n.length===0&&e.length===0){r(t.map(i));return}var a=Xe,o=Bn,s=_t();function c(){Promise.all(n.map(e=>bt(e))).then(e=>{s();try{r([...t.map(i),...e])}catch(e){o.f&16384||Je(e,o)}a?.deactivate(),vt()}).catch(e=>{Je(e,o)})}e.length>0?Promise.all(e).then(()=>{s();try{return c()}finally{a?.deactivate(),vt()}}):c()}function _t(){var e=Bn,t=Ln,n=L,r=Xe;return function(i=!0){Vn(e),zn(t),Fe(n),i&&r?.activate()}}function vt(){Vn(null),zn(null),Fe(null)}function yt(e){var t=2|te,n=Ln!==null&&Ln.f&2?Ln:null;return Bn!==null&&(Bn.f|=ie),{ctx:L,deps:null,effects:null,equals:Ae,f:t,fn:e,reactions:null,rv:0,v:be,wv:0,parent:n??Bn,ac:null}}function bt(e,t){let n=Bn;n===null&&pe();var r=n.b,i=void 0,a=At(be),o=!Ln,s=new Map;return _n(()=>{var t=T();i=t.promise;try{Promise.resolve(e()).then(t.resolve,t.reject).then(()=>{n===Xe&&n.committed&&n.deactivate(),vt()})}catch(e){t.reject(e),vt()}var n=Xe;if(o){var c=!r.is_pending();r.update_pending_count(1),n.increment(c),s.get(n)?.reject(de),s.delete(n),s.set(n,t)}let l=(e,t=void 0)=>{if(n.activate(),t)t!==de&&(a.f|=se,Nt(a,t));else{a.f&8388608&&(a.f^=se),Nt(a,e);for(let[e,t]of s){if(s.delete(e),e===n)break;t.reject(de)}}o&&(r.update_pending_count(-1),n.decrement(c))};t.promise.then(l,e=>l(null,e||`unknown`))}),un(()=>{for(let e of s.values())e.reject(de)}),new Promise(e=>{function t(n){function r(){n===i?e(a):t(i)}n.then(r,r)}t(i)})}function xt(e){let t=yt(e);return Un(t),t}function St(e){let t=yt(e);return t.equals=Me,t}function Ct(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Tn(t[n])}}function wt(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t.f&16384?null:t;t=t.parent}return null}function Tt(e){var t,n=Bn;Vn(wt(e));try{e.f&=~oe,Ct(e),t=tr(e)}finally{Vn(n)}return t}function Et(e){var t=Tt(e);e.equals(t)||(Xe?.is_fork||(e.v=t),e.wv=Qn()),!Fn&&(Qe===null?lr(e,e.f&512?ee:E):(ln()||Xe?.is_fork)&&Qe.set(e,t))}let Dt=new Set;const Ot=new Map;var kt=!1;function At(e,t){return{f:0,v:e,reactions:null,equals:Ae,rv:0,wv:0}}function jt(e,t){let n=At(e,t);return Un(n),n}function R(e,t=!1,n=!0){let r=At(e);return t||(r.equals=Me),Ne&&n&&L!==null&&L.l!==null&&(L.l.s??=[]).push(r),r}function Mt(e,t){return z(e,G(()=>W(e))),t}function z(e,t,n=!1){return Ln!==null&&(!Rn||Ln.f&131072)&&Be()&&Ln.f&4325394&&!Hn?.includes(e)&&M(),Nt(e,n?Rt(t):t)}function Nt(e,t){if(!e.equals(t)){var n=e.v;Fn?Ot.set(e,t):Ot.set(e,n),e.v=t;var r=rt.ensure();r.capture(e,n),e.f&2&&(e.f&2048&&Tt(e),lr(e,e.f&512?ee:E)),e.wv=Qn(),Lt(e,te),Be()&&Bn!==null&&Bn.f&1024&&!(Bn.f&96)&&(Kn===null?qn([e]):Kn.push(e)),!r.is_fork&&Dt.size>0&&!kt&&Pt()}return t}function Pt(){kt=!1;var e=Nn;Pn(!0);let t=Array.from(Dt);try{for(let e of t)e.f&1024&&lr(e,E),$n(e)&&ir(e)}finally{Pn(e)}Dt.clear()}function Ft(e,t=1){var n=W(e),r=t===1?n++:n--;return z(e,n),r}function It(e){z(e,e.v+1)}function Lt(e,t){var n=e.reactions;if(n!==null)for(var r=Be(),i=n.length,a=0;a<i;a++){var o=n[a],s=o.f;if(!(!r&&o===Bn)){var c=(s&te)===0;if(c&&lr(o,t),s&2){var l=o;Qe?.delete(l),s&32768||(s&512&&(o.f|=oe),Lt(l,E))}else c&&(s&16&&st!==null&&st.add(o),dt(o))}}}function Rt(e){if(typeof e!=`object`||!e||ce in e)return e;let t=y(e);if(t!==_&&t!==v)return e;var n=new Map,r=d(e),i=jt(0),a=null,o=Xn,s=e=>{if(Xn===o)return e();var t=Ln,n=Xn;zn(null),Zn(o);var r=e();return zn(t),Zn(n),r};return r&&n.set(`length`,jt(e.length,a)),new Proxy(e,{defineProperty(e,t,r){(!(`value`in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&_e();var i=n.get(t);return i===void 0?i=s(()=>{var e=jt(r.value,a);return n.set(t,e),e}):z(i,r.value,!0),!0},deleteProperty(e,t){var r=n.get(t);if(r===void 0){if(t in e){let e=s(()=>jt(be,a));n.set(t,e),It(i)}}else z(r,be),It(i);return!0},get(t,r,i){if(r===ce)return e;var o=n.get(r),c=r in t;if(o===void 0&&(!c||h(t,r)?.writable)&&(o=s(()=>jt(Rt(c?t[r]:be),a)),n.set(r,o)),o!==void 0){var l=W(o);return l===be?void 0:l}return Reflect.get(t,r,i)},getOwnPropertyDescriptor(e,t){var r=Reflect.getOwnPropertyDescriptor(e,t);if(r&&`value`in r){var i=n.get(t);i&&(r.value=W(i))}else if(r===void 0){var a=n.get(t),o=a?.v;if(a!==void 0&&o!==be)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return r},has(e,t){if(t===ce)return!0;var r=n.get(t),i=r!==void 0&&r.v!==be||Reflect.has(e,t);return(r!==void 0||Bn!==null&&(!i||h(e,t)?.writable))&&(r===void 0&&(r=s(()=>jt(i?Rt(e[t]):be,a)),n.set(t,r)),W(r)===be)?!1:i},set(e,t,o,c){var l=n.get(t),u=t in e;if(r&&t===`length`)for(var d=o;d<l.v;d+=1){var f=n.get(d+``);f===void 0?d in e&&(f=s(()=>jt(be,a)),n.set(d+``,f)):z(f,be)}if(l===void 0)(!u||h(e,t)?.writable)&&(l=s(()=>jt(void 0,a)),z(l,Rt(o)),n.set(t,l));else{u=l.v!==be;var p=s(()=>Rt(o));z(l,p)}var m=Reflect.getOwnPropertyDescriptor(e,t);if(m?.set&&m.set.call(c,o),!u){if(r&&typeof t==`string`){var g=n.get(`length`),_=Number(t);Number.isInteger(_)&&_>=g.v&&z(g,_+1)}It(i)}return!0},ownKeys(e){W(i);var t=Reflect.ownKeys(e).filter(e=>{var t=n.get(e);return t===void 0||t.v!==be});for(var[r,a]of n)a.v!==be&&!(r in e)&&t.push(r);return t},setPrototypeOf(){ve()}})}function zt(e){try{if(typeof e==`object`&&e&&ce in e)return e[ce]}catch{}return e}function Bt(e,t){return Object.is(zt(e),zt(t))}var Vt,Ht,Ut,Wt,Gt;function Kt(){if(Vt===void 0){Vt=window,Ht=document,Ut=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Wt=h(t,`firstChild`).get,Gt=h(t,`nextSibling`).get,b(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),b(n)&&(n.__t=void 0)}}function qt(e=``){return document.createTextNode(e)}function Jt(e){return Wt.call(e)}function Yt(e){return Gt.call(e)}function B(e,t){if(!P)return Jt(e);var n=Jt(F);if(n===null)n=F.appendChild(qt());else if(t&&n.nodeType!==3){var r=qt();return n?.before(r),Te(r),r}return Te(n),n}function Xt(e,t=!1){if(!P){var n=Jt(e);return n instanceof Comment&&n.data===``?Yt(n):n}if(t&&F?.nodeType!==3){var r=qt();return F?.before(r),Te(r),r}return F}function V(e,t=1,n=!1){let r=P?F:e;for(var i;t--;)i=r,r=Yt(r);if(!P)return r;if(n&&r?.nodeType!==3){var a=qt();return r===null?i?.after(a):r.before(a),Te(a),a}return Te(r),r}function Zt(e){e.textContent=``}function Qt(){return!1}function $t(e,t){if(t){let t=document.body;e.autofocus=!0,Ge(()=>{document.activeElement===t&&e.focus()})}}function en(e){P&&Jt(e)!==null&&Zt(e)}var tn=!1;function nn(){tn||(tn=!0,document.addEventListener(`reset`,e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function rn(e){var t=Ln,n=Bn;zn(null),Vn(null);try{return e()}finally{zn(t),Vn(n)}}function an(e,t,n,r=n){e.addEventListener(t,()=>rn(n));let i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),nn()}function on(e){Bn===null&&(Ln===null&&he(e),k()),Fn&&me(e)}function sn(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function cn(e,t,n){var r=Bn;r!==null&&r.f&8192&&(e|=ne);var i={ctx:L,deps:null,nodes:null,f:e|2560,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ir(i),i.f|=32768}catch(e){throw Tn(i),e}else t!==null&&dt(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&!(a.f&524288)&&(a=a.first,e&16&&e&65536&&a!==null&&(a.f|=re)),a!==null&&(a.parent=r,r!==null&&sn(a,r),Ln!==null&&Ln.f&2&&!(e&64))){var o=Ln;(o.effects??=[]).push(a)}return i}function ln(){return Ln!==null&&!Rn}function un(e){let t=cn(8,null,!1);return lr(t,ee),t.teardown=e,t}function dn(e){on(`$effect`);var t=Bn.f;if(!Ln&&t&32&&!(t&32768)){var n=L;(n.e??=[]).push(e)}else return fn(e)}function fn(e){return cn(4|ae,e,!1)}function pn(e){return on(`$effect.pre`),cn(8|ae,e,!0)}function mn(e){rt.ensure();let t=cn(64|ie,e,!0);return(e={})=>new Promise(n=>{e.outro?On(t,()=>{Tn(t),n(void 0)}):(Tn(t),n(void 0))})}function hn(e){return cn(4,e,!1)}function H(e,t){var n=L,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=vn(()=>{e(),!r.ran&&(r.ran=!0,G(t))})}function gn(){var e=L;vn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&1024&&lr(n,E),$n(n)&&ir(n),t.ran=!1}})}function _n(e){return cn(4194304|ie,e,!0)}function vn(e,t=0){return cn(8|t,e,!0)}function U(e,t=[],n=[],r=[]){gt(r,t,n,t=>{cn(8,()=>e(...t.map(W)),!0)})}function yn(e,t=0){return cn(16|t,e,!0)}function bn(e,t=0){return cn(16777216|t,e,!0)}function xn(e){return cn(32|ie,e,!0)}function Sn(e){var t=e.teardown;if(t!==null){let e=Fn,n=Ln;In(!0),zn(null);try{t.call(null)}finally{In(e),zn(n)}}}function Cn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let e=n.ac;e!==null&&rn(()=>{e.abort(de)});var r=n.next;n.f&64?n.parent=null:Tn(n,t),n=r}}function wn(e){for(var t=e.first;t!==null;){var n=t.next;t.f&32||Tn(t),t=n}}function Tn(e,t=!0){var n=!1;(t||e.f&262144)&&e.nodes!==null&&e.nodes.end!==null&&(En(e.nodes.start,e.nodes.end),n=!0),Cn(e,t&&!n),rr(e,0),lr(e,16384);var r=e.nodes&&e.nodes.t;if(r!==null)for(let e of r)e.stop();Sn(e);var i=e.parent;i!==null&&i.first!==null&&Dn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function En(e,t){for(;e!==null;){var n=e===t?null:Yt(e);e.remove(),e=n}}function Dn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function On(e,t,n=!0){var r=[];kn(e,r,!0);var i=()=>{n&&Tn(e),t&&t()},a=r.length;if(a>0){var o=()=>--a||i();for(var s of r)s.out(o)}else i()}function kn(e,t,n){if(!(e.f&8192)){e.f^=ne;var r=e.nodes&&e.nodes.t;if(r!==null)for(let e of r)(e.is_global||n)&&t.push(e);for(var i=e.first;i!==null;){var a=i.next,o=(i.f&65536)!=0||(i.f&32)!=0&&(e.f&16)!=0;kn(i,t,o?n:!1),i=a}}}function An(e){jn(e,!0)}function jn(e,t){if(e.f&8192){e.f^=ne,e.f&1024||(lr(e,te),dt(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&65536)!=0||(n.f&32)!=0;jn(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(let e of a)(e.is_global||t)&&e.in()}}function Mn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Yt(n);t.append(n),n=i}}let Nn=!1;function Pn(e){Nn=e}let Fn=!1;function In(e){Fn=e}let Ln=null,Rn=!1;function zn(e){Ln=e}let Bn=null;function Vn(e){Bn=e}let Hn=null;function Un(e){Ln!==null&&(Hn===null?Hn=[e]:Hn.push(e))}var Wn=null,Gn=0;let Kn=null;function qn(e){Kn=e}let Jn=1;var Yn=0;let Xn=Yn;function Zn(e){Xn=e}function Qn(){return++Jn}function $n(e){var t=e.f;if(t&2048)return!0;if(t&2&&(e.f&=~oe),t&4096){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var a=n[i];if($n(a)&&Et(a),a.wv>e.wv)return!0}t&512&&Qe===null&&lr(e,ee)}return!1}function er(e,t,n=!0){var r=e.reactions;if(r!==null&&!Hn?.includes(e))for(var i=0;i<r.length;i++){var a=r[i];a.f&2?er(a,t,!1):t===a&&(n?lr(a,te):a.f&1024&&lr(a,E),dt(a))}}function tr(e){var t=Wn,n=Gn,r=Kn,i=Ln,a=Hn,o=L,s=Rn,c=Xn,l=e.f;Wn=null,Gn=0,Kn=null,Ln=l&96?null:e,Hn=null,Fe(e.ctx),Rn=!1,Xn=++Yn,e.ac!==null&&(rn(()=>{e.ac.abort(de)}),e.ac=null);try{e.f|=O;var u=e.fn,d=u(),f=e.deps;if(Wn!==null){var p;if(rr(e,Gn),f!==null&&Gn>0)for(f.length=Gn+Wn.length,p=0;p<Wn.length;p++)f[Gn+p]=Wn[p];else e.deps=f=Wn;if(ln()&&e.f&512)for(p=Gn;p<f.length;p++)(f[p].reactions??=[]).push(e)}else f!==null&&Gn<f.length&&(rr(e,Gn),f.length=Gn);if(Be()&&Kn!==null&&!Rn&&f!==null&&!(e.f&6146))for(p=0;p<Kn.length;p++)er(Kn[p],e);return i!==null&&i!==e&&(Yn++,Kn!==null&&(r===null?r=Kn:r.push(...Kn))),e.f&8388608&&(e.f^=se),d}catch(e){return qe(e)}finally{e.f^=O,Wn=t,Gn=n,Kn=r,Ln=i,Hn=a,Fe(o),Rn=s,Xn=c}}function nr(e,t){let n=t.reactions;if(n!==null){var r=f.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&2&&(Wn===null||!Wn.includes(t))&&(lr(t,E),t.f&512&&(t.f^=512,t.f&=~oe),Ct(t),rr(t,0))}function rr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)nr(e,n[r])}function ir(e){var t=e.f;if(!(t&16384)){lr(e,ee);var n=Bn,r=Nn;Bn=e,Nn=!0;try{t&16777232?wn(e):Cn(e),Sn(e);var i=tr(e);e.teardown=typeof i==`function`?i:null,e.wv=Jn}finally{Nn=r,Bn=n}}}async function ar(){await Promise.resolve(),it()}function W(e){var t=(e.f&2)!=0;if(null?.add(e),Ln!==null&&!Rn&&!(Bn!==null&&Bn.f&16384)&&!Hn?.includes(e)){var n=Ln.deps;if(Ln.f&2097152)e.rv<Yn&&(e.rv=Yn,Wn===null&&n!==null&&n[Gn]===e?Gn++:Wn===null?Wn=[e]:Wn.includes(e)||Wn.push(e));else{(Ln.deps??=[]).push(e);var r=e.reactions;r===null?e.reactions=[Ln]:r.includes(Ln)||r.push(Ln)}}if(Fn){if(Ot.has(e))return Ot.get(e);if(t){var i=e,a=i.v;return(!(i.f&1024)&&i.reactions!==null||sr(i))&&(a=Tt(i)),Ot.set(i,a),a}}else t&&(!Qe?.has(e)||Xe?.is_fork&&!ln())&&(i=e,$n(i)&&Et(i),Nn&&ln()&&!(i.f&512)&&or(i));if(Qe?.has(e))return Qe.get(e);if(e.f&8388608)throw e.v;return e.v}function or(e){if(e.deps!==null){e.f^=512;for(let t of e.deps)(t.reactions??=[]).push(e),t.f&2&&!(t.f&512)&&or(t)}}function sr(e){if(e.v===be)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(Ot.has(t)||t.f&2&&sr(t))return!0;return!1}function G(e){var t=Rn;try{return Rn=!0,e()}finally{Rn=t}}var cr=~(E|3072);function lr(e,t){e.f=e.f&cr|t}function K(e){if(!(typeof e!=`object`||!e||e instanceof EventTarget)){if(ce in e)ur(e);else if(!Array.isArray(e))for(let t in e){let n=e[t];typeof n==`object`&&n&&ce in n&&ur(n)}}}function ur(e,t=new Set){if(typeof e==`object`&&e&&!(e instanceof EventTarget)&&!t.has(e)){for(let n in t.add(e),e instanceof Date&&e.getTime(),e)try{ur(e[n],t)}catch{}let n=y(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let t=g(n);for(let n in t){let r=t[n].get;if(r)try{r.call(e)}catch{}}}}}function dr(e){return e.endsWith(`capture`)&&e!==`gotpointercapture`&&e!==`lostpointercapture`}var fr=[`beforeinput`,`click`,`change`,`dblclick`,`contextmenu`,`focusin`,`focusout`,`input`,`keydown`,`keyup`,`mousedown`,`mousemove`,`mouseout`,`mouseover`,`mouseup`,`pointerdown`,`pointermove`,`pointerout`,`pointerover`,`pointerup`,`touchend`,`touchmove`,`touchstart`];function pr(e){return fr.includes(e)}var mr=`allowfullscreen.async.autofocus.autoplay.checked.controls.default.disabled.formnovalidate.indeterminate.inert.ismap.loop.multiple.muted.nomodule.novalidate.open.playsinline.readonly.required.reversed.seamless.selected.webkitdirectory.defer.disablepictureinpicture.disableremoteplayback`.split(`.`),hr={formnovalidate:`formNoValidate`,ismap:`isMap`,nomodule:`noModule`,playsinline:`playsInline`,readonly:`readOnly`,defaultvalue:`defaultValue`,defaultchecked:`defaultChecked`,srcobject:`srcObject`,novalidate:`noValidate`,allowfullscreen:`allowFullscreen`,disablepictureinpicture:`disablePictureInPicture`,disableremoteplayback:`disableRemotePlayback`};function gr(e){return e=e.toLowerCase(),hr[e]??e}[...mr];var _r=[`touchstart`,`touchmove`];function vr(e){return _r.includes(e)}const yr=new Set,br=new Set;function xr(e,t,n,r={}){function i(e){if(r.capture||wr.call(t,e),!e.cancelBubble)return rn(()=>n?.call(this,e))}return e.startsWith(`pointer`)||e.startsWith(`touch`)||e===`wheel`?Ge(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function q(e,t,n,r,i){var a={capture:r,passive:i},o=xr(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&un(()=>{t.removeEventListener(e,o,a)})}function Sr(e){for(var t=0;t<e.length;t++)yr.add(e[t]);for(var n of br)n(e)}var Cr=null;function wr(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;Cr=e;var o=0,s=Cr===e&&e.__root;if(s){var c=i.indexOf(s);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var l=i.indexOf(t);if(l===-1)return;c<=l&&(o=c)}if(a=i[o]||e.target,a!==t){m(e,`currentTarget`,{configurable:!0,get(){return a||n}});var u=Ln,d=Bn;zn(null),Vn(null);try{for(var f,p=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var g=a[`__`+r];g!=null&&(!a.disabled||e.target===a)&&g.call(a,e)}catch(e){f?p.push(e):f=e}if(e.cancelBubble||h===t||h===null)break;a=h}if(f){for(let e of p)queueMicrotask(()=>{throw e});throw f}}finally{e.__root=t,delete e.currentTarget,zn(u),Vn(d)}}}function Tr(e){var t=document.createElement(`template`);return t.innerHTML=e.replaceAll(`<!>`,`\x3C!---->`),t.content}function Er(e,t){var n=Bn;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function J(e,t){var n=(t&1)!=0,r=(t&2)!=0,i,a=!e.startsWith(`<!>`);return()=>{if(P)return Er(F,null),F;i===void 0&&(i=Tr(a?e:`<!>`+e),n||(i=Jt(i)));var t=r||Ut?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Jt(t),s=t.lastChild;Er(o,s)}else Er(t,t);return t}}function Dr(e,t,n=`svg`){var r=!e.startsWith(`<!>`),i=(t&1)!=0,a=`<${n}>${r?e:`<!>`+e}</${n}>`,o;return()=>{if(P)return Er(F,null),F;if(!o){var e=Jt(Tr(a));if(i)for(o=document.createDocumentFragment();Jt(e);)o.appendChild(Jt(e));else o=Jt(e)}var t=o.cloneNode(!0);if(i){var n=Jt(t),r=t.lastChild;Er(n,r)}else Er(t,t);return t}}function Or(e,t){return Dr(e,t,`svg`)}function kr(e=``){if(!P){var t=qt(e+``);return Er(t,t),t}var n=F;return n.nodeType!==3&&(n.before(n=qt()),Te(n)),Er(n,n),n}function Ar(){if(P)return Er(F,null),F;var e=document.createDocumentFragment(),t=document.createComment(``),n=qt();return e.append(t,n),Er(t,n),e}function Y(e,t){if(P){var n=Bn;(!(n.f&32768)||n.nodes.end===null)&&(n.nodes.end=F),Ee();return}e!==null&&e.before(t)}function jr(e,t){var n=t==null?``:typeof t==`object`?t+``:t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+``)}function Mr(e,t){return Pr(e,t)}var Nr=new Map;function Pr(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:o=!0}){Kt();var s=new Set,c=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!s.has(r)){s.add(r);var i=vr(r);t.addEventListener(r,wr,{passive:i});var a=Nr.get(r);a===void 0?(document.addEventListener(r,wr,{passive:i}),Nr.set(r,1)):Nr.set(r,a+1)}}};c(p(yr)),br.add(c);var l=void 0,u=mn(()=>{var o=n??t.appendChild(qt());return mt(o,{pending:()=>{}},t=>{if(a){Re({});var n=L;n.c=a}if(i&&(r.$$events=i),P&&Er(t,null),l=e(t,r)||{},P&&(Bn.nodes.end=F,F===null||F.nodeType!==8||F.data!==`]`))throw xe(),ye;a&&ze()}),()=>{for(var e of s){t.removeEventListener(e,wr);var r=Nr.get(e);--r===0?(document.removeEventListener(e,wr),Nr.delete(e)):Nr.set(e,r)}br.delete(c),o!==n&&o.parentNode?.removeChild(o)}});return Fr.set(l,u),l}var Fr=new WeakMap,Ir=class{anchor;#e=new Map;#t=new Map;#n=new Map;#r=new Set;#i=!0;constructor(e,t=!0){this.anchor=e,this.#i=t}#a=()=>{var e=Xe;if(this.#e.has(e)){var t=this.#e.get(e),n=this.#t.get(t);if(n)An(n),this.#r.delete(t);else{var r=this.#n.get(t);r&&(this.#t.set(t,r.effect),this.#n.delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),n=r.effect)}for(let[t,n]of this.#e){if(this.#e.delete(t),t===e)break;let r=this.#n.get(n);r&&(Tn(r.effect),this.#n.delete(n))}for(let[e,r]of this.#t){if(e===t||this.#r.has(e))continue;let i=()=>{if(Array.from(this.#e.values()).includes(e)){var t=document.createDocumentFragment();Mn(r,t),t.append(qt()),this.#n.set(e,{effect:r,fragment:t})}else Tn(r);this.#r.delete(e),this.#t.delete(e)};this.#i||!n?(this.#r.add(e),On(r,i,!1)):i()}}};#o=e=>{this.#e.delete(e);let t=Array.from(this.#e.values());for(let[e,n]of this.#n)t.includes(e)||(Tn(n.effect),this.#n.delete(e))};ensure(e,t){var n=Xe,r=Qt();if(t&&!this.#t.has(e)&&!this.#n.has(e))if(r){var i=document.createDocumentFragment(),a=qt();i.append(a),this.#n.set(e,{effect:xn(()=>t(a)),fragment:i})}else this.#t.set(e,xn(()=>t(this.anchor)));if(this.#e.set(n,e),r){for(let[t,r]of this.#t)t===e?n.skipped_effects.delete(r):n.skipped_effects.add(r);for(let[t,r]of this.#n)t===e?n.skipped_effects.delete(r.effect):n.skipped_effects.add(r.effect);n.oncommit(this.#a),n.ondiscard(this.#o)}else P&&(this.anchor=F),this.#a()}};function X(e,t,n=!1){P&&Ee();var r=new Ir(e),i=n?re:0;function a(t,n){if(P&&t===(ke(e)===`[!`)){var i=Oe();Te(i),r.anchor=i,we(!1),r.ensure(t,n),we(!0);return}r.ensure(t,n)}yn(()=>{var e=!1;t((t,n=!0)=>{e=!0,a(n,t)}),e||a(!1,null)},i)}function Lr(e,t,n){P&&Ee();var r=new Ir(e),i=!Be();yn(()=>{var e=t();i&&typeof e==`object`&&e&&(e={}),r.ensure(e,n)})}function Rr(e,t){return t}function zr(e,t,n){for(var r=[],i=t.length,a,o=t.length,s=0;s<i;s++){let n=t[s];On(n,()=>{if(a){if(a.pending.delete(n),a.done.add(n),a.pending.size===0){var t=e.outrogroups;Br(p(a.done)),t.delete(a),t.size===0&&(e.outrogroups=null)}}else --o},!1)}if(o===0){var c=r.length===0&&n!==null;if(c){var l=n,u=l.parentNode;Zt(u),u.append(l),e.items.clear()}Br(t,!c)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function Br(e,t=!0){for(var n=0;n<e.length;n++)Tn(e[n],t)}var Vr;function Hr(e,t,n,r,i,a=null){var o=e,s=new Map;if(t&4){var c=e;o=P?Te(Jt(c)):c.appendChild(qt())}P&&Ee();var l=null,u=St(()=>{var e=n();return d(e)?e:e==null?[]:p(e)}),f,m=!0;function h(){g.fallback=l,Ur(g,f,o,t,r),l!==null&&(f.length===0?l.f&33554432?(l.f^=D,Gr(l,null,o)):An(l):On(l,()=>{l=null}))}var g={effect:yn(()=>{f=W(u);var e=f.length;let c=!1;P&&ke(o)===`[!`!=(e===0)&&(o=Oe(),Te(o),we(!1),c=!0);for(var d=new Set,p=Xe,g=Qt(),_=0;_<e;_+=1){P&&F.nodeType===8&&F.data===`]`&&(o=F,c=!0,we(!1));var v=f[_],y=r(v,_),b=m?null:s.get(y);b?(b.v&&Nt(b.v,v),b.i&&Nt(b.i,_),g&&p.skipped_effects.delete(b.e)):(b=Wr(s,m?o:Vr??=qt(),v,y,_,i,t,n),m||(b.e.f|=D),s.set(y,b)),d.add(y)}if(e===0&&a&&!l&&(m?l=xn(()=>a(o)):(l=xn(()=>a(Vr??=qt())),l.f|=D)),P&&e>0&&Te(Oe()),!m)if(g){for(let[e,t]of s)d.has(e)||p.skipped_effects.add(t.e);p.oncommit(h),p.ondiscard(()=>{})}else h();c&&we(!0),W(u)}),flags:t,items:s,outrogroups:null,fallback:l};m=!1,P&&(o=F)}function Ur(e,t,n,r,i){var a=(r&8)!=0,o=t.length,s=e.items,c=e.effect.first,l,u=null,d,f=[],m=[],h,g,_,v;if(a)for(v=0;v<o;v+=1)h=t[v],g=i(h,v),_=s.get(g).e,_.f&33554432||(_.nodes?.a?.measure(),(d??=new Set).add(_));for(v=0;v<o;v+=1){if(h=t[v],g=i(h,v),_=s.get(g).e,e.outrogroups!==null)for(let t of e.outrogroups)t.pending.delete(_),t.done.delete(_);if(_.f&33554432)if(_.f^=D,_===c)Gr(_,null,n);else{var y=u?u.next:c;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Kr(e,u,_),Kr(e,_,y),Gr(_,y,n),u=_,f=[],m=[],c=u.next;continue}if(_.f&8192&&(An(_),a&&(_.nodes?.a?.unfix(),(d??=new Set).delete(_))),_!==c){if(l!==void 0&&l.has(_)){if(f.length<m.length){var b=m[0],x;u=b.prev;var S=f[0],C=f[f.length-1];for(x=0;x<f.length;x+=1)Gr(f[x],b,n);for(x=0;x<m.length;x+=1)l.delete(m[x]);Kr(e,S.prev,C.next),Kr(e,u,S),Kr(e,C,b),c=b,u=C,--v,f=[],m=[]}else l.delete(_),Gr(_,c,n),Kr(e,_.prev,_.next),Kr(e,_,u===null?e.effect.first:u.next),Kr(e,u,_),u=_;continue}for(f=[],m=[];c!==null&&c!==_;)(l??=new Set).add(c),m.push(c),c=c.next;if(c===null)continue}_.f&33554432||f.push(_),u=_,c=_.next}if(e.outrogroups!==null){for(let t of e.outrogroups)t.pending.size===0&&(Br(p(t.done)),e.outrogroups?.delete(t));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||l!==void 0){var w=[];if(l!==void 0)for(_ of l)_.f&8192||w.push(_);for(;c!==null;)!(c.f&8192)&&c!==e.fallback&&w.push(c),c=c.next;var T=w.length;if(T>0){var ee=r&4&&o===0?n:null;if(a){for(v=0;v<T;v+=1)w[v].nodes?.a?.measure();for(v=0;v<T;v+=1)w[v].nodes?.a?.fix()}zr(e,w,ee)}}a&&Ge(()=>{if(d!==void 0)for(_ of d)_.nodes?.a?.apply()})}function Wr(e,t,n,r,i,a,o,s){var c=o&1?o&16?At(n):R(n,!1,!1):null,l=o&2?At(i):null;return{v:c,i:l,e:xn(()=>(a(t,c??n,l??i,s),()=>{e.delete(r)}))}}function Gr(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&!(t.f&33554432)?t.nodes.start:n;r!==null;){var o=Yt(r);if(a.before(r),r===i)return;r=o}}function Kr(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function qr(e,t,n=!1,r=!1,i=!1){var a=e,o=``;U(()=>{var e=Bn;if(o===(o=t()??``)){P&&Ee();return}if(e.nodes!==null&&(En(e.nodes.start,e.nodes.end),e.nodes=null),o!==``){if(P){for(var i=F.data,s=Ee(),c=s;s!==null&&(s.nodeType!==8||s.data!==``);)c=s,s=Yt(s);if(s===null)throw xe(),ye;Er(F,c),a=Te(s);return}var l=o+``;n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var u=Tr(l);if((n||r)&&(u=Jt(u)),Er(Jt(u),u.lastChild),n||r)for(;Jt(u);)a.before(Jt(u));else a.before(u)}})}function Jr(e,t,n,r,i){P&&Ee();var a=t.$$slots?.[n],o=!1;a===!0&&(a=t[n===`default`?`children`:n],o=!0),a===void 0?i!==null&&i(e):a(e,o?()=>r:r)}function Yr(e){let t={};for(let n in e.children&&(t.default=!0),e.$$slots)t[n]=!0;return t}function Xr(e,t,...n){var r=new Ir(e);yn(()=>{let e=t()??null;r.ensure(e,e&&(t=>e(t,...n)))},re)}function Zr(e,t,n){P&&Ee();var r=new Ir(e);yn(()=>{var e=t()??null;r.ensure(e,e&&(t=>n(t,e)))},re)}function Qr(e,t){let n=null,r=P;var i;if(P){n=F;for(var a=Jt(document.head);a!==null&&(a.nodeType!==8||a.data!==e);)a=Yt(a);if(a===null)we(!1);else{var o=Yt(a);a.remove(),Te(o)}}P||(i=document.head.appendChild(qt()));try{yn(()=>t(i),262144)}finally{r&&(we(!0),Te(n))}}function $r(e,t,n){hn(()=>{var r=G(()=>t(e,n?.())||{});if(n&&r?.update){var i=!1,a={};vn(()=>{var e=n();K(e),i&&je(a,e)&&(a=e,r.update(e))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function ei(e,t){var n=void 0,r;bn(()=>{n!==(n=t())&&(r&&=(Tn(r),null),n&&(r=xn(()=>{hn(()=>n(e))})))})}function ti(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ti(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function ni(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ti(e))&&(r&&(r+=` `),r+=t);return r}function ri(e){return typeof e==`object`?ni(e):e??``}var ii=[...` 	
\r\f\xA0\vï»¿`];function ai(e,t,n){var r=e==null?``:``+e;if(t&&(r=r?r+` `+t:t),n){for(var i in n)if(n[i])r=r?r+` `+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var s=o+a;(o===0||ii.includes(r[o-1]))&&(s===r.length||ii.includes(r[s]))?r=(o===0?``:r.substring(0,o))+r.substring(s+1):o=s}}return r===``?null:r}function oi(e,t=!1){var n=t?` !important;`:`;`,r=``;for(var i in e){var a=e[i];a!=null&&a!==``&&(r+=` `+i+`: `+a+n)}return r}function si(e){return e[0]!==`-`||e[1]!==`-`?e.toLowerCase():e}function ci(e,t){if(t){var n=``,r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,``).trim();var a=!1,o=0,s=!1,c=[];r&&c.push(...Object.keys(r).map(si)),i&&c.push(...Object.keys(i).map(si));var l=0,u=-1;let t=e.length;for(var d=0;d<t;d++){var f=e[d];if(s?f===`/`&&e[d-1]===`*`&&(s=!1):a?a===f&&(a=!1):f===`/`&&e[d+1]===`*`?s=!0:f===`"`||f===`'`?a=f:f===`(`?o++:f===`)`&&o--,!s&&a===!1&&o===0){if(f===`:`&&u===-1)u=d;else if(f===`;`||d===t-1){if(u!==-1){var p=si(e.substring(l,u).trim());if(!c.includes(p)){f!==`;`&&d++;var m=e.substring(l,d).trim();n+=` `+m+`;`}}l=d+1,u=-1}}}}return r&&(n+=oi(r)),i&&(n+=oi(i,!0)),n=n.trim(),n===``?null:n}return e==null?null:String(e)}function li(e,t,n,r,i,a){var o=e.__className;if(P||o!==n||o===void 0){var s=ai(n,r,a);(!P||s!==e.getAttribute(`class`))&&(s==null?e.removeAttribute(`class`):t?e.className=s:e.setAttribute(`class`,s)),e.__className=n}else if(a&&i!==a)for(var c in a){var l=!!a[c];(i==null||l!==!!i[c])&&e.classList.toggle(c,l)}return a}function ui(e,t={},n,r){for(var i in n){var a=n[i];t[i]!==a&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,r))}}function di(e,t,n,r){var i=e.__style;if(P||i!==t){var a=ci(t,r);(!P||a!==e.getAttribute(`style`))&&(a==null?e.removeAttribute(`style`):e.style.cssText=a),e.__style=t}else r&&(Array.isArray(r)?(ui(e,n?.[0],r[0]),ui(e,n?.[1],r[1],`important`)):ui(e,n,r));return r}function fi(e,t,n=!1){if(e.multiple){if(t==null)return;if(!d(t))return Se();for(var r of e.options)r.selected=t.includes(mi(r));return}for(r of e.options)if(Bt(mi(r),t)){r.selected=!0;return}(!n||t!==void 0)&&(e.selectedIndex=-1)}function pi(e){var t=new MutationObserver(()=>{fi(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[`value`]}),un(()=>{t.disconnect()})}function mi(e){return`__value`in e?e.__value:e.value}const hi=Symbol(`class`),gi=Symbol(`style`);var _i=Symbol(`is custom element`),vi=Symbol(`is html`);function yi(e){if(P){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute(`value`)){var n=e.value;Si(e,`value`,null),e.value=n}if(e.hasAttribute(`checked`)){var r=e.checked;Si(e,`checked`,null),e.checked=r}}};e.__on_r=n,Ge(n),nn()}}function bi(e,t){var n=Ti(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==`PROGRESS`)||(e.value=t??``)}function xi(e,t){t?e.hasAttribute(`selected`)||e.setAttribute(`selected`,``):e.removeAttribute(`selected`)}function Si(e,t,n,r){var i=Ti(e);P&&(i[t]=e.getAttribute(t),t===`src`||t===`srcset`||t===`href`&&e.nodeName===`LINK`)||i[t]!==(i[t]=n)&&(t===`loading`&&(e[ue]=n),n==null?e.removeAttribute(t):typeof n!=`string`&&Di(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ci(e,t,n,r,i=!1,a=!1){if(P&&i&&e.tagName===`INPUT`){var o=e;(o.type===`checkbox`?`defaultChecked`:`defaultValue`)in n||yi(o)}var s=Ti(e),c=s[_i],l=!s[vi];let u=P&&c;u&&we(!1);var d=t||{},f=e.tagName===`OPTION`;for(var p in t)p in n||(n[p]=null);n.class?n.class=ri(n.class):(r||n[hi])&&(n.class=null),n[gi]&&(n.style??=null);var m=Di(e);for(let i in n){let o=n[i];if(f&&i===`value`&&o==null){e.value=e.__value=``,d[i]=o;continue}if(i===`class`){li(e,e.namespaceURI===`http://www.w3.org/1999/xhtml`,o,r,t?.[hi],n[hi]),d[i]=o,d[hi]=n[hi];continue}if(i===`style`){di(e,o,t?.[gi],n[gi]),d[i]=o,d[gi]=n[gi];continue}var h=d[i];if(!(o===h&&!(o===void 0&&e.hasAttribute(i)))){d[i]=o;var g=i[0]+i[1];if(g!==`$$`)if(g===`on`){let t={},n=`$$`+i,r=i.slice(2);var _=pr(r);if(dr(r)&&(r=r.slice(0,-7),t.capture=!0),!_&&h){if(o!=null)continue;e.removeEventListener(r,d[n],t),d[n]=null}if(o!=null)if(_)e[`__${r}`]=o,Sr([r]);else{function a(e){d[i].call(this,e)}d[n]=xr(r,e,a,t)}else _&&(e[`__${r}`]=void 0)}else if(i===`style`)Si(e,i,o);else if(i===`autofocus`)$t(e,!!o);else if(!c&&(i===`__value`||i===`value`&&o!=null))e.value=e.__value=o;else if(i===`selected`&&f)xi(e,o);else{var v=i;l||(v=gr(v));var y=v===`defaultValue`||v===`defaultChecked`;if(o==null&&!c&&!y)if(s[i]=null,v===`value`||v===`checked`){let n=e,r=t===void 0;if(v===`value`){let e=n.defaultValue;n.removeAttribute(v),n.defaultValue=e,n.value=n.__value=r?e:null}else{let e=n.defaultChecked;n.removeAttribute(v),n.defaultChecked=e,n.checked=r?e:!1}}else e.removeAttribute(i);else y||m.includes(v)&&(c||typeof o!=`string`)?(e[v]=o,v in s&&(s[v]=be)):typeof o!=`function`&&Si(e,v,o,a)}}}return u&&we(!0),d}function wi(e,t,n=[],r=[],i=[],a,o=!1,s=!1){gt(i,n,r,n=>{var r=void 0,i={},c=e.nodeName===`SELECT`,l=!1;if(bn(()=>{var u=t(...n.map(W)),d=Ci(e,r,u,a,o,s);l&&c&&`value`in u&&fi(e,u.value);for(let e of Object.getOwnPropertySymbols(i))u[e]||Tn(i[e]);for(let t of Object.getOwnPropertySymbols(u)){var f=u[t];t.description===`@attach`&&(!r||f!==r[t])&&(i[t]&&Tn(i[t]),i[t]=xn(()=>ei(e,()=>f))),d[t]=f}r=d}),c){var u=e;hn(()=>{fi(u,r.value,!0),pi(u)})}l=!0})}function Ti(e){return e.__attributes??={[_i]:e.nodeName.includes(`-`),[vi]:e.namespaceURI===`http://www.w3.org/1999/xhtml`}}var Ei=new Map;function Di(e){var t=e.getAttribute(`is`)||e.nodeName,n=Ei.get(t);if(n)return n;Ei.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){for(var o in r=g(i),r)r[o].set&&n.push(o);i=y(i)}return n}function Oi(e,t,n=t){var r=new WeakSet;an(e,`input`,async i=>{var a=i?e.defaultValue:e.value;if(a=ki(e)?Ai(a):a,n(a),Xe!==null&&r.add(Xe),await ar(),a!==(a=t())){var o=e.selectionStart,s=e.selectionEnd,c=e.value.length;if(e.value=a??``,s!==null){var l=e.value.length;o===s&&s===c&&l>c?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=o,e.selectionEnd=Math.min(s,l))}}}),(P&&e.defaultValue!==e.value||G(t)==null&&e.value)&&(n(ki(e)?Ai(e.value):e.value),Xe!==null&&r.add(Xe)),vn(()=>{var n=t();if(e===document.activeElement){var i=Ze??Xe;if(r.has(i))return}ki(e)&&n===Ai(e.value)||e.type===`date`&&!n&&!e.value||n!==e.value&&(e.value=n??``)})}function ki(e){var t=e.type;return t===`number`||t===`range`}function Ai(e){return e===``?null:+e}function ji(e,t,n){var r=h(e,t);r&&r.set&&(e[t]=n,un(()=>{e[t]=null}))}function Mi(e,t){return e===t||e?.[ce]===t}function Ni(e={},t,n,r){return hn(()=>{var i,a;return vn(()=>{i=a,a=r?.()||[],G(()=>{e!==n(...a)&&(t(e,...a),i&&Mi(n(...i),e)&&t(null,...i))})}),()=>{Ge(()=>{a&&Mi(n(...a),e)&&t(null,...a)})}}),e}function Pi(e){return function(...t){t[0].target===this&&e?.apply(this,t)}}function Fi(e){return function(...t){return t[0].stopPropagation(),e?.apply(this,t)}}function Ii(e){return function(...t){return t[0].preventDefault(),e?.apply(this,t)}}function Li(e=!1){let t=L,n=t.l.u;if(!n)return;let r=()=>K(t.s);if(e){let e=0,n={},i=yt(()=>{let r=!1,i=t.s;for(let e in i)i[e]!==n[e]&&(n[e]=i[e],r=!0);return r&&e++,e});r=()=>W(i)}n.b.length&&pn(()=>{Ri(t,r),w(n.b)}),dn(()=>{let e=G(()=>n.m.map(C));return()=>{for(let t of e)typeof t==`function`&&t()}}),n.a.length&&dn(()=>{Ri(t,r),w(n.a)})}function Ri(e,t){if(e.l.s)for(let t of e.l.s)W(t);t()}function zi(e){var t=At(0);return function(){return arguments.length===1?(z(t,W(t)+1),arguments[0]):(W(t),e())}}function Bi(e,t){var n=e.$$events?.[t.type];for(var r of d(n)?n.slice():n==null?[]:[n])r.call(this,t)}var Vi=!1;function Hi(e){var t=Vi;try{return Vi=!1,[e(),Vi]}finally{Vi=t}}var Ui={get(e,t){if(!e.exclude.includes(t))return W(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=Bn;try{Vn(e.parent_effect),e.special[t]=Z({get[t](){return e.props[t]}},t,4)}finally{Vn(r)}}return e.special[t](n),Ft(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)?!0:(e.exclude.push(t),Ft(e.version),!0)},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Wi(e,t){return new Proxy({props:e,exclude:t,special:{},version:At(0),parent_effect:Bn},Ui)}var Gi={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(x(r)&&(r=r()),typeof r==`object`&&r&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];x(i)&&(i=i());let a=h(i,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(x(r)&&(r=r()),typeof r==`object`&&r&&t in r){let e=h(r,t);return e&&!e.configurable&&(e.configurable=!0),e}}},has(e,t){if(t===ce||t===le)return!1;for(let n of e.props)if(x(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){let t=[];for(let n of e.props)if(x(n)&&(n=n()),n){for(let e in n)t.includes(e)||t.push(e);for(let e of Object.getOwnPropertySymbols(n))t.includes(e)||t.push(e)}return t}};function Ki(...e){return new Proxy({props:e},Gi)}function Z(e,t,n,r){var i=!Ne||(n&2)!=0,a=(n&8)!=0,o=(n&16)!=0,s=r,c=!0,l=()=>(c&&(c=!1,s=o?G(r):r),s),u;if(a){var d=ce in e||le in e;u=h(e,t)?.set??(d&&t in e?n=>e[t]=n:void 0)}var f,p=!1;a?[f,p]=Hi(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=l(),u&&(i&&j(t),u(f)));var m=i?()=>{var n=e[t];return n===void 0?l():(c=!0,n)}:()=>{var n=e[t];return n!==void 0&&(s=void 0),n===void 0?s:n};if(i&&!(n&4))return m;if(u){var g=e.$$legacy;return(function(e,t){return arguments.length>0?((!i||!t||g||p)&&u(t?m():e),e):m()})}var _=!1,v=(n&1?yt:St)(()=>(_=!1,m()));a&&W(v);var y=Bn;return(function(e,t){if(arguments.length>0){let n=t?W(v):i&&a?Rt(e):e;return z(v,n),_=!0,s!==void 0&&(s=n),e}return Fn&&_||y.f&16384?v.v:W(v)})}function qi(e){L===null&&fe(`onMount`),Ne&&L.l!==null?Qi(L).m.push(e):dn(()=>{let t=G(e);if(typeof t==`function`)return t})}function Ji(e){L===null&&fe(`onDestroy`),qi(()=>()=>G(e))}function Yi(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Xi(){let e=L;return e===null&&fe(`createEventDispatcher`),(t,n,r)=>{let i=e.s.$$events?.[t];if(i){let a=d(i)?i.slice():[i],o=Yi(t,n,r);for(let t of a)t.call(e.x,o);return!o.defaultPrevented}return!0}}function Zi(e){L===null&&fe(`beforeUpdate`),L.l===null&&A(`beforeUpdate`),Qi(L).b.push(e)}function Qi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}typeof window<`u`&&((window.__svelte??={}).v??=new Set).add(`5`),Pe();function $i(e,t=ea(e)){if(!t)return ta;let n=ra(e);return function(...t){console.log(`%c${e}`,`color:${n}`,...t)}}function ea(e){let t=na(`debug`);return t?.endsWith(`*`)?e.startsWith(t.slice(0,-1)):e===t}function ta(){}function na(e){try{if(typeof window<`u`&&window.localStorage!==void 0)return window.localStorage[e]}catch{}}function ra(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return ia[Math.abs(t)%ia.length]}var ia=[`#0000CC`,`#0099FF`,`#009400`,`#8dd200`,`#CCCC00`,`#CC9933`,`#ae04e7`,`#ff35d7`,`#FF3333`,`#FF6600`,`#FF9933`,`#FFCC33`],aa=0;function oa(){return aa++,aa}function sa(e){return Array.isArray(e)}function ca(e){return typeof e==`object`&&!!e&&(e.constructor===void 0||e.constructor.name===`Object`)}function la(e){return e&&typeof e==`object`?e.op===`add`:!1}function ua(e){return e&&typeof e==`object`?e.op===`remove`:!1}function da(e){return e&&typeof e==`object`?e.op===`replace`:!1}function fa(e){return e&&typeof e==`object`?e.op===`copy`:!1}function pa(e){return e&&typeof e==`object`?e.op===`move`:!1}function ma(e,t){return JSON.stringify(e)===JSON.stringify(t)}function ha(e,t){return e===t}function ga(e){return e.slice(0,e.length-1)}function _a(e){return e[e.length-1]}function va(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ha;if(e.length<t.length)return!1;for(let r=0;r<t.length;r++)if(!n(e[r],t[r]))return!1;return!0}function ya(e){return typeof e==`object`&&!!e}function ba(e){if(sa(e)){let t=e.slice();return Object.getOwnPropertySymbols(e).forEach(n=>{t[n]=e[n]}),t}if(ca(e)){let t={...e};return Object.getOwnPropertySymbols(e).forEach(n=>{t[n]=e[n]}),t}return e}function xa(e,t,n){if(e[t]===n)return e;let r=ba(e);return r[t]=n,r}function Sa(e,t){let n=e,r=0;for(;r<t.length;)n=ca(n)?n[t[r]]:sa(n)?n[Number.parseInt(t[r])]:void 0,r++;return n}function Ca(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.length===0)return n;let i=t[0],a=Ca(e?e[i]:void 0,t.slice(1),n,r);if(ca(e)||sa(e))return xa(e,i,a);if(r){let e=wa.test(i)?[]:{};return e[i]=a,e}throw Error(`Path does not exist`)}var wa=/^\d+$/;function Ta(e,t,n){if(t.length===0)return n(e);if(!ya(e))throw Error(`Path doesn't exist`);let r=t[0];return xa(e,r,Ta(e[r],t.slice(1),n))}function Ea(e,t){if(t.length===0)return e;if(!ya(e))throw Error(`Path does not exist`);if(t.length===1){let n=t[0];if(!(n in e))return e;let r=ba(e);return sa(r)&&r.splice(Number.parseInt(n),1),ca(r)&&delete r[n],r}let n=t[0];return xa(e,n,Ea(e[n],t.slice(1)))}function Da(e,t,n){let r=t.slice(0,t.length-1),i=t[t.length-1];return Ta(e,r,e=>{if(!Array.isArray(e))throw TypeError(`Array expected at path ${JSON.stringify(r)}`);let t=ba(e);return t.splice(Number.parseInt(i),0,n),t})}function Oa(e,t){return e===void 0?!1:t.length===0?!0:e===null?!1:Oa(e[t[0]],t.slice(1))}function ka(e){let t=e.split(`/`);return t.shift(),t.map(e=>e.replace(/~1/g,`/`).replace(/~0/g,`~`))}function Aa(e){return e.map(ja).join(``)}function ja(e){return`/${String(e).replace(/~/g,`~0`).replace(/\//g,`~1`)}`}function Ma(e,t){return e+ja(t)}function Na(e,t,n){let r=e;for(let e=0;e<t.length;e++){Ha(t[e]);let i=t[e];if(n?.before){let e=n.before(r,i);if(e!==void 0){if(e.document!==void 0&&(r=e.document),e.json!==void 0)throw Error(`Deprecation warning: returned object property ".json" has been renamed to ".document"`);e.operation!==void 0&&(i=e.operation)}}let a=r,o=Ua(r,i.path);if(i.op===`add`)r=Ia(r,o,i.value);else if(i.op===`remove`)r=Fa(r,o);else if(i.op===`replace`)r=Pa(r,o,i.value);else if(i.op===`copy`)r=La(r,o,Wa(i.from));else if(i.op===`move`)r=Ra(r,o,Wa(i.from));else if(i.op===`test`)za(r,o,i.value);else throw Error(`Unknown JSONPatch operation ${JSON.stringify(i)}`);if(n?.after){let e=n.after(r,i,a);e!==void 0&&(r=e)}}return r}function Pa(e,t,n){return Oa(e,t)?Ca(e,t,n):e}function Fa(e,t){return Ea(e,t)}function Ia(e,t,n){return Ba(e,t)?Da(e,t,n):Ca(e,t,n)}function La(e,t,n){let r=Sa(e,n);return Ba(e,t)?Da(e,t,r):Ca(e,t,r)}function Ra(e,t,n){let r=Sa(e,n),i=Ea(e,n);return Ba(i,t)?Da(i,t,r):Ca(i,t,r)}function za(e,t,n){if(n===void 0)throw Error(`Test failed: no value provided (path: "${Aa(t)}")`);if(!Oa(e,t))throw Error(`Test failed: path not found (path: "${Aa(t)}")`);if(!ma(Sa(e,t),n))throw Error(`Test failed, value differs (path: "${Aa(t)}")`)}function Ba(e,t){if(t.length===0)return!1;let n=Sa(e,ga(t));return Array.isArray(n)}function Va(e,t){if(_a(t)!==`-`)return t;let n=ga(t),r=Sa(e,n);return n.concat(r.length)}function Ha(e){if(![`add`,`remove`,`replace`,`copy`,`move`,`test`].includes(e.op))throw Error(`Unknown JSONPatch op ${JSON.stringify(e.op)}`);if(typeof e.path!=`string`)throw Error(`Required property "path" missing or not a string in operation ${JSON.stringify(e)}`);if((e.op===`copy`||e.op===`move`)&&typeof e.from!=`string`)throw Error(`Required property "from" missing or not a string in operation ${JSON.stringify(e)}`)}function Ua(e,t){return Va(e,ka(t))}function Wa(e){return ka(e)}function Ga(e,t,n){let r=[];return Na(e,t,{before:(e,t)=>{let i,a=Ua(e,t.path);if(t.op===`add`)i=Ja(e,a);else if(t.op===`remove`)i=qa(e,a);else if(t.op===`replace`)i=Ka(e,a);else if(t.op===`copy`)i=Ya(e,a);else if(t.op===`move`)i=Xa(e,a,Wa(t.from));else if(t.op===`test`)i=[];else throw Error(`Unknown JSONPatch operation ${JSON.stringify(t)}`);let o;if(n?.before){let r=n.before(e,t,i);if(r?.revertOperations&&(i=r.revertOperations),r?.document&&(o=r.document),r?.json)throw Error(`Deprecation warning: returned object property ".json" has been renamed to ".document"`)}if(r=i.concat(r),o!==void 0)return{document:o}}}),r}function Ka(e,t){return Oa(e,t)?[{op:`replace`,path:Aa(t),value:Sa(e,t)}]:[]}function qa(e,t){return[{op:`add`,path:Aa(t),value:Sa(e,t)}]}function Ja(e,t){return Ba(e,t)||!Oa(e,t)?[{op:`remove`,path:Aa(t)}]:Ka(e,t)}function Ya(e,t){return Ja(e,t)}function Xa(e,t,n){if(t.length<n.length&&va(n,t))return[{op:`replace`,path:Aa(t),value:e}];let r={op:`move`,from:Aa(t),path:Aa(n)};return!Ba(e,t)&&Oa(e,t)?[r,...qa(e,t)]:[r]}var Za=s((e=>{var t={b:`\b`,f:`\f`,n:`
`,r:`\r`,t:`	`,'"':`"`,"/":`/`,"\\":`\\`},n=97;e.parse=function(e,r,i){var o={},s=0,c=0,l=0,u=i&&i.bigint&&typeof BigInt<`u`;return{data:d(``,!0),pointers:o};function d(t,n){f();var r;S(t,`value`);var i=v();switch(i){case`t`:_(`rue`),r=!0;break;case`f`:_(`alse`),r=!1;break;case`n`:_(`ull`),r=null;break;case`"`:r=p();break;case`[`:r=h(t);break;case`{`:r=g(t);break;default:y(),`-0123456789`.indexOf(i)>=0?r=m():T()}return S(t,`valueEnd`),f(),n&&l<e.length&&T(),r}function f(){loop:for(;l<e.length;){switch(e[l]){case` `:c++;break;case`	`:c+=4;break;case`\r`:c=0;break;case`
`:c=0,s++;break;default:break loop}l++}}function p(){for(var e=``,n;n=v(),n!=`"`;)n==`\\`?(n=v(),n in t?e+=t[n]:n==`u`?e+=b():ee()):e+=n;return e}function m(){var t=``,n=!0;e[l]==`-`&&(t+=v()),t+=e[l]==`0`?v():x(),e[l]==`.`&&(t+=v()+x(),n=!1),(e[l]==`e`||e[l]==`E`)&&(t+=v(),(e[l]==`+`||e[l]==`-`)&&(t+=v()),t+=x(),n=!1);var r=+t;return u&&n&&(r>2**53-1||r<-(2**53-1))?BigInt(t):r}function h(e){f();var t=[],n=0;if(v()==`]`)return t;for(y();;){var r=e+`/`+n;t.push(d(r)),f();var i=v();if(i==`]`)break;i!=`,`&&ee(),f(),n++}return t}function g(e){f();var t={};if(v()==`}`)return t;for(y();;){var n=w();v()!=`"`&&ee();var r=p(),i=e+`/`+a(r);C(i,`key`,n),S(i,`keyEnd`),f(),v()!=`:`&&ee(),f(),t[r]=d(i),f();var o=v();if(o==`}`)break;o!=`,`&&ee(),f()}return t}function _(e){for(var t=0;t<e.length;t++)v()!==e[t]&&ee()}function v(){te();var t=e[l];return l++,c++,t}function y(){l--,c--}function b(){for(var e=4,t=0;e--;){t<<=4;var r=v().toLowerCase();r>=`a`&&r<=`f`?t+=r.charCodeAt()-n+10:r>=`0`&&r<=`9`?t+=+r:ee()}return String.fromCharCode(t)}function x(){for(var t=``;e[l]>=`0`&&e[l]<=`9`;)t+=v();if(t.length)return t;te(),T()}function S(e,t){C(e,t,w())}function C(e,t,n){o[e]=o[e]||{},o[e][t]=n}function w(){return{line:s,column:c,pos:l}}function T(){throw SyntaxError(`Unexpected token `+e[l]+` in JSON at position `+l)}function ee(){y(),T()}function te(){if(l>=e.length)throw SyntaxError(`Unexpected end of JSON input`)}};var r=/~/g,i=/\//g;function a(e){return e.replace(r,`~0`).replace(i,`~1`)}})),Qa=class extends Error{constructor(e,t){super(`${e} at position ${t}`),this.position=t}},$a=32,eo=10,to=9,no=13,ro=160,io=8192,ao=8202,oo=8239,so=8287,co=12288;function lo(e){return/^[0-9A-Fa-f]$/.test(e)}function uo(e){return e>=`0`&&e<=`9`}function fo(e){return e>=` `}function po(e){return`,:[]/{}()
+`.includes(e)}function mo(e){return e>=`a`&&e<=`z`||e>=`A`&&e<=`Z`||e===`_`||e===`$`}function ho(e){return e>=`a`&&e<=`z`||e>=`A`&&e<=`Z`||e===`_`||e===`$`||e>=`0`&&e<=`9`}const go=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,_o=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function vo(e){return`,[]/{}
+`.includes(e)}function yo(e){return To(e)||bo.test(e)}var bo=/^[[{\w-]$/;function xo(e){return e===`
`||e===`\r`||e===`	`||e===`\b`||e===`\f`}function So(e,t){let n=e.charCodeAt(t);return n===$a||n===eo||n===to||n===no}function Co(e,t){let n=e.charCodeAt(t);return n===$a||n===to||n===no}function wo(e,t){let n=e.charCodeAt(t);return n===ro||n>=io&&n<=ao||n===oo||n===so||n===co}function To(e){return Eo(e)||Oo(e)}function Eo(e){return e===`"`||e===`â`||e===`â`}function Do(e){return e===`"`}function Oo(e){return e===`'`||e===`â`||e===`â`||e==="`"||e===`Â´`}function ko(e){return e===`'`}function Ao(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.lastIndexOf(t);return r===-1?e:e.substring(0,r)+(n?``:e.substring(r+1))}function jo(e,t){let n=e.length;if(!So(e,n-1))return e+t;for(;So(e,n-1);)n--;return e.substring(0,n)+t+e.substring(n)}function Mo(e,t,n){return e.substring(0,t)+e.substring(t+n)}function No(e){return/[,\n][ \t\r]*$/.test(e)}var Po={"\b":`\\b`,"\f":`\\f`,"\n":`\\n`,"\r":`\\r`,"	":`\\t`},Fo={'"':`"`,"\\":`\\`,"/":`/`,b:`\b`,f:`\f`,n:`
`,r:`\r`,t:`	`};function Io(e){let t=0,n=``;c(["```","[```","{```"]),i()||ne(),c(["```","```]","```}"]);let r=u(`,`);for(r&&a(),yo(e[t])&&No(n)?(r||(n=jo(n,`,`)),g()):r&&(n=Ao(n,`,`));e[t]===`}`||e[t]===`]`;)t++,a();if(t>=e.length)return n;E();function i(){a();let e=m()||h()||_()||y()||b()||S(!1)||C();return a(),e}function a(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=t,r=o(e);do r=s(),r&&=o(e);while(r);return t>n}function o(r){let i=r?So:Co,a=``;for(;;)if(i(e,t))a+=e[t],t++;else if(wo(e,t))a+=` `,t++;else break;return a.length>0?(n+=a,!0):!1}function s(){if(e[t]===`/`&&e[t+1]===`*`){for(;t<e.length&&!Lo(e,t);)t++;return t+=2,!0}if(e[t]===`/`&&e[t+1]===`/`){for(;t<e.length&&e[t]!==`
`;)t++;return!0}return!1}function c(n){if(l(n)){if(mo(e[t]))for(;t<e.length&&ho(e[t]);)t++;return a(),!0}return!1}function l(n){o(!0);for(let r of n){let n=t+r.length;if(e.slice(t,n)===r)return t=n,!0}return!1}function u(r){return e[t]===r?(n+=e[t],t++,!0):!1}function d(n){return e[t]===n?(t++,!0):!1}function f(){return d(`\\`)}function p(){return a(),e[t]===`.`&&e[t+1]===`.`&&e[t+2]===`.`?(t+=3,a(),d(`,`),!0):!1}function m(){if(e[t]===`{`){n+=`{`,t++,a(),d(`,`)&&a();let r=!0;for(;t<e.length&&e[t]!==`}`;){let o;if(r?(o=!0,r=!1):(o=u(`,`),o||(n=jo(n,`,`)),a()),p(),!(_()||S(!0))){e[t]===`}`||e[t]===`{`||e[t]===`]`||e[t]===`[`||e[t]===void 0?n=Ao(n,`,`):re();break}a();let s=u(`:`),c=t>=e.length;s||(yo(e[t])||c?n=jo(n,`:`):ie()),i()||(s||c?n+=`null`:ie())}return e[t]===`}`?(n+=`}`,t++):n=jo(n,`}`),!0}return!1}function h(){if(e[t]===`[`){n+=`[`,t++,a(),d(`,`)&&a();let r=!0;for(;t<e.length&&e[t]!==`]`;)if(r?r=!1:u(`,`)||(n=jo(n,`,`)),p(),!i()){n=Ao(n,`,`);break}return e[t]===`]`?(n+=`]`,t++):n=jo(n,`]`),!0}return!1}function g(){let e=!0,t=!0;for(;t;)e?e=!1:u(`,`)||(n=jo(n,`,`)),t=i();t||(n=Ao(n,`,`)),n=`[\n${n}\n]`}function _(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,o=e[t]===`\\`;if(o&&=(t++,!0),To(e[t])){let s=Do(e[t])?Do:ko(e[t])?ko:Oo(e[t])?Oo:Eo,c=t,l=n.length,u=`"`;for(t++;;){if(t>=e.length){let i=w(t-1);return!r&&po(e.charAt(i))?(t=c,n=n.substring(0,l),_(!0)):(u=jo(u,`"`),n+=u,!0)}if(t===i)return u=jo(u,`"`),n+=u,!0;if(s(e[t])){let i=t,o=u.length;if(u+=`"`,t++,n+=u,a(!1),r||t>=e.length||po(e[t])||To(e[t])||uo(e[t]))return v(),!0;let s=w(i-1),d=e.charAt(s);if(d===`,`)return t=c,n=n.substring(0,l),_(!1,s);if(po(d))return t=c,n=n.substring(0,l),_(!0);n=n.substring(0,l),t=i+1,u=`${u.substring(0,o)}\\${u.substring(o)}`}else if(r&&vo(e[t])){if(e[t-1]===`:`&&go.test(e.substring(c+1,t+2)))for(;t<e.length&&_o.test(e[t]);)u+=e[t],t++;return u=jo(u,`"`),n+=u,v(),!0}else if(e[t]===`\\`){let n=e.charAt(t+1);if(Fo[n]!==void 0)u+=e.slice(t,t+2),t+=2;else if(n===`u`){let n=2;for(;n<6&&lo(e[t+n]);)n++;n===6?(u+=e.slice(t,t+6),t+=6):t+n>=e.length?t=e.length:ae()}else u+=n,t+=2}else{let n=e.charAt(t);n===`"`&&e[t-1]!==`\\`?(u+=`\\${n}`,t++):xo(n)?(u+=Po[n],t++):(fo(n)||te(n),u+=n,t++)}o&&f()}}return!1}function v(){let r=!1;for(a();e[t]===`+`;){r=!0,t++,a(),n=Ao(n,`"`,!0);let e=n.length;n=_()?Mo(n,e,1):jo(n,`"`)}return r}function y(){let r=t;if(e[t]===`-`){if(t++,T())return ee(r),!0;if(!uo(e[t]))return t=r,!1}for(;uo(e[t]);)t++;if(e[t]===`.`){if(t++,T())return ee(r),!0;if(!uo(e[t]))return t=r,!1;for(;uo(e[t]);)t++}if(e[t]===`e`||e[t]===`E`){if(t++,(e[t]===`-`||e[t]===`+`)&&t++,T())return ee(r),!0;if(!uo(e[t]))return t=r,!1;for(;uo(e[t]);)t++}if(!T())return t=r,!1;if(t>r){let i=e.slice(r,t),a=/^0\d/.test(i);return n+=a?`"${i}"`:i,!0}return!1}function b(){return x(`true`,`true`)||x(`false`,`false`)||x(`null`,`null`)||x(`True`,`true`)||x(`False`,`false`)||x(`None`,`null`)}function x(r,i){return e.slice(t,t+r.length)===r?(n+=i,t+=r.length,!0):!1}function S(r){let a=t;if(mo(e[t])){for(;t<e.length&&ho(e[t]);)t++;let n=t;for(;So(e,n);)n++;if(e[n]===`(`)return t=n+1,i(),e[t]===`)`&&(t++,e[t]===`;`&&t++),!0}for(;t<e.length&&!vo(e[t])&&!To(e[t])&&(!r||e[t]!==`:`);)t++;if(e[t-1]===`:`&&go.test(e.substring(a,t+2)))for(;t<e.length&&_o.test(e[t]);)t++;if(t>a){for(;So(e,t-1)&&t>0;)t--;let r=e.slice(a,t);return n+=r===`undefined`?`null`:JSON.stringify(r),e[t]===`"`&&t++,!0}}function C(){if(e[t]===`/`){let r=t;for(t++;t<e.length&&(e[t]!==`/`||e[t-1]===`\\`);)t++;return t++,n+=`"${e.substring(r,t)}"`,!0}}function w(t){let n=t;for(;n>0&&So(e,n);)n--;return n}function T(){return t>=e.length||po(e[t])||So(e,t)}function ee(r){n+=`${e.slice(r,t)}0`}function te(e){throw new Qa(`Invalid character ${JSON.stringify(e)}`,t)}function E(){throw new Qa(`Unexpected character ${JSON.stringify(e[t])}`,t)}function ne(){throw new Qa(`Unexpected end of json string`,e.length)}function re(){throw new Qa(`Object key expected`,t)}function ie(){throw new Qa(`Colon expected`,t)}function ae(){throw new Qa(`Invalid unicode character "${e.slice(t,t+6)}"`,t)}}function Lo(e,t){return e[t]===`*`&&e[t+1]===`/`}function Ro(e){return parseInt(e,10)}function zo(e){return Bo.test(e)}var Bo=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Vo(e){return typeof e==`object`&&!!e&&(e.constructor===void 0||e.constructor.name===`Object`)}function Ho(e){return typeof e==`object`&&!!e&&(e.constructor===void 0||e.constructor.name===`Object`||e.constructor.name===`Array`)}function Uo(e){return e===!0||e===!1}function Wo(e){if(typeof e==`number`)return e>9466848e5&&isFinite(e)&&Math.floor(e)===e&&!isNaN(new Date(e).valueOf());if(typeof e==`bigint`)return Wo(Number(e));try{let t=e&&e.valueOf();if(t!==e)return Wo(t)}catch{return!1}return!1}function Go(e){Ko||=window.document.createElement(`div`),Ko.style.color=``,Ko.style.color=e;let t=Ko.style.color;return t===``?void 0:t.replace(/\s+/g,``).toLowerCase()}var Ko=void 0;function qo(e){return typeof e==`string`&&e.length<99&&!!Go(e)}function Jo(e,t){if(typeof e==`number`||typeof e==`string`||typeof e==`boolean`||e===void 0)return typeof e;if(typeof e==`bigint`)return`number`;if(e===null)return`null`;if(Array.isArray(e))return`array`;if(Vo(e))return`object`;let n=t.stringify(e);return n&&zo(n)?`number`:n===`true`||n===`false`?`boolean`:n===`null`?`null`:`unknown`}var Yo=/^https?:\/\/\S+$/;function Xo(e){return typeof e==`string`&&Yo.test(e)}function Zo(e,t){if(e===``)return``;let n=e.trim();return n===`null`?null:n===`true`?!0:n===`false`?!1:zo(n)?t.parse(n):e}function Qo(e){return typeof e==`string`&&typeof Zo(e,JSON)!=`string`}var $o=typeof global==`object`&&global&&global.Object===Object&&global,es=typeof self==`object`&&self&&self.Object===Object&&self,ts=$o||es||Function(`return this`)(),ns=ts.Symbol,rs=Object.prototype,is=rs.hasOwnProperty,as=rs.toString,os=ns?ns.toStringTag:void 0;function ss(e){var t=is.call(e,os),n=e[os];try{e[os]=void 0;var r=!0}catch{}var i=as.call(e);return r&&(t?e[os]=n:delete e[os]),i}var cs=ss,ls=Object.prototype.toString;function us(e){return ls.call(e)}var ds=us,fs=`[object Null]`,ps=`[object Undefined]`,ms=ns?ns.toStringTag:void 0;function hs(e){return e==null?e===void 0?ps:fs:ms&&ms in Object(e)?cs(e):ds(e)}var gs=hs;function _s(e){return typeof e==`object`&&!!e}var vs=_s,ys=`[object Symbol]`;function bs(e){return typeof e==`symbol`||vs(e)&&gs(e)==ys}var xs=bs;function Ss(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Cs=Ss,ws=Array.isArray,Ts=1/0,Es=ns?ns.prototype:void 0,Ds=Es?Es.toString:void 0;function Os(e){if(typeof e==`string`)return e;if(ws(e))return Cs(e,Os)+``;if(xs(e))return Ds?Ds.call(e):``;var t=e+``;return t==`0`&&1/e==-Ts?`-0`:t}var ks=Os,As=/\s/;function js(e){for(var t=e.length;t--&&As.test(e.charAt(t)););return t}var Ms=js,Ns=/^\s+/;function Ps(e){return e&&e.slice(0,Ms(e)+1).replace(Ns,``)}var Fs=Ps;function Is(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}var Ls=Is,Rs=NaN,zs=/^[-+]0x[0-9a-f]+$/i,Bs=/^0b[01]+$/i,Vs=/^0o[0-7]+$/i,Hs=parseInt;function Us(e){if(typeof e==`number`)return e;if(xs(e))return Rs;if(Ls(e)){var t=typeof e.valueOf==`function`?e.valueOf():e;e=Ls(t)?t+``:t}if(typeof e!=`string`)return e===0?e:+e;e=Fs(e);var n=Bs.test(e);return n||Vs.test(e)?Hs(e.slice(2),n?2:8):zs.test(e)?Rs:+e}var Ws=Us,Gs=1/0,Ks=17976931348623157e292;function qs(e){return e?(e=Ws(e),e===Gs||e===-Gs?(e<0?-1:1)*Ks:e===e?e:0):e===0?e:0}var Js=qs;function Ys(e){var t=Js(e),n=t%1;return t===t?n?t-n:t:0}var Xs=Ys;function Zs(e){return e}var Qs=Zs,$s=`[object AsyncFunction]`,ec=`[object Function]`,tc=`[object GeneratorFunction]`,nc=`[object Proxy]`;function rc(e){if(!Ls(e))return!1;var t=gs(e);return t==ec||t==tc||t==$s||t==nc}var ic=rc,ac=ts[`__core-js_shared__`],oc=function(){var e=/[^.]+$/.exec(ac&&ac.keys&&ac.keys.IE_PROTO||``);return e?`Symbol(src)_1.`+e:``}();function sc(e){return!!oc&&oc in e}var cc=sc,lc=Function.prototype.toString;function uc(e){if(e!=null){try{return lc.call(e)}catch{}try{return e+``}catch{}}return``}var dc=uc,fc=/[\\^$.*+?()[\]{}|]/g,pc=/^\[object .+?Constructor\]$/,mc=Function.prototype,hc=Object.prototype,gc=mc.toString,_c=hc.hasOwnProperty,vc=RegExp(`^`+gc.call(_c).replace(fc,`\\$&`).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,`$1.*?`)+`$`);function yc(e){return!Ls(e)||cc(e)?!1:(ic(e)?vc:pc).test(dc(e))}var bc=yc;function xc(e,t){return e?.[t]}var Sc=xc;function Cc(e,t){var n=Sc(e,t);return bc(n)?n:void 0}var wc=Cc,Tc=wc(ts,`WeakMap`),Ec=Object.create,Dc=function(){function e(){}return function(t){if(!Ls(t))return{};if(Ec)return Ec(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Oc(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var kc=Oc;function Ac(){}var jc=Ac;function Mc(e,t){var n=-1,r=e.length;for(t||=Array(r);++n<r;)t[n]=e[n];return t}var Nc=Mc,Pc=800,Fc=16,Ic=Date.now;function Lc(e){var t=0,n=0;return function(){var r=Ic(),i=Fc-(r-n);if(n=r,i>0){if(++t>=Pc)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Rc=Lc;function zc(e){return function(){return e}}var Bc=zc,Vc=function(){try{var e=wc(Object,`defineProperty`);return e({},``,{}),e}catch{}}(),Hc=Rc(Vc?function(e,t){return Vc(e,`toString`,{configurable:!0,enumerable:!1,value:Bc(t),writable:!0})}:Qs);function Uc(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Wc=Uc,Gc=9007199254740991,Kc=/^(?:0|[1-9]\d*)$/;function qc(e,t){var n=typeof e;return t??=Gc,!!t&&(n==`number`||n!=`symbol`&&Kc.test(e))&&e>-1&&e%1==0&&e<t}var Jc=qc;function Yc(e,t,n){t==`__proto__`&&Vc?Vc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Xc=Yc;function Zc(e,t){return e===t||e!==e&&t!==t}var Qc=Zc,$c=Object.prototype.hasOwnProperty;function el(e,t,n){var r=e[t];(!($c.call(e,t)&&Qc(r,n))||n===void 0&&!(t in e))&&Xc(e,t,n)}var tl=el;function nl(e,t,n,r){var i=!n;n||={};for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),i?Xc(n,s,c):tl(n,s,c)}return n}var rl=nl,il=Math.max;function al(e,t,n){return t=il(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=il(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),kc(e,this,s)}}var ol=al;function sl(e,t){return Hc(ol(e,t,Qs),e+``)}var cl=sl,ll=9007199254740991;function ul(e){return typeof e==`number`&&e>-1&&e%1==0&&e<=ll}var dl=ul;function fl(e){return e!=null&&dl(e.length)&&!ic(e)}var pl=fl;function ml(e,t,n){if(!Ls(n))return!1;var r=typeof t;return(r==`number`?pl(n)&&Jc(t,n.length):r==`string`&&t in n)?Qc(n[t],e):!1}var hl=ml,gl=Object.prototype;function _l(e){var t=e&&e.constructor;return e===(typeof t==`function`&&t.prototype||gl)}var vl=_l;function yl(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var bl=yl,xl=`[object Arguments]`;function Sl(e){return vs(e)&&gs(e)==xl}var Cl=Sl,wl=Object.prototype,Tl=wl.hasOwnProperty,El=wl.propertyIsEnumerable,Dl=Cl(function(){return arguments}())?Cl:function(e){return vs(e)&&Tl.call(e,`callee`)&&!El.call(e,`callee`)};function Ol(){return!1}var kl=Ol,Al=typeof exports==`object`&&exports&&!exports.nodeType&&exports,jl=Al&&typeof module==`object`&&module&&!module.nodeType&&module,Ml=jl&&jl.exports===Al?ts.Buffer:void 0,Nl=(Ml?Ml.isBuffer:void 0)||kl,Pl=`[object Arguments]`,Fl=`[object Array]`,Il=`[object Boolean]`,Ll=`[object Date]`,Rl=`[object Error]`,zl=`[object Function]`,Bl=`[object Map]`,Vl=`[object Number]`,Hl=`[object Object]`,Ul=`[object RegExp]`,Wl=`[object Set]`,Gl=`[object String]`,Kl=`[object WeakMap]`,ql=`[object ArrayBuffer]`,Jl=`[object DataView]`,Yl=`[object Float32Array]`,Xl=`[object Float64Array]`,Zl=`[object Int8Array]`,Ql=`[object Int16Array]`,$l=`[object Int32Array]`,eu=`[object Uint8Array]`,tu=`[object Uint8ClampedArray]`,nu=`[object Uint16Array]`,ru=`[object Uint32Array]`,iu={};iu[Yl]=iu[Xl]=iu[Zl]=iu[Ql]=iu[$l]=iu[eu]=iu[tu]=iu[nu]=iu[ru]=!0,iu[Pl]=iu[Fl]=iu[ql]=iu[Il]=iu[Jl]=iu[Ll]=iu[Rl]=iu[zl]=iu[Bl]=iu[Vl]=iu[Hl]=iu[Ul]=iu[Wl]=iu[Gl]=iu[Kl]=!1;function au(e){return vs(e)&&dl(e.length)&&!!iu[gs(e)]}var ou=au;function su(e){return function(t){return e(t)}}var cu=su,lu=typeof exports==`object`&&exports&&!exports.nodeType&&exports,uu=lu&&typeof module==`object`&&module&&!module.nodeType&&module,du=uu&&uu.exports===lu&&$o.process,fu=function(){try{return uu&&uu.require&&uu.require(`util`).types||du&&du.binding&&du.binding(`util`)}catch{}}(),pu=fu&&fu.isTypedArray,mu=pu?cu(pu):ou,hu=Object.prototype.hasOwnProperty;function gu(e,t){var n=ws(e),r=!n&&Dl(e),i=!n&&!r&&Nl(e),a=!n&&!r&&!i&&mu(e),o=n||r||i||a,s=o?bl(e.length,String):[],c=s.length;for(var l in e)(t||hu.call(e,l))&&!(o&&(l==`length`||i&&(l==`offset`||l==`parent`)||a&&(l==`buffer`||l==`byteLength`||l==`byteOffset`)||Jc(l,c)))&&s.push(l);return s}var _u=gu;function vu(e,t){return function(n){return e(t(n))}}var yu=vu,bu=yu(Object.keys,Object),xu=Object.prototype.hasOwnProperty;function Su(e){if(!vl(e))return bu(e);var t=[];for(var n in Object(e))xu.call(e,n)&&n!=`constructor`&&t.push(n);return t}var Cu=Su;function wu(e){return pl(e)?_u(e):Cu(e)}var Tu=wu;function Eu(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Du=Eu,Ou=Object.prototype.hasOwnProperty;function ku(e){if(!Ls(e))return Du(e);var t=vl(e),n=[];for(var r in e)r==`constructor`&&(t||!Ou.call(e,r))||n.push(r);return n}var Au=ku;function ju(e){return pl(e)?_u(e,!0):Au(e)}var Mu=ju,Nu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pu=/^\w*$/;function Fu(e,t){if(ws(e))return!1;var n=typeof e;return n==`number`||n==`symbol`||n==`boolean`||e==null||xs(e)?!0:Pu.test(e)||!Nu.test(e)||t!=null&&e in Object(t)}var Iu=Fu,Lu=wc(Object,`create`);function Ru(){this.__data__=Lu?Lu(null):{},this.size=0}var zu=Ru;function Bu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vu=Bu,Hu=`__lodash_hash_undefined__`,Uu=Object.prototype.hasOwnProperty;function Wu(e){var t=this.__data__;if(Lu){var n=t[e];return n===Hu?void 0:n}return Uu.call(t,e)?t[e]:void 0}var Gu=Wu,Ku=Object.prototype.hasOwnProperty;function qu(e){var t=this.__data__;return Lu?t[e]!==void 0:Ku.call(t,e)}var Ju=qu,Yu=`__lodash_hash_undefined__`;function Xu(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Lu&&t===void 0?Yu:t,this}var Zu=Xu;function Qu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qu.prototype.clear=zu,Qu.prototype.delete=Vu,Qu.prototype.get=Gu,Qu.prototype.has=Ju,Qu.prototype.set=Zu;var $u=Qu;function ed(){this.__data__=[],this.size=0}var td=ed;function nd(e,t){for(var n=e.length;n--;)if(Qc(e[n][0],t))return n;return-1}var rd=nd,id=Array.prototype.splice;function ad(e){var t=this.__data__,n=rd(t,e);return n<0?!1:(n==t.length-1?t.pop():id.call(t,n,1),--this.size,!0)}var od=ad;function sd(e){var t=this.__data__,n=rd(t,e);return n<0?void 0:t[n][1]}var cd=sd;function ld(e){return rd(this.__data__,e)>-1}var ud=ld;function dd(e,t){var n=this.__data__,r=rd(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var fd=dd;function pd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pd.prototype.clear=td,pd.prototype.delete=od,pd.prototype.get=cd,pd.prototype.has=ud,pd.prototype.set=fd;var md=pd,hd=wc(ts,`Map`);function gd(){this.size=0,this.__data__={hash:new $u,map:new(hd||md),string:new $u}}var _d=gd;function vd(e){var t=typeof e;return t==`string`||t==`number`||t==`symbol`||t==`boolean`?e!==`__proto__`:e===null}var yd=vd;function bd(e,t){var n=e.__data__;return yd(t)?n[typeof t==`string`?`string`:`hash`]:n.map}var xd=bd;function Sd(e){var t=xd(this,e).delete(e);return this.size-=t?1:0,t}var Cd=Sd;function wd(e){return xd(this,e).get(e)}var Td=wd;function Ed(e){return xd(this,e).has(e)}var Dd=Ed;function Od(e,t){var n=xd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var kd=Od;function Ad(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ad.prototype.clear=_d,Ad.prototype.delete=Cd,Ad.prototype.get=Td,Ad.prototype.has=Dd,Ad.prototype.set=kd;var jd=Ad,Md=`Expected a function`;function Nd(e,t){if(typeof e!=`function`||t!=null&&typeof t!=`function`)throw TypeError(Md);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Nd.Cache||jd),n}Nd.Cache=jd;var Pd=Nd,Fd=500;function Id(e){var t=Pd(e,function(e){return n.size===Fd&&n.clear(),e}),n=t.cache;return t}var Ld=Id,Rd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zd=/\\(\\)?/g,Bd=Ld(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(``),e.replace(Rd,function(e,n,r,i){t.push(r?i.replace(zd,`$1`):n||e)}),t});function Vd(e){return e==null?``:ks(e)}var Hd=Vd;function Ud(e,t){return ws(e)?e:Iu(e,t)?[e]:Bd(Hd(e))}var Wd=Ud,Gd=1/0;function Kd(e){if(typeof e==`string`||xs(e))return e;var t=e+``;return t==`0`&&1/e==-Gd?`-0`:t}var qd=Kd;function Jd(e,t){t=Wd(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qd(t[n++])];return n&&n==r?e:void 0}var Yd=Jd;function Xd(e,t,n){var r=e==null?void 0:Yd(e,t);return r===void 0?n:r}var Zd=Xd;function Qd(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var $d=Qd,ef=ns?ns.isConcatSpreadable:void 0;function tf(e){return ws(e)||Dl(e)||!!(ef&&e&&e[ef])}var nf=tf;function rf(e,t,n,r,i){var a=-1,o=e.length;for(n||=nf,i||=[];++a<o;){var s=e[a];t>0&&n(s)?t>1?rf(s,t-1,n,r,i):$d(i,s):r||(i[i.length]=s)}return i}var af=rf,of=yu(Object.getPrototypeOf,Object);function sf(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var cf=sf;function lf(){this.__data__=new md,this.size=0}var uf=lf;function df(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ff=df;function pf(e){return this.__data__.get(e)}var mf=pf;function hf(e){return this.__data__.has(e)}var gf=hf,_f=200;function vf(e,t){var n=this.__data__;if(n instanceof md){var r=n.__data__;if(!hd||r.length<_f-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jd(r)}return n.set(e,t),this.size=n.size,this}var yf=vf;function bf(e){this.size=(this.__data__=new md(e)).size}bf.prototype.clear=uf,bf.prototype.delete=ff,bf.prototype.get=mf,bf.prototype.has=gf,bf.prototype.set=yf;var xf=bf;function Sf(e,t){return e&&rl(t,Tu(t),e)}var Cf=Sf;function wf(e,t){return e&&rl(t,Mu(t),e)}var Tf=wf,Ef=typeof exports==`object`&&exports&&!exports.nodeType&&exports,Df=Ef&&typeof module==`object`&&module&&!module.nodeType&&module,Of=Df&&Df.exports===Ef?ts.Buffer:void 0,kf=Of?Of.allocUnsafe:void 0;function Af(e,t){if(t)return e.slice();var n=e.length,r=kf?kf(n):new e.constructor(n);return e.copy(r),r}var jf=Af;function Mf(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Nf=Mf;function Pf(){return[]}var Ff=Pf,If=Object.prototype.propertyIsEnumerable,Lf=Object.getOwnPropertySymbols,Rf=Lf?function(e){return e==null?[]:(e=Object(e),Nf(Lf(e),function(t){return If.call(e,t)}))}:Ff;function zf(e,t){return rl(e,Rf(e),t)}var Bf=zf,Vf=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$d(t,Rf(e)),e=of(e);return t}:Ff;function Hf(e,t){return rl(e,Vf(e),t)}var Uf=Hf;function Wf(e,t,n){var r=t(e);return ws(e)?r:$d(r,n(e))}var Gf=Wf;function Kf(e){return Gf(e,Tu,Rf)}var qf=Kf;function Jf(e){return Gf(e,Mu,Vf)}var Yf=Jf,Xf=wc(ts,`DataView`),Zf=wc(ts,`Promise`),Qf=wc(ts,`Set`),$f=`[object Map]`,ep=`[object Object]`,tp=`[object Promise]`,np=`[object Set]`,rp=`[object WeakMap]`,ip=`[object DataView]`,ap=dc(Xf),op=dc(hd),sp=dc(Zf),cp=dc(Qf),lp=dc(Tc),up=gs;(Xf&&up(new Xf(new ArrayBuffer(1)))!=ip||hd&&up(new hd)!=$f||Zf&&up(Zf.resolve())!=tp||Qf&&up(new Qf)!=np||Tc&&up(new Tc)!=rp)&&(up=function(e){var t=gs(e),n=t==ep?e.constructor:void 0,r=n?dc(n):``;if(r)switch(r){case ap:return ip;case op:return $f;case sp:return tp;case cp:return np;case lp:return rp}return t});var dp=up,fp=Object.prototype.hasOwnProperty;function pp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]==`string`&&fp.call(e,`index`)&&(n.index=e.index,n.input=e.input),n}var mp=pp,hp=ts.Uint8Array;function gp(e){var t=new e.constructor(e.byteLength);return new hp(t).set(new hp(e)),t}var _p=gp;function vp(e,t){var n=t?_p(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var yp=vp,bp=/\w*$/;function xp(e){var t=new e.constructor(e.source,bp.exec(e));return t.lastIndex=e.lastIndex,t}var Sp=xp,Cp=ns?ns.prototype:void 0,wp=Cp?Cp.valueOf:void 0;function Tp(e){return wp?Object(wp.call(e)):{}}var Ep=Tp;function Dp(e,t){var n=t?_p(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Op=Dp,kp=`[object Boolean]`,Ap=`[object Date]`,jp=`[object Map]`,Mp=`[object Number]`,Np=`[object RegExp]`,Pp=`[object Set]`,Fp=`[object String]`,Ip=`[object Symbol]`,Lp=`[object ArrayBuffer]`,Rp=`[object DataView]`,zp=`[object Float32Array]`,Bp=`[object Float64Array]`,Vp=`[object Int8Array]`,Hp=`[object Int16Array]`,Up=`[object Int32Array]`,Wp=`[object Uint8Array]`,Gp=`[object Uint8ClampedArray]`,Kp=`[object Uint16Array]`,qp=`[object Uint32Array]`;function Jp(e,t,n){var r=e.constructor;switch(t){case Lp:return _p(e);case kp:case Ap:return new r(+e);case Rp:return yp(e,n);case zp:case Bp:case Vp:case Hp:case Up:case Wp:case Gp:case Kp:case qp:return Op(e,n);case jp:return new r;case Mp:case Fp:return new r(e);case Np:return Sp(e);case Pp:return new r;case Ip:return Ep(e)}}var Yp=Jp;function Xp(e){return typeof e.constructor==`function`&&!vl(e)?Dc(of(e)):{}}var Zp=Xp,Qp=`[object Map]`;function $p(e){return vs(e)&&dp(e)==Qp}var em=$p,tm=fu&&fu.isMap,nm=tm?cu(tm):em,rm=`[object Set]`;function im(e){return vs(e)&&dp(e)==rm}var am=im,om=fu&&fu.isSet,sm=om?cu(om):am,cm=1,lm=2,um=4,dm=`[object Arguments]`,fm=`[object Array]`,pm=`[object Boolean]`,mm=`[object Date]`,hm=`[object Error]`,gm=`[object Function]`,_m=`[object GeneratorFunction]`,vm=`[object Map]`,ym=`[object Number]`,bm=`[object Object]`,xm=`[object RegExp]`,Sm=`[object Set]`,Cm=`[object String]`,wm=`[object Symbol]`,Tm=`[object WeakMap]`,Em=`[object ArrayBuffer]`,Dm=`[object DataView]`,Om=`[object Float32Array]`,km=`[object Float64Array]`,Am=`[object Int8Array]`,jm=`[object Int16Array]`,Mm=`[object Int32Array]`,Nm=`[object Uint8Array]`,Pm=`[object Uint8ClampedArray]`,Fm=`[object Uint16Array]`,Im=`[object Uint32Array]`,Lm={};Lm[dm]=Lm[fm]=Lm[Em]=Lm[Dm]=Lm[pm]=Lm[mm]=Lm[Om]=Lm[km]=Lm[Am]=Lm[jm]=Lm[Mm]=Lm[vm]=Lm[ym]=Lm[bm]=Lm[xm]=Lm[Sm]=Lm[Cm]=Lm[wm]=Lm[Nm]=Lm[Pm]=Lm[Fm]=Lm[Im]=!0,Lm[hm]=Lm[gm]=Lm[Tm]=!1;function Rm(e,t,n,r,i,a){var o,s=t&cm,c=t&lm,l=t&um;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!Ls(e))return e;var u=ws(e);if(u){if(o=mp(e),!s)return Nc(e,o)}else{var d=dp(e),f=d==gm||d==_m;if(Nl(e))return jf(e,s);if(d==bm||d==dm||f&&!i){if(o=c||f?{}:Zp(e),!s)return c?Uf(e,Tf(o,e)):Bf(e,Cf(o,e))}else{if(!Lm[d])return i?e:{};o=Yp(e,d,s)}}a||=new xf;var p=a.get(e);if(p)return p;a.set(e,o),sm(e)?e.forEach(function(r){o.add(Rm(r,t,n,r,e,a))}):nm(e)&&e.forEach(function(r,i){o.set(i,Rm(r,t,n,i,e,a))});var m=u?void 0:(l?c?Yf:qf:c?Mu:Tu)(e);return Wc(m||e,function(r,i){m&&(i=r,r=e[i]),tl(o,i,Rm(r,t,n,i,e,a))}),o}var zm=Rm,Bm=1,Vm=4;function Hm(e){return zm(e,Bm|Vm)}var Um=Hm,Wm=1,Gm=4;function Km(e,t){return t=typeof t==`function`?t:void 0,zm(e,Wm|Gm,t)}var qm=Km,Jm=`__lodash_hash_undefined__`;function Ym(e){return this.__data__.set(e,Jm),this}var Xm=Ym;function Zm(e){return this.__data__.has(e)}var Qm=Zm;function $m(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jd;++t<n;)this.add(e[t])}$m.prototype.add=$m.prototype.push=Xm,$m.prototype.has=Qm;var eh=$m;function th(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var nh=th;function rh(e,t){return e.has(t)}var ih=rh,ah=1,oh=2;function sh(e,t,n,r,i,a){var o=n&ah,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var d=-1,f=!0,p=n&oh?new eh:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],h=t[d];if(r)var g=o?r(h,m,d,t,e,a):r(m,h,d,e,t,a);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!nh(t,function(e,t){if(!ih(p,t)&&(m===e||i(m,e,n,r,a)))return p.push(t)})){f=!1;break}}else if(!(m===h||i(m,h,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var ch=sh;function lh(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}var uh=lh;function dh(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var fh=dh,ph=1,mh=2,hh=`[object Boolean]`,gh=`[object Date]`,_h=`[object Error]`,vh=`[object Map]`,yh=`[object Number]`,bh=`[object RegExp]`,xh=`[object Set]`,Sh=`[object String]`,Ch=`[object Symbol]`,wh=`[object ArrayBuffer]`,Th=`[object DataView]`,Eh=ns?ns.prototype:void 0,Dh=Eh?Eh.valueOf:void 0;function Oh(e,t,n,r,i,a,o){switch(n){case Th:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wh:return!(e.byteLength!=t.byteLength||!a(new hp(e),new hp(t)));case hh:case gh:case yh:return Qc(+e,+t);case _h:return e.name==t.name&&e.message==t.message;case bh:case Sh:return e==t+``;case vh:var s=uh;case xh:var c=r&ph;if(s||=fh,e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=mh,o.set(e,t);var u=ch(s(e),s(t),r,i,a,o);return o.delete(e),u;case Ch:if(Dh)return Dh.call(e)==Dh.call(t)}return!1}var kh=Oh,Ah=1,jh=Object.prototype.hasOwnProperty;function Mh(e,t,n,r,i,a){var o=n&Ah,s=qf(e),c=s.length;if(c!=qf(t).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in t:jh.call(t,u)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=o;++l<c;){u=s[l];var h=e[u],g=t[u];if(r)var _=o?r(g,h,u,t,e,a):r(h,g,u,e,t,a);if(!(_===void 0?h===g||i(h,g,n,r,a):_)){p=!1;break}m||=u==`constructor`}if(p&&!m){var v=e.constructor,y=t.constructor;v!=y&&`constructor`in e&&`constructor`in t&&!(typeof v==`function`&&v instanceof v&&typeof y==`function`&&y instanceof y)&&(p=!1)}return a.delete(e),a.delete(t),p}var Nh=Mh,Ph=1,Fh=`[object Arguments]`,Ih=`[object Array]`,Lh=`[object Object]`,Rh=Object.prototype.hasOwnProperty;function zh(e,t,n,r,i,a){var o=ws(e),s=ws(t),c=o?Ih:dp(e),l=s?Ih:dp(t);c=c==Fh?Lh:c,l=l==Fh?Lh:l;var u=c==Lh,d=l==Lh,f=c==l;if(f&&Nl(e)){if(!Nl(t))return!1;o=!0,u=!1}if(f&&!u)return a||=new xf,o||mu(e)?ch(e,t,n,r,i,a):kh(e,t,c,n,r,i,a);if(!(n&Ph)){var p=u&&Rh.call(e,`__wrapped__`),m=d&&Rh.call(t,`__wrapped__`);if(p||m){var h=p?e.value():e,g=m?t.value():t;return a||=new xf,i(h,g,n,r,a)}}return f?(a||=new xf,Nh(e,t,n,r,i,a)):!1}var Bh=zh;function Vh(e,t,n,r,i){return e===t?!0:e==null||t==null||!vs(e)&&!vs(t)?e!==e&&t!==t:Bh(e,t,n,r,Vh,i)}var Hh=Vh,Uh=1,Wh=2;function Gh(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var c=s[0],l=e[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in e))return!1}else{var d=new xf;if(r)var f=r(l,u,c,e,t,d);if(!(f===void 0?Hh(u,l,Uh|Wh,r,d):f))return!1}}return!0}var Kh=Gh;function qh(e){return e===e&&!Ls(e)}var Jh=qh;function Yh(e){for(var t=Tu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Jh(i)]}return t}var Xh=Yh;function Zh(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Qh=Zh;function $h(e){var t=Xh(e);return t.length==1&&t[0][2]?Qh(t[0][0],t[0][1]):function(n){return n===e||Kh(n,e,t)}}var eg=$h;function tg(e,t){return e!=null&&t in Object(e)}var ng=tg;function rg(e,t,n){t=Wd(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=qd(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&dl(i)&&Jc(o,i)&&(ws(e)||Dl(e)))}var ig=rg;function ag(e,t){return e!=null&&ig(e,t,ng)}var og=ag,sg=1,cg=2;function lg(e,t){return Iu(e)&&Jh(t)?Qh(qd(e),t):function(n){var r=Zd(n,e);return r===void 0&&r===t?og(n,e):Hh(t,r,sg|cg)}}var ug=lg;function dg(e){return function(t){return t?.[e]}}var fg=dg;function pg(e){return function(t){return Yd(t,e)}}var mg=pg;function hg(e){return Iu(e)?fg(qd(e)):mg(e)}var gg=hg;function _g(e){return typeof e==`function`?e:e==null?Qs:typeof e==`object`?ws(e)?ug(e[0],e[1]):eg(e):gg(e)}var vg=_g;function yg(e,t,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var bg=yg;function xg(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(n(a[c],c,a)===!1)break}return t}}var Sg=xg,Cg=Sg();function wg(e,t){return e&&Cg(e,t,Tu)}var Tg=wg;function Eg(e,t){return function(n,r){if(n==null)return n;if(!pl(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Dg=Eg,Og=Dg(Tg);function kg(e,t,n,r){return Og(e,function(e,i,a){t(r,e,n(e),a)}),r}var Ag=kg;function jg(e,t){return function(n,r){var i=ws(n)?bg:Ag,a=t?t():{};return i(n,e,vg(r,2),a)}}var Mg=jg,Ng=function(){return ts.Date.now()},Pg=`Expected a function`,Fg=Math.max,Ig=Math.min;function Lg(e,t,n){var r,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if(typeof e!=`function`)throw TypeError(Pg);t=Ws(t)||0,Ls(n)&&(u=!!n.leading,d=`maxWait`in n,a=d?Fg(Ws(n.maxWait)||0,t):a,f=`trailing`in n?!!n.trailing:f);function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n),o}function m(e){return l=e,s=setTimeout(_,t),u?p(e):o}function h(e){var n=e-c,r=e-l,i=t-n;return d?Ig(i,a-r):i}function g(e){var n=e-c,r=e-l;return c===void 0||n>=t||n<0||d&&r>=a}function _(){var e=Ng();if(g(e))return v(e);s=setTimeout(_,h(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,r=c=i=s=void 0}function b(){return s===void 0?o:v(Ng())}function x(){var e=Ng(),n=g(e);if(r=arguments,i=this,c=e,n){if(s===void 0)return m(c);if(d)return clearTimeout(s),s=setTimeout(_,t),p(c)}return s===void 0&&(s=setTimeout(_,t)),o}return x.cancel=y,x.flush=b,x}var Rg=Lg;function zg(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Bg=zg;function Vg(e){return typeof e==`function`?e:Qs}var Hg=Vg;function Ug(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}var Wg=Ug,Gg=Sg(!0);function Kg(e,t){return e&&Gg(e,t,Tu)}var qg=Dg(Kg,!0);function Jg(e,t){return(ws(e)?Wg:qg)(e,Hg(t))}var Yg=Jg;function Xg(e){return e&&e.length?e[0]:void 0}var Zg=Xg;function Qg(e,t){var n=-1,r=pl(e)?Array(e.length):[];return Og(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var $g=Qg;function e_(e,t){return(ws(e)?Cs:$g)(e,vg(t,3))}var t_=e_,n_=Object.prototype.hasOwnProperty,r_=Mg(function(e,t,n){n_.call(e,n)?e[n].push(t):Xc(e,n,[t])});function i_(e){return e!=null&&e.length?cf(e,0,-1):[]}var a_=i_,o_=`[object Map]`,s_=`[object Set]`,c_=Object.prototype.hasOwnProperty;function l_(e){if(e==null)return!0;if(pl(e)&&(ws(e)||typeof e==`string`||typeof e.splice==`function`||Nl(e)||mu(e)||Dl(e)))return!e.length;var t=dp(e);if(t==o_||t==s_)return!e.size;if(vl(e))return!Cu(e).length;for(var n in e)if(c_.call(e,n))return!1;return!0}var u_=l_;function d_(e,t){return Hh(e,t)}var f_=d_;function p_(e,t){return e<t}var m_=p_;function h_(e,t){var n={};return t=vg(t,3),Tg(e,function(e,r,i){Xc(n,r,t(e,r,i))}),n}var g_=h_;function __(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!xs(o):n(o,s)))var s=o,c=a}return c}var v_=__;function y_(e,t){return e&&e.length?v_(e,vg(t,2),m_):void 0}var b_=y_;function x_(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var S_=x_;function C_(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=xs(e),o=t!==void 0,s=t===null,c=t===t,l=xs(t);if(!s&&!l&&!a&&e>t||a&&o&&c&&!s&&!l||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0}var w_=C_;function T_(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=w_(i[r],a[r]);if(c)return r>=s?c:c*(n[r]==`desc`?-1:1)}return e.index-t.index}var E_=T_;function D_(e,t,n){t=t.length?Cs(t,function(e){return ws(e)?function(t){return Yd(t,e.length===1?e[0]:e)}:e}):[Qs];var r=-1;return t=Cs(t,cu(vg)),S_($g(e,function(e,n,i){return{criteria:Cs(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return E_(e,t,n)})}var O_=D_,k_=Mg(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),A_=Math.ceil,j_=Math.max;function M_(e,t,n,r){for(var i=-1,a=j_(A_((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var N_=M_;function P_(e){return function(t,n,r){return r&&typeof r!=`number`&&hl(t,n,r)&&(n=r=void 0),t=Js(t),n===void 0?(n=t,t=0):n=Js(n),r=r===void 0?t<n?1:-1:Js(r),N_(t,n,r,e)}}var F_=P_(),I_=cl(function(e,t){if(e==null)return[];var n=t.length;return n>1&&hl(e,t[0],t[1])?t=[]:n>2&&hl(t[0],t[1],t[2])&&(t=[t[0]]),O_(e,af(t,1),[])}),L_=9007199254740991,R_=4294967295,z_=Math.min;function B_(e,t){if(e=Xs(e),e<1||e>L_)return[];var n=R_,r=z_(e,R_);t=Hg(t),e-=R_;for(var i=bl(r,t);++n<e;)t(n);return i}var V_=B_,H_=0;function U_(e){var t=++H_;return Hd(e)+t}var W_=U_,G_=1e4,K_=[];function q_(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function J_(e,t=!1){let n={};if(!Array.isArray(e))throw TypeError(`Array expected`);function r(e,i){(!Array.isArray(e)&&!Vo(e)||t&&i.length>0)&&(n[Aa(i)]=!0),Vo(e)&&Object.keys(e).forEach(t=>{r(e[t],i.concat(t))})}let i=Math.min(e.length,G_);for(let t=0;t<i;t++){let n=e[t];r(n,K_)}return Object.keys(n).sort().map(ka)}function Y_(e,t,n){if(!(t<=e))for(let r=e;r<t;r++)n(r)}function X_(e,t){return e.length>t?e.slice(0,t):e}function Z_(e){return{...e}}function Q_(e){return Object.values(e)}function $_(e,t,n,r){let i=e.slice(0),a=i.splice(t,n);return i.splice.apply(i,[t+r,0,...a]),i}function ev(e,t,n){if(e.length<t)e.forEach(n);else{let r=t>1?(e.length-1)/(t-1):e.length;for(let i=0;i<t;i++){let t=Math.floor(i*r);n(e[t],t,e)}}}function tv(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}var nv=u(Za(),1);function rv(e,t){try{return t.parse(e)}catch{return t.parse(Io(e))}}function iv(e,t){try{return rv(e,t)}catch{return}}function av(e,t){e=e.replace(sv,``);try{return t(e)}catch{}try{return t(`{`+e+`}`)}catch{}try{return t(`[`+e+`]`)}catch{}throw Error(`Failed to parse partial JSON`)}function ov(e){e=e.replace(sv,``);try{return Io(e)}catch{}try{let t=Io(`[`+e+`]`);return t.substring(1,t.length-1)}catch{}try{let t=Io(`{`+e+`}`);return t.substring(1,t.length-1)}catch{}throw Error(`Failed to repair partial JSON`)}var sv=/,\s*$/;function cv(e,t){let n=xv.exec(t);if(n){let r=Ro(n[2]),i=uv(e,`
`,0,r),a=r-e.lastIndexOf(`
`,r)-1;return{position:r,line:i,column:a,message:t.replace(xv,()=>`line ${i+1} column ${a+1}`)}}else{let n=Sv.exec(t),r=n?Ro(n[1]):void 0,i=r===void 0?void 0:r-1,a=Cv.exec(t),o=a?Ro(a[1]):void 0,s=o===void 0?void 0:o-1;return{position:i!==void 0&&s!==void 0?lv(e,i,s):void 0,line:i,column:s,message:t.replace(/^JSON.parse: /,``).replace(/ of the JSON data$/,``)}}}function lv(e,t,n){let r=e.indexOf(`
`),i=1;for(;i<t&&r!==-1;)r=e.indexOf(`
`,r+1),i++;return r===-1?void 0:r+n+1}function uv(e,t,n=0,r=e.length){let i=0;for(let a=n;a<r;a++)e.charAt(a)===t&&i++;return i}function dv(e,t){try{let n=nv.parse(e),r=Aa(t),i=n.pointers[r];if(i)return{path:t,line:i.key?i.key.line:i.value?i.value.line:0,column:i.key?i.key.column:i.value?i.value.column:0,from:i.key?i.key.pos:i.value?i.value.pos:0,to:i.keyEnd?i.keyEnd.pos:i.valueEnd?i.valueEnd.pos:0}}catch(e){console.error(e)}return{path:t,line:0,column:0,from:0,to:0}}function fv(e,t,n){if(t===`array`){if(Array.isArray(e))return e;if(Vo(e))return Q_(e);if(typeof e==`string`)try{let t=n.parse(e);if(Array.isArray(t))return t;if(Vo(t))return Q_(t)}catch{return[e]}return[e]}if(t===`object`){if(Array.isArray(e))return Z_(e);if(Vo(e))return e;if(typeof e==`string`)try{let t=n.parse(e);if(Vo(t))return t;if(Array.isArray(t))return Z_(t)}catch{return{value:e}}return{value:e}}if(t===`value`)return Ho(e)?n.stringify(e):e;throw Error(`Cannot convert ${Jo(e,n)} to ${t}`)}function pv(e){if(!Vo(e))return`Content must be an object`;if(e.json!==void 0)return e.text===void 0?void 0:`Content must contain either a property "json" or a property "text" but not both`;if(e.text===void 0)return`Content must contain either a property "json" or a property "text"`;if(typeof e.text!=`string`)return`Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?`}function mv(e){return Vo(e)&&typeof e.text==`string`}function hv(e){return Vo(e)&&e.json!==void 0}function gv(e,t=void 0,n=JSON){return mv(e)?e:{text:n.stringify(e.json,null,t)}}function _v(e,t=JSON){return hv(e)?e:{json:t.parse(e.text)}}function vv(e,t,n){return gv(e,t,n).text}function yv(e,t){return bv(e,t)>t}function bv(e,t=1/0){if(mv(e))return e.text.length;let n=e.json,r=0;function i(e){if(Array.isArray(e)){if(r+=2+(e.length-1),r>t)return;for(let n=0;n<e.length;n++){let a=e[n];if(i(a),r>t)return}}else if(Vo(e)){let t=Object.keys(e);r+=2+t.length+(t.length-1);for(let n=0;n<t.length;n++){let a=t[n],o=e[a];r+=a.length+2,i(o)}}else typeof e==`string`?r+=e.length+2:r+=String(e).length}return i(n),r}var xv=/(position|char) (\d+)/,Sv=/line (\d+)/,Cv=/column (\d+)/;function wv(e,t){return e.parse===t.parse&&e.stringify===t.stringify}function Tv(e){let t=e.substring(0,999).trim();return!t.includes(`
`)&&Ev.test(t)}var Ev=/[,:]\S/,Dv;(function(e){e.text=`text`,e.tree=`tree`,e.table=`table`})(Dv||={});var Ov;(function(e){e.after=`after`,e.inside=`inside`,e.key=`key`,e.value=`value`,e.multi=`multi`,e.text=`text`})(Ov||={});var kv;(function(e){e.after=`after`,e.key=`key`,e.value=`value`,e.inside=`inside`})(kv||={});var Av;(function(e){e.info=`info`,e.warning=`warning`,e.error=`error`})(Av||={});var jv;(function(e){e.key=`key`,e.value=`value`})(jv||={});var Mv;(function(e){e.asc=`asc`,e.desc=`desc`})(Mv||={});var Nv;(function(e){e.no=`no`,e.self=`self`,e.nextInside=`nextInside`})(Nv||={});function Pv({escapeControlCharacters:e,escapeUnicodeCharacters:t}){return e?t?Fv:Iv:t?Lv:Rv}var Fv={escapeValue:e=>zv(Uv(String(e))),unescapeValue:e=>Wv(Bv(e))},Iv={escapeValue:e=>Uv(String(e)),unescapeValue:e=>Wv(e)},Lv={escapeValue:e=>zv(String(e)),unescapeValue:e=>Bv(e)},Rv={escapeValue:e=>String(e),unescapeValue:e=>e};function zv(e){return e.replace(/[^\x20-\x7F]/g,e=>e===`\b`||e===`\f`||e===`
`||e===`\r`||e===`	`?e:`\\u`+(`000`+e.codePointAt(0)?.toString(16)).slice(-4))}function Bv(e){return e.replace(/\\u[a-fA-F0-9]{4}/g,e=>{try{let t=JSON.parse(`"`+e+`"`);return Vv[t]||t}catch{return e}})}var Vv={'"':`\\"`,"\\":`\\\\`,"\b":`\\b`,"\f":`\\f`,"\n":`\\n`,"\r":`\\r`,"	":`\\t`},Hv={'\\"':`"`,"\\\\":`\\`,"\\/":`/`,"\\b":`\b`,"\\f":`\f`,"\\n":`
`,"\\r":`\r`,"\\t":`	`};function Uv(e){return e.replace(/["\b\f\n\r\t\\]/g,e=>Vv[e]||e)}function Wv(e){return e.replace(/\\["bfnrt\\]/g,e=>Hv[e]||e)}function Gv(e){return typeof e==`string`?e.endsWith(`
`)?e+`
`:e:String(e)}function Kv(e){return e.replace(/\n$/,``)}function qv(e,t){return Zv(e,e=>e.nodeName.toUpperCase()===t.toUpperCase())}function Jv(e,t,n){return Zv(e,e=>Xv(e,t,n))}function Yv(e){return e.nodeName===`DIV`&&e.contentEditable===`true`}function Xv(e,t,n){return typeof e.getAttribute==`function`&&e.getAttribute(t)===n}function Zv(e,t){return!!Qv(e,t)}function Qv(e,t){let n=e;for(;n&&!t(n);)n=n.parentNode;return n}function $v(e){if(e.firstChild==null){e.focus();return}let t=document.createRange(),n=window.getSelection();t.setStart(e,1),t.collapse(!0),n?.removeAllRanges(),n?.addRange(t)}function ey(e){return e?.ownerDocument?.defaultView??void 0}function ty(e){let t=ey(e)?.document.activeElement;return t?Zv(t,t=>t===e):!1}function ny(e,t){return Qv(e,e=>e.nodeName===t)}function ry(e){return Jv(e,`data-type`,`selectable-key`)?Ov.key:Jv(e,`data-type`,`selectable-value`)?Ov.value:Jv(e,`data-type`,`insert-selection-area-inside`)?Ov.inside:Jv(e,`data-type`,`insert-selection-area-after`)?Ov.after:Ov.multi}function iy(e){return encodeURIComponent(Aa(e))}function ay(e){return ka(decodeURIComponent(e))}function oy(e){let t=Qv(e,e=>e?.hasAttribute?e.hasAttribute(`data-path`):!1)?.getAttribute(`data-path`)??void 0;return t?ay(t):void 0}function sy({allElements:e,currentElement:t,direction:n,hasPrio:r=()=>!0,margin:i=10}){let a=t_(e.filter(s),c),o=c(t);function s(e){let t=e.getBoundingClientRect();return t.width>0&&t.height>0}function c(e){let t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2,rect:t,element:e}}let l=(e,t)=>Math.abs(e.y-t.y)<i,u=(e,t)=>e.rect.left+i<t.rect.left,d=(e,t)=>e.rect.right>t.rect.right+i,f=(e,t)=>e.y+i<t.y,p=(e,t)=>e.y>t.y+i;function m(e,t,n=1){let r=e.x-t.x,i=(e.y-t.y)*n;return Math.sqrt(r*r+i*i)}let h=e=>m(e,o),g=e=>m(e,o,10);if(n===`Left`||n===`Right`){let e=n===`Left`?a.filter(e=>u(e,o)):a.filter(e=>d(e,o));return(b_(e.filter(e=>l(e,o)),h)||b_(e,g))?.element}if(n===`Up`||n===`Down`){let e=n===`Up`?a.filter(e=>f(e,o)):a.filter(e=>p(e,o));return(b_(e.filter(e=>r(e.element)),h)||b_(e,h))?.element}}function cy(){return typeof navigator<`u`&&(navigator?.platform?.toUpperCase().includes(`MAC`)??navigator?.userAgentData?.platform?.toUpperCase().includes(`MAC`)??!1)}function ly(e,t=`+`,n=cy){let r=[];uy(e,n)&&r.push(`Ctrl`),e.altKey&&r.push(`Alt`),e.shiftKey&&r.push(`Shift`);let i=e.key.length===1?e.key.toUpperCase():e.key;return i in dy||r.push(i),r.join(t)}function uy(e,t=cy){return e.ctrlKey||e.metaKey&&t()}var dy={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0},fy=J(`<div class="jse-absolute-popup-content svelte-w643yj"><input type="text" readonly="" tabindex="-1" class="jse-hidden-input svelte-w643yj"/> <!></div>`),py=J(`<div role="none" class="jse-absolute-popup svelte-w643yj"><!></div>`);function my(e,t){Re(t,!1);let n=Z(t,`popup`,8),r=Z(t,`closeAbsolutePopup`,8),i=R(),a=R();qi(f);function o(e){n().options&&n().options.closeOnOuterClick&&!Zv(e.target,e=>e===W(i))&&r()(n().id)}function s(e){o(e)}function c(e){e.stopPropagation()}function l(e){ly(e)===`Escape`&&(e.preventDefault(),e.stopPropagation(),r()(n().id))}function u(e){o(e)}function d(e,t){function n(){if(t.anchor){let{anchor:e,width:n=0,height:r=0,offsetTop:i=0,offsetLeft:a=0,position:o}=t,{left:s,top:c,bottom:l,right:u}=e.getBoundingClientRect(),d=o===`top`||c+r>window.innerHeight&&c>r,f=o===`left`||s+n>window.innerWidth&&s>n;return{left:f?u-a:s+a,top:d?c-i:l+i,positionAbove:d,positionLeft:f}}else if(typeof t.left==`number`&&typeof t.top==`number`){let{left:e,top:n,width:r=0,height:i=0}=t;return{left:e,top:n,positionAbove:n+i>window.innerHeight&&n>i,positionLeft:e+r>window.innerWidth&&e>r}}else throw Error(`Invalid config: pass either "left" and "top", or pass "anchor"`)}let r=e.getBoundingClientRect(),{left:i,top:a,positionAbove:o,positionLeft:s}=n();return(o?`bottom: ${r.top-a}px;`:`top: ${a-r.top}px;`)+(s?`right: ${r.left-i}px;`:`left: ${i-r.left}px;`)}function f(){W(a)&&W(a).focus()}Li();var p=py();q(`mousedown`,Vt,s,!0),q(`keydown`,Vt,l,!0),q(`wheel`,Vt,u,!0);var m=B(p),h=e=>{var t=fy(),r=B(t);Ni(r,e=>z(a,e),()=>W(a)),Zr(V(r,2),()=>n().component,(e,t)=>{t(e,Ki(()=>n().props))}),I(t),U(e=>di(t,e),[()=>(W(i),K(n()),G(()=>d(W(i),n().options)))]),Y(e,t)};X(m,e=>{W(i)&&e(h)}),I(p),Ni(p,e=>z(i,e),()=>W(i)),q(`mousedown`,p,c),q(`keydown`,p,l),Y(e,p),ze()}var hy=J(`<!> <!>`,1);function gy(e,t){Re(t,!1);let n=$i(`jsoneditor:AbsolutePopup`),r=R([],!0);function i(e,t,i){n(`open...`,t,i);let a={id:oa(),component:e,props:t||{},options:i||{}};return z(r,[...W(r),a]),a.id}function a(e){let t=W(r).findIndex(t=>t.id===e);if(t!==-1){let n=W(r)[t];n.options.onClose&&n.options.onClose(),z(r,W(r).filter(t=>t.id!==e))}}Le(`absolute-popup`,{openAbsolutePopup:i,closeAbsolutePopup:a}),H(()=>W(r),()=>{n(`popups`,W(r))}),gn(),Li(!0);var o=hy(),s=Xt(o);Hr(s,1,()=>W(r),Rr,(e,t)=>{my(e,{get popup(){return W(t)},closeAbsolutePopup:a})}),Jr(V(s,2),t,`default`,{},null),Y(e,o),ze()}var _y=e=>Array.isArray(e),vy=e=>typeof e==`object`&&!!e&&!_y(e),yy=e=>typeof e==`string`,by=(e,t)=>e===t?!0:e!==null&&t!==null&&typeof e==`object`&&typeof t==`object`&&Object.keys(e).length===Object.keys(t).length&&Object.entries(e).every(([e,n])=>by(n,t[e])),xy=(e,t)=>{let n=e?.[t];if(n!==void 0){if(!Object.hasOwn(e,t)||Array.isArray(e)&&!/^\d+$/.test(t)||typeof e!=`object`)throw TypeError(`Unsupported property "${t}"`);return n}};function Sy(e){return(...t)=>{let n=t.map(e=>Iy(e)),r=n[0],i=n[1];return n.length===1?t=>e(r(t)):n.length===2?t=>e(r(t),i(t)):t=>e(...n.map(e=>e(t)))}}var Cy={boolean:0,number:1,string:2},wy=3,Ty=(e,t)=>typeof e==typeof t&&typeof e in Cy?e>t:!1,Ey=(e,t)=>by(e,t)||Ty(e,t),Dy=(e,t)=>typeof e==typeof t&&typeof e in Cy?e<t:!1,Oy=(e,t)=>by(e,t)||Dy(e,t),ky={pipe:(...e)=>{let t=e.map(e=>Iy(e));return e=>t.reduce((e,t)=>t(e),e)},object:e=>{let t=Object.keys(e).map(t=>[t,Iy(e[t])]);return e=>{let n={};for(let[r,i]of t)n[r]=i(e);return n}},array:(...e)=>{let t=e.map(e=>Iy(e));return e=>t.map(t=>t(e))},get:(...e)=>{if(e.length===0)return e=>e??null;if(e.length===1){let t=e[0];return e=>xy(e,t)??null}return t=>{let n=t;for(let t of e)n=xy(n,t);return n??null}},map:e=>{let t=Iy(e);return e=>e.map(t)},mapObject:e=>{let t=Iy(e);return e=>{let n={};for(let r of Object.keys(e)){let i=t({key:r,value:e[r]});n[i.key]=i.value}return n}},mapKeys:e=>{let t=Iy(e);return e=>{let n={};for(let r of Object.keys(e)){let i=t(r);n[i]=e[r]}return n}},mapValues:e=>{let t=Iy(e);return e=>{let n={};for(let r of Object.keys(e))n[r]=t(e[r]);return n}},filter:e=>{let t=Iy(e);return e=>e.filter(e=>Ay(t(e)))},sort:(e=[`get`],t)=>{let n=Iy(e),r=t===`desc`?-1:1;function i(e,t){let i=n(e),a=n(t);if(typeof i!=typeof a){let e=Cy[typeof i]??wy,t=Cy[typeof a]??wy;return e>t?r:e<t?-r:0}return typeof i in Cy?i>a?r:i<a?-r:0:0}return e=>e.slice().sort(i)},reverse:()=>e=>e.toReversed(),pick:(...e)=>{let t=e.map(([e,...t])=>[t[t.length-1],ky.get(...t)]),n=(e,t)=>{let n={};for(let[r,i]of t)n[r]=i(e);return n};return e=>_y(e)?e.map(e=>n(e,t)):n(e,t)},groupBy:e=>{let t=Iy(e);return e=>{let n={};for(let r of e){let e=t(r);n[e]?n[e].push(r):n[e]=[r]}return n}},keyBy:e=>{let t=Iy(e);return e=>{let n={};for(let r of e){let e=t(r);e in n||(n[e]=r)}return n}},flatten:()=>e=>e.flat(),join:(e=``)=>t=>t.join(e),split:Sy((e,t)=>t===void 0?e.trim().split(/\s+/):e.split(t)),substring:Sy((e,t,n)=>e.slice(Math.max(t,0),n)),uniq:()=>e=>{let t=[];for(let n of e)t.findIndex(e=>by(e,n))===-1&&t.push(n);return t},uniqBy:e=>t=>Object.values(ky.keyBy(e)(t)),limit:e=>t=>t.slice(0,Math.max(e,0)),size:()=>e=>e.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>e=>jy(e,(e,t)=>e*t),sum:()=>e=>_y(e)?e.reduce((e,t)=>e+t,0):Ny(),average:()=>e=>_y(e)?e.length>0?e.reduce((e,t)=>e+t)/e.length:null:Ny(),min:()=>e=>jy(e,(e,t)=>Math.min(e,t)),max:()=>e=>jy(e,(e,t)=>Math.max(e,t)),and:Sy((...e)=>jy(e,(e,t)=>!!(e&&t))),or:Sy((...e)=>jy(e,(e,t)=>!!(e||t))),not:Sy(e=>!e),exists:e=>{let t=e.slice(1),n=t.pop(),r=ky.get(...t);return e=>{let t=r(e);return!!t&&Object.hasOwnProperty.call(t,n)}},if:(e,t,n)=>{let r=Iy(e),i=Iy(t),a=Iy(n);return e=>Ay(r(e))?i(e):a(e)},in:(e,t)=>{let n=Iy(e),r=Iy(t);return e=>{let t=n(e);return r(e).findIndex(e=>by(e,t))!==-1}},"not in":(e,t)=>{let n=ky.in(e,t);return e=>!n(e)},regex:(e,t,n)=>{let r=new RegExp(t,n),i=Iy(e);return e=>r.test(i(e))},match:(e,t,n)=>{let r=new RegExp(t,n),i=Iy(e);return e=>{let t=i(e).match(r);return t?My(t):null}},matchAll:(e,t,n)=>{let r=new RegExp(t,`${n??``}g`),i=Iy(e);return e=>Array.from(i(e).matchAll(r)).map(My)},eq:Sy(by),gt:Sy(Ty),gte:Sy(Ey),lt:Sy(Dy),lte:Sy(Oy),ne:Sy((e,t)=>!by(e,t)),add:Sy((e,t)=>e+t),subtract:Sy((e,t)=>e-t),multiply:Sy((e,t)=>e*t),divide:Sy((e,t)=>e/t),mod:Sy((e,t)=>e%t),pow:Sy((e,t)=>e**t),abs:Sy(Math.abs),round:Sy((e,t=0)=>+`${Math.round(+`${e}e${t}`)}e${-t}`),number:Sy(e=>{let t=Number(e);return Number.isNaN(Number(e))?null:t}),string:Sy(String)},Ay=e=>e!==null&&e!==0&&e!==!1,jy=(e,t)=>(_y(e)||Ny(),e.length===0?null:e.reduce(t)),My=e=>{let[t,...n]=e,r=e.groups;return n.length?r?{value:t,groups:n,namedGroups:r}:{value:t,groups:n}:{value:t}},Ny=()=>{Py(`Array expected`)},Py=e=>{throw TypeError(e)},Fy=[];function Iy(e,t){Fy.unshift({...ky,...Fy[0],...t?.functions});try{let t=_y(e)?Ly(e,Fy[0]):vy(e)?Py(`Function notation ["object", {...}] expected but got ${JSON.stringify(e)}`):()=>e;return n=>{try{return t(n)}catch(t){throw t.jsonquery=[{data:n,query:e},...t.jsonquery??[]],t}}}finally{Fy.shift()}}function Ly(e,t){let[n,...r]=e,i=t[n];return i||Py(`Unknown function '${n}'`),i(...r)}var Ry=[{pow:`^`},{multiply:`*`,divide:`/`,mod:`%`},{add:`+`,subtract:`-`},{gt:`>`,gte:`>=`,lt:`<`,lte:`<=`,in:`in`,"not in":`not in`},{eq:`==`,ne:`!=`},{and:`and`},{or:`or`},{pipe:`|`}],zy=[`|`,`and`,`or`],By=[`|`,`and`,`or`,`*`,`/`,`%`,`+`,`-`];function Vy(e,t){if(!_y(t))throw Error(`Invalid custom operators`);return t.reduce(Hy,e)}function Hy(e,{name:t,op:n,at:r,after:i,before:a}){if(r)return e.map(e=>Object.values(e).includes(r)?{...e,[t]:n}:e);let o=i??a,s=e.findIndex(e=>Object.values(e).includes(o));if(s!==-1)return e.toSpliced(s+(i?1:0),0,{[t]:n});throw Error(`Invalid custom operator`)}var Uy=/^[a-zA-Z_$][a-zA-Z\d_$]*$/,Wy=/^[a-zA-Z_$][a-zA-Z\d_$]*/,Gy=/^"(?:[^"\\]|\\.)*"/,Ky=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/,qy=/^(0|[1-9][0-9]*)/,Jy=/^(true|false|null)/,Yy=/^[ \n\t\r]+/;function Xy(e,t){let n=t?.operators??[],r=Vy(Ry,n),i=Object.assign({},...r),a=zy.concat(n.filter(e=>e.vararg).map(e=>e.op)),o=By.concat(n.filter(e=>e.leftAssociative).map(e=>e.op)),s=(t=r.length-1)=>{let n=r[t];if(!n)return l();let d=e[w]===`(`,f=s(t-1);for(;;){if(x(),e[w]===`.`&&`pipe`in n){let e=u();f=f[0]===`pipe`?[...f,e]:[`pipe`,f,e];continue}let r=w,l=c(n);if(!l)break;let p=s(t-1),m=l===f[0]&&!d;if(m&&!o.includes(i[l])){w=r;break}f=m&&a.includes(i[l])?[...f,p]:[l,f,p]}return f},c=t=>{let n=Object.keys(t).sort((e,t)=>t.length-e.length);for(let r of n){let n=t[r];if(e.substring(w,w+n.length)===n)return w+=n.length,x(),r}},l=()=>{if(x(),e[w]===`(`){w++;let e=s();return S(`)`),e}return u()},u=()=>{if(e[w]===`.`){let t=[];for(;e[w]===`.`;)w++,t.push(m()??h()??_()??C(`Property expected`)),x();return[`get`,...t]}return d()},d=()=>{let t=w,n=h();if(x(),!n||e[w]!==`(`)return w=t,f();w++,x();let r=e[w]===`)`?[]:[s()];for(;w<e.length&&e[w]!==`)`;)x(),S(`,`),r.push(s());return S(`)`),[n,...r]},f=()=>{if(e[w]===`{`){w++,x();let t={},n=!0;for(;w<e.length&&e[w]!==`}`;){n?n=!1:(S(`,`),x());let e=m()??h()??_()??C(`Key expected`);x(),S(`:`),t[e]=s()}return S(`}`),[`object`,t]}return p()},p=()=>{if(e[w]===`[`){w++,x();let t=[],n=!0;for(;w<e.length&&e[w]!==`]`;)n?n=!1:(S(`,`),x()),t.push(s());return S(`]`),[`array`,...t]}return m()??g()??v()},m=()=>b(Gy,JSON.parse),h=()=>b(Wy,e=>e),g=()=>b(Ky,JSON.parse),_=()=>b(qy,JSON.parse),v=()=>{let e=b(Jy,JSON.parse);if(e!==void 0)return e;C(`Value expected`)},y=()=>{x(),w<e.length&&C(`Unexpected part '${e.substring(w)}'`)},b=(t,n)=>{let r=e.substring(w).match(t);if(r)return w+=r[0].length,n(r[0])},x=()=>b(Yy,e=>e),S=t=>{e[w]!==t&&C(`Character '${t}' expected`),w++},C=(e,t=w)=>{throw SyntaxError(`${e} (pos: ${t})`)},w=0,T=s();return y(),T}var Zy=40,Qy=`  `,$y=(e,t)=>{let n=t?.indentation??Qy,r=t?.operators??[],i=Vy(Ry,r),a=Object.assign({},...i),o=By.concat(r.filter(e=>e.leftAssociative).map(e=>e.op)),s=(e,t,n=!1)=>_y(e)?c(e,t,n):JSON.stringify(e),c=(e,t,r)=>{let[c,...d]=e;if(c===`get`&&d.length>0)return u(d);if(c===`object`)return l(d[0],t);if(c===`array`)return f(d.map(e=>s(e,t)),[`[`,`, `,`]`],[`[
${t+n}`,`,
${t+n}`,`
${t}]`]);let p=a[c];if(p){let e=r?`(`:``,a=r?`)`:``;return f(d.map((e,r)=>{let a=e?.[0],l=i.findIndex(e=>c in e),u=i.findIndex(e=>a in e),d=l<u||l===u&&r>0||c===a&&!o.includes(p);return s(e,t+n,d)}),[e,` ${p} `,a],[e,`
${t+n}${p} `,a])}let m=d.length===1?t:t+n;return f(d.map(e=>s(e,m)),[`${c}(`,`, `,`)`],d.length===1?[`${c}(`,`,
${t}`,`)`]:[`${c}(
${m}`,`,
${m}`,`
${t})`])},l=(e,t)=>{let r=t+n;return f(Object.entries(e).map(([e,t])=>`${d(e)}: ${s(t,r)}`),[`{ `,`, `,` }`],[`{
${r}`,`,
${r}`,`
${t}}`])},u=e=>e.map(e=>`.${d(e)}`).join(``),d=e=>Uy.test(e)?e:JSON.stringify(e),f=(e,[n,r,i],[a,o,s])=>n.length+e.reduce((e,t)=>e+t.length+r.length,0)-r.length+i.length<=(t?.maxLineLength??Zy)?n+e.join(r)+i:a+e.join(o)+s;return s(e,``)};function eb(e,t,n){return Iy(yy(t)?Xy(t,n):t,n)(e)}function tb(e,t){let n=new Set(t),r=e.replace(/ \(copy( \d+)?\)$/,``),i=e,a=1;for(;n.has(i);)i=`${r} (${`copy`+(a>1?` `+a:``)})`,a++;return i}function nb(e,t){let n=t-3;return e.length>t?e.substring(0,n)+`...`:e}function rb(e){if(e===``)return``;let t=e.toLowerCase();if(t===`null`)return null;if(t===`true`)return!0;if(t===`false`)return!1;if(t===`undefined`)return;let n=Number(e),r=parseFloat(e);return!isNaN(n)&&!isNaN(r)?n:e}const ib={id:`jsonquery`,name:`JSONQuery`,description:`
<p>
  Enter a <a href="https://jsonquerylang.org" target="_blank" 
  rel="noopener noreferrer">JSON Query</a> function to filter, sort, or transform the data.
  You can use functions like <code>get</code>, <code>filter</code>,
  <code>sort</code>, <code>pick</code>, <code>groupBy</code>, <code>uniq</code>, etcetera. 
  Example query: <code>filter(.age >= 18)</code>
</p>
`,createQuery:ab,executeQuery:sb};function ab(e,t){let{filter:n,sort:r,projection:i}=t,a=[];return n&&n.path&&n.relation&&n.value&&a.push([`filter`,[cb(n.relation),ob(n.path),rb(n.value)]]),r&&r.path&&r.direction&&a.push([`sort`,ob(r.path),r.direction===`desc`?`desc`:`asc`]),i&&i.paths&&(i.paths.length>1?a.push([`pick`,...i.paths.map(ob)]):a.push([`map`,ob(i.paths[0])])),$y([`pipe`,...a])}function ob(e){return[`get`,...e]}function sb(e,t,n){function r(e){let t=n.stringify(e);return t===void 0?void 0:JSON.parse(t)}let i=wv(n,JSON)?e:r(e);return t.trim()===``?i:eb(i,t)}function cb(e){return Xy(`1 ${e} 1`)[0]}var lb={prefix:`far`,iconName:`clock`,icon:[512,512,[128339,`clock-four`],`f017`,`M464 256a208 208 0 1 1 -416 0 208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0 256 256 0 1 0 -512 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z`]},ub={prefix:`far`,iconName:`square-check`,icon:[448,512,[9745,9989,61510,`check-square`],`f14a`,`M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zm230.7 89.9c7.8-10.7 22.8-13.1 33.5-5.3 10.7 7.8 13.1 22.8 5.3 33.5L211.4 366.1c-4.1 5.7-10.5 9.3-17.5 9.8-7 .5-13.9-2-18.8-6.9l-55.9-55.9c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l36 36 105.6-145.2z`]},db={prefix:`far`,iconName:`lightbulb`,icon:[384,512,[128161],`f0eb`,`M296.5 291.1C321 265.2 336 230.4 336 192 336 112.5 271.5 48 192 48S48 112.5 48 192c0 38.4 15 73.2 39.5 99.1 21.3 22.4 44.9 54 53.3 92.9l102.4 0c8.4-39 32-70.5 53.3-92.9zm34.8 33C307.7 349 288 379.4 288 413.7l0 18.3c0 44.2-35.8 80-80 80l-32 0c-44.2 0-80-35.8-80-80l0-18.3C96 379.4 76.3 349 52.7 324.1 20 289.7 0 243.2 0 192 0 86 86 0 192 0S384 86 384 192c0 51.2-20 97.7-52.7 132.1zM144 184c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6 39.4-88 88-88 13.3 0 24 10.7 24 24s-10.7 24-24 24c-22.1 0-40 17.9-40 40z`]},fb={prefix:`far`,iconName:`square`,icon:[448,512,[9632,9723,9724,61590],`f0c8`,`M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z`]},pb=Or(`<g><!></g>`);function mb(e,t){Re(t,!1);let n=870711;function r(){return n+=1,`fa-${n.toString(16)}`}let i=R(``),a=Z(t,`data`,8);function o(e){if(!e||!e.raw)return``;let t=e.raw,n={};return t=t.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(e,t)=>{let i=r();return n[t]=i,` id="${i}"`}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(e,t,r,i)=>{let a=t||i;return!a||!n[a]?e:`#${n[a]}`}),t}H(()=>K(a()),()=>{z(i,o(a()))}),gn();var s=pb();qr(B(s),()=>W(i),!0),I(s),Y(e,s),ze()}var hb=Or(`<svg><!></svg>`);function gb(e,t){let n=Wi(Wi(t,[`children`,`$$slots`,`$$events`,`$$legacy`]),[`class`,`width`,`height`,`box`,`spin`,`inverse`,`pulse`,`flip`,`style`,`label`]),r=Z(t,`class`,8,``),i=Z(t,`width`,8),a=Z(t,`height`,8),o=Z(t,`box`,8,`0 0 0 0`),s=Z(t,`spin`,8,!1),c=Z(t,`inverse`,8,!1),l=Z(t,`pulse`,8,!1),u=Z(t,`flip`,8,`none`),d=Z(t,`style`,8,``),f=Z(t,`label`,8,``);var p=hb();wi(p,()=>({version:`1.1`,class:`fa-icon ${r()??``}`,width:i(),height:a(),"aria-label":f(),role:f()?`img`:`presentation`,viewBox:o(),style:d(),...n,[hi]:{"fa-spin":s(),"fa-pulse":l(),"fa-inverse":c(),"fa-flip-horizontal":u()===`horizontal`,"fa-flip-vertical":u()===`vertical`}}),void 0,void 0,void 0,`svelte-v67cny`),Jr(B(p),t,`default`,{},null),I(p),Y(e,p)}var _b=Or(`<path></path>`),vb=Or(`<polygon></polygon>`),yb=Or(`<!><!><!>`,1);function bb(e,t){let n=Wi(Wi(t,[`children`,`$$slots`,`$$events`,`$$legacy`]),[`class`,`data`,`scale`,`spin`,`inverse`,`pulse`,`flip`,`label`,`style`]);Re(t,!1);let r=Z(t,`class`,8,``),i=Z(t,`data`,8),a=R(),o=Z(t,`scale`,8,1),s=Z(t,`spin`,8,!1),c=Z(t,`inverse`,8,!1),l=Z(t,`pulse`,8,!1),u=Z(t,`flip`,8,void 0),d=Z(t,`label`,8,``),f=Z(t,`style`,8,``),p=R(10),m=R(10),h=R(),g=R();function _(e){let t,n;if(e)if(`definition`in e){console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead");return}else if(`iconName`in e&&`icon`in e){t=e.iconName;let[r,i,,,a]=e.icon;n={width:r,height:i,paths:(Array.isArray(a)?a:[a]).map(e=>({d:e}))}}else t=Object.keys(e)[0],n=e[t];else return;return n}function v(){let e=1;return o()!==void 0&&(e=Number(o())),isNaN(e)||e<=0?(console.warn(`Invalid prop: prop "scale" should be a number over 0.`),1):e*1}function y(){return W(a)?`0 0 ${W(a).width} ${W(a).height}`:`0 0 ${W(p)} ${W(m)}`}function b(){return W(a)?Math.max(W(a).width,W(a).height)/16:1}function x(){return W(a)?W(a).width/b()*v():0}function S(){return W(a)?W(a).height/b()*v():0}function C(){let e=``;f()!==null&&(e+=f());let t=v();return t===1?e.length===0?``:e:(e!==``&&!e.endsWith(`;`)&&(e+=`; `),`${e}font-size: ${t}em`)}H(()=>(K(i()),K(f()),K(o())),()=>{z(a,_(i())),f(),o(),z(p,x()),z(m,S()),z(h,C()),z(g,y())}),gn(),Li(),gb(e,Ki({get label(){return d()},get width(){return W(p)},get height(){return W(m)},get box(){return W(g)},get style(){return W(h)},get spin(){return s()},get flip(){return u()},get inverse(){return c()},get pulse(){return l()},get class(){return r()}},()=>n,{children:(e,n)=>{var r=Ar();Jr(Xt(r),t,`default`,{},e=>{var t=yb(),n=Xt(t);Hr(n,1,()=>(W(a),G(()=>W(a)?.paths||[])),Rr,(e,t)=>{var n=_b();wi(n,()=>({...W(t)})),Y(e,n)});var r=V(n);Hr(r,1,()=>(W(a),G(()=>W(a)?.polygons||[])),Rr,(e,t)=>{var n=vb();wi(n,()=>({...W(t)})),Y(e,n)});var i=V(r),o=e=>{mb(e,{get data(){return W(a)},set data(e){z(a,e)},$$legacy:!0})};X(i,e=>{W(a),G(()=>W(a)?.raw)&&e(o)}),Y(e,t)}),Y(e,r)},$$slots:{default:!0}})),ze()}var xb=J(`<div role="checkbox" tabindex="-1"><!></div>`);function Sb(e,t){Re(t,!1);let n=Z(t,`path`,9),r=Z(t,`value`,9),i=Z(t,`readOnly`,9),a=Z(t,`onPatch`,9),o=Z(t,`focus`,9);function s(e){e.stopPropagation(),!i()&&(a()([{op:`replace`,path:Aa(n()),value:!r()}]),o()())}Li(!0);var c=xb();let l;var u=B(c);{let e=St(()=>r()===!0?ub:fb);bb(u,{get data(){return W(e)}})}I(c),U(()=>{Si(c,`aria-checked`,r()===!0),l=li(c,1,`jse-boolean-toggle svelte-16dbi57`,null,l,{"jse-readonly":i()}),Si(c,`title`,i()?`Boolean value ${r()}`:`Click to toggle this boolean value`)}),q(`mousedown`,c,s),Y(e,c),ze()}var Cb=`modulepreload`,wb=function(e,t){return new URL(e,t).href},Tb={};const Eb=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=wb(t,n),t in Tb)return;Tb[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:Cb,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var Db=c({default:()=>Gb});function Ob(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(t>0?e.toFixed(t).replace(/0+$/,``).replace(/\.$/,``):e.toString())||`0`}function kb(e){var t=document.createElement(`div`);return t.innerHTML=e,t.firstElementChild}function Ab(e,t,n){var r=!1;function i(e,t,n){return Math.max(t,Math.min(e,n))}function a(e,a,o){if(o&&(r=!0),r){e.preventDefault();var s=t.getBoundingClientRect(),c=s.width,l=s.height,u=a.clientX,d=a.clientY,f=i(u-s.left,0,c),p=i(d-s.top,0,l);n(f/c,p/l)}}function o(e,t){(e.buttons===void 0?e.which:e.buttons)===1?a(e,e,t):r=!1}function s(e,t){e.touches.length===1?a(e,e.touches[0],t):r=!1}e.add(t,`mousedown`,function(e){o(e,!0)}),e.add(t,`touchstart`,function(e){s(e,!0)}),e.add(window,`mousemove`,o),e.add(t,`touchmove`,s),e.add(window,`mouseup`,function(e){r=!1}),e.add(t,`touchend`,function(e){r=!1}),e.add(t,`touchcancel`,function(e){r=!1})}function jb(e,t){return(t||document).querySelector(e)}function Mb(e){e.preventDefault(),e.stopPropagation()}function Nb(e,t,n,r,i){e.add(t,Hb,function(e){n.indexOf(e.key)>=0&&(i&&Mb(e),r(e))})}var Pb,Fb,Ib,Lb,Rb,zb,Bb,Vb,Hb,Ub,Wb,Gb,Kb,qb=o((()=>{Pb=function(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)},Fb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ib=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw TypeError(`Invalid attempt to destructure non-iterable instance`)}}(),String.prototype.startsWith=String.prototype.startsWith||function(e){return this.indexOf(e)===0},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n},Lb={cb:`0f8ff`,tqw:`aebd7`,q:`-ffff`,qmrn:`7fffd4`,zr:`0ffff`,bg:`5f5dc`,bsq:`e4c4`,bck:`---`,nch:`ebcd`,b:`--ff`,bvt:`8a2be2`,brwn:`a52a2a`,brw:`deb887`,ctb:`5f9ea0`,hrt:`7fff-`,chcT:`d2691e`,cr:`7f50`,rnw:`6495ed`,crns:`8dc`,crms:`dc143c`,cn:`-ffff`,Db:`--8b`,Dcn:`-8b8b`,Dgnr:`b8860b`,Dgr:`a9a9a9`,Dgrn:`-64-`,Dkhk:`bdb76b`,Dmgn:`8b-8b`,Dvgr:`556b2f`,Drng:`8c-`,Drch:`9932cc`,Dr:`8b--`,Dsmn:`e9967a`,Dsgr:`8fbc8f`,DsTb:`483d8b`,DsTg:`2f4f4f`,Dtrq:`-ced1`,Dvt:`94-d3`,ppnk:`1493`,pskb:`-bfff`,mgr:`696969`,grb:`1e90ff`,rbrc:`b22222`,rwht:`af0`,stg:`228b22`,chs:`-ff`,gnsb:`dcdcdc`,st:`8f8ff`,g:`d7-`,gnr:`daa520`,gr:`808080`,grn:`-8-0`,grnw:`adff2f`,hnw:`0fff0`,htpn:`69b4`,nnr:`cd5c5c`,ng:`4b-82`,vr:`0`,khk:`0e68c`,vnr:`e6e6fa`,nrb:`0f5`,wngr:`7cfc-`,mnch:`acd`,Lb:`add8e6`,Lcr:`08080`,Lcn:`e0ffff`,Lgnr:`afad2`,Lgr:`d3d3d3`,Lgrn:`90ee90`,Lpnk:`b6c1`,Lsmn:`a07a`,Lsgr:`20b2aa`,Lskb:`87cefa`,LsTg:`778899`,Lstb:`b0c4de`,Lw:`e0`,m:`-ff-`,mgrn:`32cd32`,nn:`af0e6`,mgnt:`-ff`,mrn:`8--0`,mqm:`66cdaa`,mmb:`--cd`,mmrc:`ba55d3`,mmpr:`9370db`,msg:`3cb371`,mmsT:`7b68ee`,"":`-fa9a`,mtr:`48d1cc`,mmvt:`c71585`,mnLb:`191970`,ntc:`5fffa`,mstr:`e4e1`,mccs:`e4b5`,vjw:`dead`,nv:`--80`,c:`df5e6`,v:`808-0`,vrb:`6b8e23`,rng:`a5-`,rngr:`45-`,rch:`da70d6`,pgnr:`eee8aa`,pgrn:`98fb98`,ptrq:`afeeee`,pvtr:`db7093`,ppwh:`efd5`,pchp:`dab9`,pr:`cd853f`,pnk:`c0cb`,pm:`dda0dd`,pwrb:`b0e0e6`,prp:`8-080`,cc:`663399`,r:`--`,sbr:`bc8f8f`,rb:`4169e1`,sbrw:`8b4513`,smn:`a8072`,nbr:`4a460`,sgrn:`2e8b57`,ssh:`5ee`,snn:`a0522d`,svr:`c0c0c0`,skb:`87ceeb`,sTb:`6a5acd`,sTgr:`708090`,snw:`afa`,n:`-ff7f`,stb:`4682b4`,tn:`d2b48c`,t:`-8080`,thst:`d8bfd8`,tmT:`6347`,trqs:`40e0d0`,vt:`ee82ee`,whT:`5deb3`,wht:``,hts:`5f5f5`,w:`-`,wgrn:`9acd32`},Rb=function(){function e(t,n,r,i){Pb(this,e);var a=this;function o(t){if(t.startsWith(`hsl`)){var n=Ib(t.match(/([\-\d\.e]+)/g).map(Number),4),r=n[0],i=n[1],o=n[2],s=n[3];s===void 0&&(s=1),r/=360,i/=100,o/=100,a.hsla=[r,i,o,s]}else if(t.startsWith(`rgb`)){var c=Ib(t.match(/([\-\d\.e]+)/g).map(Number),4),l=c[0],u=c[1],d=c[2],f=c[3];f===void 0&&(f=1),a.rgba=[l,u,d,f]}else t.startsWith(`#`)?a.rgba=e.hexToRgb(t):a.rgba=e.nameToRgb(t)||e.hexToRgb(t)}if(t!==void 0)if(Array.isArray(t))this.rgba=t;else if(r===void 0){var s=t&&``+t;s&&o(s.toLowerCase())}else this.rgba=[t,n,r,i===void 0?1:i]}return Fb(e,[{key:`printRGB`,value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map(function(e,t){return Ob(e,t===3?3:0)});return e?`rgba(`+t+`)`:`rgb(`+t+`)`}},{key:`printHSL`,value:function(e){var t=[360,100,100,1],n=[``,`%`,`%`,``],r=(e?this.hsla:this.hsla.slice(0,3)).map(function(e,r){return Ob(e*t[r],r===3?3:1)+n[r]});return e?`hsla(`+r+`)`:`hsl(`+r+`)`}},{key:`printHex`,value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:`rgba`,get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw Error(`No color is set`);return this._rgba=e.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:`rgbString`,get:function(){return this.printRGB()}},{key:`rgbaString`,get:function(){return this.printRGB(!0)}},{key:`hsla`,get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw Error(`No color is set`);return this._hsla=e.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:`hslString`,get:function(){return this.printHSL()}},{key:`hslaString`,get:function(){return this.printHSL(!0)}},{key:`hex`,get:function(){return`#`+this.rgba.map(function(e,t){return t<3?e.toString(16):Math.round(e*255).toString(16)}).map(function(e){return e.padStart(2,`0`)}).join(``)},set:function(t){this.rgba=e.hexToRgb(t)}}],[{key:`hexToRgb`,value:function(e){var t=(e.startsWith(`#`)?e.slice(1):e).replace(/^(\w{3})$/,`$1F`).replace(/^(\w)(\w)(\w)(\w)$/,`$1$1$2$2$3$3$4$4`).replace(/^(\w{6})$/,`$1FF`);if(!t.match(/^([0-9a-fA-F]{8})$/))throw Error(`Unknown hex color; `+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(e){return parseInt(e,16)});return n[3]/=255,n}},{key:`nameToRgb`,value:function(t){var n=Lb[t.toLowerCase().replace(`at`,`T`).replace(/[aeiouyldf]/g,``).replace(`ght`,`L`).replace(`rk`,`D`).slice(-5,4)];return n===void 0?n:e.hexToRgb(n.replace(/\-/g,`00`).padStart(6,`f`))}},{key:`rgbToHsl`,value:function(e){var t=Ib(e,4),n=t[0],r=t[1],i=t[2],a=t[3];n/=255,r/=255,i/=255;var o=Math.max(n,r,i),s=Math.min(n,r,i),c=void 0,l=void 0,u=(o+s)/2;if(o===s)c=l=0;else{var d=o-s;switch(l=u>.5?d/(2-o-s):d/(o+s),o){case n:c=(r-i)/d+(r<i?6:0);break;case r:c=(i-n)/d+2;break;case i:c=(n-r)/d+4;break}c/=6}return[c,l,u,a]}},{key:`hslToRgb`,value:function(e){var t=Ib(e,4),n=t[0],r=t[1],i=t[2],a=t[3],o=void 0,s=void 0,c=void 0;if(r===0)o=s=c=i;else{var l=function(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},u=i<.5?i*(1+r):i+r-i*r,d=2*i-u;o=l(d,u,n+1/3),s=l(d,u,n),c=l(d,u,n-1/3)}var f=[o*255,s*255,c*255].map(Math.round);return f[3]=a,f}}]),e}(),zb=function(){function e(){Pb(this,e),this._events=[]}return Fb(e,[{key:`add`,value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:`remove`,value:function(t,n,r){this._events=this._events.filter(function(i){var a=!0;return t&&t!==i.target&&(a=!1),n&&n!==i.type&&(a=!1),r&&r!==i.handler&&(a=!1),a&&e._doRemove(i.target,i.type,i.handler),!a})}},{key:`destroy`,value:function(){this._events.forEach(function(t){return e._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:`_doRemove`,value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),e}(),Bb=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,Vb=360,Hb=`keydown`,Ub=`mousedown`,Wb=`focusin`,Gb=function(){function e(t){Pb(this,e),this.settings={popup:`right`,layout:`default`,alpha:!0,editor:!0,editorFormat:`hex`,cancelButton:!1,defaultColor:`#0cf`},this._events=new zb,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return Fb(e,[{key:`setOptions`,value:function(e){var t=this;if(!e)return;var n=this.settings;function r(e,t,n){for(var r in e)n&&n.indexOf(r)>=0||(t[r]=e[r])}if(e instanceof HTMLElement)n.parent=e;else{n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),r(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var i=e.color||e.colour;i&&this._setColor(i)}var a=n.parent;if(a&&n.popup&&!this._popupInited){var o=function(e){return t.openHandler(e)};this._events.add(a,`click`,o),Nb(this._events,a,[` `,`Spacebar`,`Enter`],o),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}},{key:`openHandler`,value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents=`none`;var t=e&&e.type===Hb?this._domEdit:this.domElement;setTimeout(function(){return t.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:`closeHandler`,value:function(e){var t=e&&e.type,n=!1;if(!e)n=!0;else if(t===Ub||t===Wb){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(n=!0)}else Mb(e),n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents=``,t!==Ub&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:`movePopup`,value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:`setColor`,value:function(e,t){this._setColor(e,{silent:t})}},{key:`_setColor`,value:function(e,t){if(typeof e==`string`&&(e=e.trim()),e){t||={};var n=void 0;try{n=new Rb(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){var r=n.hsla;r[3]=1,n.hsla=r}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}}},{key:`setColour`,value:function(e,t){this.setColor(e,t)}},{key:`show`,value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t=kb(this.settings.template||`<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>`);return this.domElement=t,this._domH=jb(`.picker_hue`,t),this._domSL=jb(`.picker_sl`,t),this._domA=jb(`.picker_alpha`,t),this._domEdit=jb(`.picker_editor input`,t),this._domSample=jb(`.picker_sample`,t),this._domOkay=jb(`.picker_done button`,t),this._domCancel=jb(`.picker_cancel button`,t),t.classList.add(`layout_`+this.settings.layout),this.settings.alpha||t.classList.add(`no_alpha`),this.settings.editor||t.classList.add(`no_editor`),this.settings.cancelButton||t.classList.add(`no_cancel`),this._ifPopup(function(){return t.classList.add(`popup`)}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:`hide`,value:function(){return this._toggleDOM(!1)}},{key:`destroy`,value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:`_bindEvents`,value:function(){var e=this,t=this,n=this.domElement,r=this._events;function i(e,t,n){r.add(e,t,n)}i(n,`click`,function(e){return e.preventDefault()}),Ab(r,this._domH,function(e,n){return t._setHSLA(e)}),Ab(r,this._domSL,function(e,n){return t._setHSLA(null,e,1-n)}),this.settings.alpha&&Ab(r,this._domA,function(e,n){return t._setHSLA(null,null,null,1-n)});var a=this._domEdit;i(a,`input`,function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})}),i(a,`focus`,function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()}),this._ifPopup(function(){var t=function(t){return e.closeHandler(t)};i(window,Ub,t),i(window,Wb,t),Nb(r,n,[`Esc`,`Escape`],t);var a=function(t){e.__containedEvent=t.timeStamp};i(n,Ub,a),i(n,Wb,a),i(e._domCancel,`click`,t)});var o=function(t){e._ifPopup(function(){return e.closeHandler(t)}),e.onDone&&e.onDone(e.colour)};i(this._domOkay,`click`,o),Nb(r,n,[`Enter`],o)}},{key:`_setPosition`,value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup(function(n){getComputedStyle(e).position===`static`&&(e.style.position=`relative`);var r=n===!0?`popup_right`:`popup_`+n;[`popup_top`,`popup_bottom`,`popup_left`,`popup_right`].forEach(function(e){e===r?t.classList.add(e):t.classList.remove(e)}),t.classList.add(r)})}},{key:`_setHSLA`,value:function(e,t,n,r,i){i||={};var a=this.colour,o=a.hsla;[e,t,n,r].forEach(function(e,t){(e||e===0)&&(o[t]=e)}),a.hsla=o,this._updateUI(i),this.onChange&&!i.silent&&this.onChange(a)}},{key:`_updateUI`,value:function(e){if(!this.domElement)return;e||={};var t=this.colour,n=t.hsla,r=`hsl(`+n[0]*Vb+`, 100%, 50%)`,i=t.hslString,a=t.hslaString,o=this._domH,s=this._domSL,c=this._domA,l=jb(`.picker_selector`,o),u=jb(`.picker_selector`,s),d=jb(`.picker_selector`,c);function f(e,t,n){t.style.left=n*100+`%`}function p(e,t,n){t.style.top=n*100+`%`}f(o,l,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,f(s,u,n[1]),p(s,u,1-n[2]),s.style.color=i,p(c,d,1-n[3]);var m=i,h=`linear-gradient(`+[m,m.replace(`hsl`,`hsla`).replace(`)`,`, 0)`)]+`)`;if(this._domA.style.background=h+`, `+Bb,!e.fromEditor){var g=this.settings.editorFormat,_=this.settings.alpha,v=void 0;switch(g){case`rgb`:v=t.printRGB(_);break;case`hsl`:v=t.printHSL(_);break;default:v=t.printHex(_)}this._domEdit.value=v}this._domSample.style.color=a}},{key:`_ifPopup`,value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:`_toggleDOM`,value:function(e){var t=this.domElement;if(!t)return!1;var n=e?``:`none`,r=t.style.display!==n;return r&&(t.style.display=n),r}}]),e}(),Kb=document.createElement(`style`),Kb.textContent=`.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}`,document.documentElement.firstElementChild.appendChild(Kb),Gb.StyleElement=Kb})),Jb=J(`<div class="jse-color-picker-popup svelte-soixqc"></div>`);function Yb(e,t){Re(t,!1);let n=Z(t,`color`,8),r=Z(t,`onChange`,8),i=Z(t,`showOnTop`,8),a=R(),o=()=>{};qi(async()=>{let e=(await Eb(()=>Promise.resolve().then(()=>(qb(),Db)),void 0,import.meta.url))?.default,t=new e({parent:W(a),color:n(),popup:i()?`top`:`bottom`,onDone(e){let t=e.rgba[3]===1?e.hex.substring(0,7):e.hex;r()(t)}});t.show(),o=()=>{t.destroy()}}),Ji(()=>{o()}),Li();var s=Jb();Ni(s,e=>z(a,e),()=>W(a)),Y(e,s),ze()}var Xb=J(`<button type="button"></button>`);function Zb(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),{openAbsolutePopup:i}=Ie(`absolute-popup`),a=Z(t,`path`,9),o=Z(t,`value`,9),s=Z(t,`readOnly`,9),c=Z(t,`onPatch`,9),l=Z(t,`focus`,9);function u(e){c()([{op:`replace`,path:Aa(a()),value:e}]),d()}function d(){l()()}function f(e){if(s())return;let t=e.target,n=t.getBoundingClientRect().top,r=(ey(t)?.innerHeight??0)-n<300&&n>300;i(Yb,{color:o(),onChange:u,showOnTop:r},{anchor:t,closeOnOuterClick:!0,onClose:d,offsetTop:18,offsetLeft:-8,height:300})}H(()=>K(o()),()=>{z(n,Go(o()))}),H(()=>(K(s()),K(o())),()=>{z(r,s()?`Color ${o()}`:`Click to open a color picker`)}),gn(),Li(!0);var p=Xb();let m;U(()=>{m=li(p,1,`jse-color-picker-button svelte-1wgct3c`,null,m,{"jse-readonly":s()}),di(p,`background: ${W(n)??``}`),Si(p,`title`,W(r)),Si(p,`aria-label`,W(r))}),q(`click`,p,f),Y(e,p),ze()}const Qb=1e3,$b=2e4,ex=[{start:0,end:100}],tx=10*1024*1024,nx=`Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value`,rx=`Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)`,ix=`hover-insert-inside`,ax=`hover-insert-after`,ox=`hover-collection`,sx=`valid`,cx={[Mv.asc]:`ascending`,[Mv.desc]:`descending`};function lx(e,t){let n={start:e,end:Math.min(fx(e),t)},r=Math.max(px((e+t)/2),e),i={start:r,end:Math.min(fx(r),t)},a=px(t),o=a===t?a-100:a,s={start:Math.max(o,e),end:t},c=[n],l=i.start>=n.end&&i.end<=s.start;return l&&c.push(i),s.start>=(l?i.end:n.end)&&c.push(s),c}function ux(e){let t=I_(e,e=>e.start),n=[t[0]];for(let e=0;e<t.length;e++){let r=n.length-1,i=n[r],a=t[e];a.start<=i.end?n[r]={start:Math.min(i.start,a.start),end:Math.max(i.end,a.end)}:n.push(a)}return n}function dx(e,t){return e.some(e=>t>=e.start&&t<e.end)}function fx(e){return px(e)+100}function px(e){return Math.floor(e/100)*100}function mx(e){return e?e.type===`space`||e.space===!0:!1}function hx(e){return e?e.type===`separator`||e.separator===!0:!1}function gx(e){return e?e.type===`label`&&typeof e.text==`string`:!1}function _x(e){return e?typeof e.onClick==`function`:!1}function vx(e){return e?e.type===`dropdown-button`&&_x(e.main)&&Array.isArray(e.items):!1}function yx(e){return e?e.type===`row`&&Array.isArray(e.items):!1}function bx(e){return e?e.type===`column`&&Array.isArray(e.items):!1}function xx(e){return Vo(e)&&Vo(e.parseError)}function Sx(e){return Vo(e)&&Array.isArray(e.validationErrors)}function Cx(e){return Vo(e)&&Array.isArray(e.path)&&typeof e.message==`string`&&`severity`in e}function wx(e){return Vo(e)&&Cx(e)&&typeof e.isChildError==`boolean`}function Tx(e){return Vo(e)&&typeof e.action==`function`&&Vo(e.props)}function Ex(e){return e!==void 0&&e.type===`object`}function Dx(e){return e!==void 0&&e.type===`array`}function Ox(e){return e!==void 0&&e.type===`value`}function kx(e){return Ex(e)||Dx(e)}function Ax(e){return e!==void 0&&Array.isArray(e.searchResults)}function jx(e){return e?e.type===`tree`:!1}function Mx(e){return e?e.type===`text`:!1}function Nx(e){return e?e.type===`mode`:!1}function Px({json:e,factory:t}){return Array.isArray(e)?t.createArrayDocumentState():Vo(e)?t.createObjectDocumentState():e===void 0?void 0:t.createValueDocumentState()}function Fx({json:e,expand:t}){let n=Px({json:e,factory:zx});return t&&n?Kx(e,n,[],t):n}function Ix({expanded:e}={expanded:!1}){return{type:`array`,expanded:e,visibleSections:ex,items:[]}}function Lx({expanded:e}={expanded:!1}){return{type:`object`,expanded:e,properties:{}}}function Rx(){return{type:`value`}}const zx={createObjectDocumentState:Lx,createArrayDocumentState:Ix,createValueDocumentState:Rx};function Bx(e,t,n,{createObjectDocumentState:r,createArrayDocumentState:i,createValueDocumentState:a}){function o(e,t,n){if(Array.isArray(e)){let r=Dx(t)?t:i();if(n.length===0)return r;let a=Ro(n[0]),s=o(e[a],r.items[a],n.slice(1));return Ca(r,[`items`,n[0]],s)}if(Vo(e)){let i=Ex(t)?t:r();if(n.length===0)return i;let a=n[0],s=o(e[a],i.properties[a],n.slice(1));return Ca(i,[`properties`,a],s)}return Ox(t)?t:a()}return o(e,t,n)}function Vx(e,t,n=[]){return Hx(e,t,n,(e,t)=>{if(!(e===void 0||t===void 0)){if(Array.isArray(e))return Dx(t)?t:Ix({expanded:kx(t)?t.expanded:!1});if(Vo(e))return Ex(t)?t:Lx({expanded:kx(t)?t.expanded:!1});if(Ox(t))return t}},()=>!0)}function Hx(e,t,n,r,i){let a=r(e,t,n);if(Array.isArray(e)&&Dx(a)&&i(a)){let t=[];return Ux(e,a.visibleSections,o=>{let s=n.concat(String(o)),c=e[o],l=a.items[o],u=Hx(c,l,s,r,i);u!==void 0&&(t[o]=u)}),q_(t,a.items)?a:{...a,items:t}}if(Vo(e)&&Ex(a)&&i(a)){let t={};return Object.keys(e).forEach(o=>{let s=n.concat(o),c=e[o],l=a.properties[o],u=Hx(c,l,s,r,i);u!==void 0&&(t[o]=u)}),q_(Object.values(t),Object.values(a.properties))?a:{...a,properties:t}}return a}function Ux(e,t,n){t.forEach(({start:t,end:r})=>{Y_(t,Math.min(e.length,r),n)})}function Wx(e,t){if(dx(e.visibleSections,t))return e;let n=px(t),r={start:n,end:fx(n)};return{...e,visibleSections:ux(e.visibleSections.concat(r))}}function Gx(e,t){let n=e,r=[],i=0;for(;i<t.length;){if(Array.isArray(n)){let e=t[i];r.push(`items`,e),n=n[Ro(e)]}else if(Vo(n)){let e=t[i];r.push(`properties`,e),n=n[e]}else throw Error(`Cannot convert path: Object or Array expected at index ${i}`);i++}return r}function Kx(e,t,n,r){let i=t;for(let t=0;t<n.length;t++){let r=n.slice(0,t);i=iS(e,i,r,(e,r)=>{let i=kx(r)&&!r.expanded?{...r,expanded:!0}:r;return Dx(i)?Wx(i,Ro(n[t])):i})}return iS(e,i,n,(e,t)=>qx(e,t,[],r))}function qx(e,t,n,r){return Hx(e,t,n,(e,t,n)=>Array.isArray(e)&&r(n)?Dx(t)?t.expanded?t:{...t,expanded:!0}:Ix({expanded:!0}):Vo(e)&&r(n)?Ex(t)?t.expanded?t:{...t,expanded:!0}:Lx({expanded:!0}):t,e=>kx(e)&&e.expanded)}function Jx(e,t,n,r){return iS(e,t,n,(e,t)=>r?Xx(e,t,n):Yx(t))}function Yx(e){return Dx(e)&&e.expanded?{...e,expanded:!1,visibleSections:ex}:Ex(e)&&e.expanded?{...e,expanded:!1}:e}function Xx(e,t,n){return Hx(e,t,n,(e,t)=>Yx(t),()=>!0)}function Zx(e,t,n,r){return iS(e,t,n,(e,t)=>{if(!Dx(t))return t;let n=ux(t.visibleSections.concat(r));return{...t,visibleSections:n}})}function Qx(e,t,n){let r={json:e,documentState:t},i=n.reduce((e,t)=>({json:Na(e.json,[t]),documentState:$x(e.json,e.documentState,t)}),r);return{json:i.json,documentState:Vx(i.json,i.documentState)}}function $x(e,t,n){if(la(n))return oS(e,t,n,void 0);if(ua(n))return sS(e,t,n);if(da(n)){let r=Ua(e,n.path),i=dS(e,t,r);return i?rS(e,t,r,{type:`value`,enforceString:i}):t}return fa(n)||pa(n)?cS(e,t,n):t}function eS(e,t,n){try{return Sa(t,Gx(e,n))}catch{return}}function tS(e,t,n,r,i){return Ca(Bx(e,t,n,i),Gx(e,n),r)}function nS(e,t,n,r,i){return Ta(Bx(e,t,n,i),Gx(e,n),t=>r(Sa(e,n),t))}function rS(e,t,n,r){return tS(e,t,n,r,zx)}function iS(e,t,n,r){return nS(e,t,n,r,zx)}function aS(e,t,n){return Oa(t,Gx(e,n))?Ea(t,Gx(e,n)):t}function oS(e,t,n,r){let i=Ua(e,n.path),a=a_(i),o=t;return o=iS(e,o,a,(e,t)=>{if(!Dx(t))return t;let n=Ro(Bg(i)),{items:a,visibleSections:o}=t;return{...t,items:n<a.length?tv(a,n,r===void 0?[,]:[r]):a,visibleSections:lS(o,n,1)}}),rS(e,o,i,r)}function sS(e,t,n){let r=Ua(e,n.path),i=a_(r),a=Sa(e,i);return Array.isArray(a)?iS(e,t,i,(e,t)=>{if(!Dx(t))return t;let n=Ro(Bg(r)),{items:i,visibleSections:a}=t;return{...t,items:i.slice(0,n).concat(i.slice(n+1)),visibleSections:lS(a,n,-1)}}):aS(e,t,r)}function cS(e,t,n){if(pa(n)&&n.from===n.path)return t;let r=t,i=Ua(e,n.from),a=eS(e,r,i);return pa(n)&&(r=sS(e,r,{op:`remove`,path:n.from})),r=oS(e,r,{op:`add`,path:n.path,value:null},a),r}function lS(e,t,n){return uS(e.map(e=>({start:e.start>t?e.start+n:e.start,end:e.end>t?e.end+n:e.end})))}function uS(e){let t=e.slice(0),n=1;for(;n<t.length;)t[n-1].end===t[n].start&&(t[n-1]={start:t[n-1].start,end:t[n].end},t.splice(n)),n++;return t}function dS(e,t,n){let r=Sa(e,n),i=eS(e,t,n),a=Ox(i)?i.enforceString:void 0;return typeof a==`boolean`?a:Qo(r)}function fS(e,t,n=!1){let r=e.indexOf(t);return r===-1?[]:n?e.slice(r):e.slice(r+1)}function pS(e,t){let n=[];function r(e,t,i){n.push(i),sa(e)&&Dx(t)&&t.expanded&&Ux(e,t.visibleSections,n=>{r(e[n],t.items[n],i.concat(String(n)))}),ca(e)&&Ex(t)&&t.expanded&&Object.keys(e).forEach(n=>{r(e[n],t.properties[n],i.concat(n))})}return r(e,t,[]),n}function mS(e,t,n=!0){let r=[];function i(a,o){r.push({path:o,type:kv.value});let s=eS(e,t,o);a&&kx(s)&&s.expanded&&(n&&r.push({path:o,type:kv.inside}),sa(a)&&Ux(a,Dx(s)?s.visibleSections:ex,e=>{let t=o.concat(String(e));i(a[e],t),n&&r.push({path:t,type:kv.after})}),ca(a)&&Object.keys(a).forEach(e=>{let t=o.concat(e);r.push({path:t,type:kv.key}),i(a[e],t),n&&r.push({path:t,type:kv.after})}))}return i(e,[]),r}function hS(e,t,n){let r=pS(e,t),i=r.map(Aa),a=Aa(n),o=i.indexOf(a);if(o!==-1&&o>0)return r[o-1]}function gS(e,t,n){let r=pS(e,t),i=r.map(Aa).indexOf(Aa(n));if(i!==-1&&i<r.length-1)return r[i+1]}function _S(e,t,n,r=10240){return Kx(e,t,n,yv({json:Sa(e,n)},r)?yS:xS)}function vS(e,t,n){let r=eS(e,t,n);return kx(r)&&r.expanded?t:_S(e,t,n)}function yS(e){return e.length===0?!0:e.length===1&&e[0]===`0`}function bS(e){return e.length===0}function xS(){return!0}function SS(){return!1}function CS(e){return e&&e.type===Ov.after||!1}function wS(e){return e&&e.type===Ov.inside||!1}function TS(e){return e&&e.type===Ov.key||!1}function ES(e){return e&&e.type===Ov.value||!1}function DS(e){return e&&e.type===Ov.multi||!1}function OS(e){return DS(e)&&f_(e.focusPath,e.anchorPath)}function kS(e){return DS(e)||CS(e)||wS(e)||TS(e)||ES(e)}function AS(e){return e&&e.type===Ov.text||!1}function jS(e,t){let n=[];return MS(e,t,e=>{n.push(e)}),n}function MS(e,t,n){if(!t)return;let r=mC(t),i=pC(t);if(f_(r,i))return n(r);{if(e===void 0)return;let t=GS(r,i);if(r.length===t.length||i.length===t.length)return n(t);let a=nC(r,i),o=PS(e,a),s=FS(e,a),c=fC(e,a,o),l=fC(e,a,s);if(c===-1||l===-1)return;let u=Sa(e,t);if(ca(u)){let e=Object.keys(u);for(let r=c;r<=l;r++){let i=n(t.concat(e[r]));if(i!==void 0)return i}return}if(sa(u)){for(let e=c;e<=l;e++){let r=n(t.concat(String(e)));if(r!==void 0)return r}return}}throw Error(`Failed to create selection`)}function NS(e){return wS(e)?e.path:a_(pC(e))}function PS(e,t){if(!DS(t))return t.path;let n=fC(e,t,t.anchorPath);return fC(e,t,t.focusPath)<n?t.focusPath:t.anchorPath}function FS(e,t){if(!DS(t))return t.path;let n=fC(e,t,t.anchorPath);return fC(e,t,t.focusPath)>n?t.focusPath:t.anchorPath}function IS(e,t){return JS(pC(e),t)&&(pC(e).length>t.length||wS(e))}function LS(e,t,n,r=!1){if(!n)return;let i=r?pC(n):PS(e,n),a=hS(e,t,i);if(r)return wS(n)||CS(n)?a===void 0?void 0:nC(i,i):a===void 0?void 0:nC(mC(n),a);if(CS(n)||wS(n))return QS(i);if(TS(n)){if(a===void 0||a.length===0)return;let t=Sa(e,a_(a));return Array.isArray(t)||u_(a)?QS(a):XS(a)}if(ES(n))return a===void 0?void 0:QS(a);if(a!==void 0)return QS(a)}function RS(e,t,n,r=!1){if(!n)return;let i=r?pC(n):FS(e,n),a=Ho(Sa(e,i))?Jx(e,t,i,!0):t,o=gS(e,t,i),s=gS(e,a,i);if(r)return wS(n)?o===void 0?void 0:nC(o,o):CS(n)?s===void 0?void 0:nC(s,s):s===void 0?void 0:nC(mC(n),s);if(CS(n))return s===void 0?void 0:QS(s);if(wS(n)||ES(n))return o===void 0?void 0:QS(o);if(TS(n)){if(o===void 0||o.length===0)return;let t=Sa(e,a_(o));return Array.isArray(t)?QS(o):XS(o)}if(DS(n))return s===void 0?o===void 0?void 0:QS(o):QS(s)}function zS(e,t,n){let r=a_(n),i=[Bg(n)],a=Sa(e,r),o=a?gS(a,t,i):void 0;return o?QS(r.concat(o)):tC(n)}function BS(e,t,n,r){if(!n)return{caret:void 0,previous:void 0,next:void 0};let i=mS(e,t,r),a=i.findIndex(e=>f_(e.path,pC(n))&&String(e.type)===String(n.type));return{caret:a===-1?void 0:i[a],previous:a!==-1&&a>0?i[a-1]:void 0,next:a!==-1&&a<i.length-1?i[a+1]:void 0}}function VS(e,t,n,r=!1,i=!0){if(!n)return;let{caret:a,previous:o}=BS(e,t,n,i);if(r)return DS(n)?void 0:nC(n.path,n.path);if(a&&o)return cC(o);let s=Sa(e,a_(pC(n)));if(ES(n)&&Array.isArray(s))return nC(n.path,n.path);if(DS(n)&&!Array.isArray(s))return XS(n.focusPath)}function HS(e,t,n,r=!1,i=!0){if(!n)return;let{caret:a,next:o}=BS(e,t,n,i);if(r)return DS(n)?void 0:nC(n.path,n.path);if(a&&o)return cC(o);if(DS(n))return QS(n.focusPath)}function US(e,t){let n=pS(e,t),r=0;for(;r<n.length-1&&n[r+1].length>n[r].length;)r++;let i=n[r];return i===void 0||i.length===0||Array.isArray(Sa(e,a_(i)))?QS(i):XS(i)}function WS(e,t){if(t.length===1){let n=Zg(t);if(n.op===`replace`)return QS(Ua(e,n.path))}if(!u_(t)&&t.every(e=>e.op===`move`)){let n=Zg(t),r=t.slice(1);if((fa(n)||pa(n))&&n.from!==n.path&&r.every(e=>(fa(e)||pa(e))&&e.from===e.path))return XS(Ua(e,n.path))}let n=t.filter(e=>e.op!==`test`&&e.op!==`remove`&&(e.op!==`move`||e.from!==e.path)&&typeof e.path==`string`).map(t=>Ua(e,t.path));if(!u_(n))return{type:Ov.multi,anchorPath:Zg(n),focusPath:Bg(n)}}function GS(e,t){let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;return e.slice(0,n)}function KS(e){return TS(e)||ES(e)||OS(e)}function qS(e,t){return KS(t)&&Ho(Sa(e,pC(t)))?pC(t):a_(pC(t))}function JS(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function YS(e){if(iC(e)){let{type:t,path:n}=e;return{type:t,path:n}}return e}function XS(e){return{type:Ov.key,path:e}}function ZS(e,t){return{type:Ov.key,path:e,edit:!0,initialValue:t}}function QS(e){return{type:Ov.value,path:e}}function $S(e,t){return{type:Ov.value,path:e,edit:!0,initialValue:t}}function eC(e){return{type:Ov.inside,path:e}}function tC(e){return{type:Ov.after,path:e}}function nC(e,t){let n=GS(e,t),r=e.length>n.length&&t.length>n.length;return{type:Ov.multi,anchorPath:r?n.concat(e[n.length]):n,focusPath:r?n.concat(t[n.length]):n}}function rC(e,t,n,r){if(TS(t))return String(Bg(t.path));if(ES(t)){let i=Sa(e,t.path);return typeof i==`string`?i:r.stringify(i,null,n)}if(DS(t)){if(u_(t.focusPath))return r.stringify(e,null,n);let i=Sa(e,NS(t));if(Array.isArray(i))if(OS(t)){let i=Sa(e,t.focusPath);return r.stringify(i,null,n)}else return jS(e,t).map(t=>{let i=Sa(e,t);return`${r.stringify(i,null,n)},`}).join(`
`);else return jS(e,t).map(t=>{let i=Bg(t),a=Sa(e,t);return`${r.stringify(i)}: ${r.stringify(a,null,n)},`}).join(`
`)}}function iC(e){return(TS(e)||ES(e))&&e.edit===!0}function aC(){return QS([])}function oC(e){return TS(e)||ES(e)||DS(e)}function sC(e){return TS(e)||ES(e)||OS(e)}function cC(e){switch(e.type){case kv.key:return XS(e.path);case kv.value:return QS(e.path);case kv.after:return tC(e.path);case kv.inside:return eC(e.path)}}function lC(e,t){switch(e){case Ov.key:return XS(t);case Ov.value:return QS(t);case Ov.after:return tC(t);case Ov.inside:return eC(t);case Ov.multi:case Ov.text:return nC(t,t)}}function uC(e,t,n){if(t&&(dC(e,t,n)||JS(DS(t)?a_(t.focusPath):t.path,n)))return t}function dC(e,t,n){if(e===void 0||!t)return!1;if(TS(t)||wS(t)||CS(t))return f_(t.path,n);if(ES(t))return JS(n,t.path);if(DS(t)){let r=PS(e,t),i=FS(e,t),a=a_(t.focusPath);if(!JS(n,a)||n.length<=a.length)return!1;let o=fC(e,t,r),s=fC(e,t,i),c=fC(e,t,n);return c!==-1&&c>=o&&c<=s}return!1}function fC(e,t,n){let r=a_(t.focusPath);if(!JS(n,r)||n.length<=r.length)return-1;let i=n[r.length],a=Sa(e,r);if(ca(a))return Object.keys(a).indexOf(i);if(sa(a)){let e=Ro(i);if(e<a.length)return e}return-1}function pC(e){return DS(e)?e.focusPath:e.path}function mC(e){return DS(e)?e.anchorPath:e.path}function hC(...e){let t=[];for(let n of e)if(typeof n==`string`&&t.push(n),n&&typeof n==`object`)for(let e in n)Object.hasOwnProperty.call(n,e)&&n[e]&&t.push(e);return t.join(` `)}function gC(e,t,n){return hC(`jse-value`,`jse-`+Jo(e,n),{"jse-url":Xo(e),"jse-empty":typeof e==`string`&&e.length===0,"jse-table-cell":t===Dv.table})}var _C=J(`<div role="textbox" tabindex="0" contenteditable="true" spellcheck="false"></div>`);function vC(e,t){Re(t,!1);let n=$i(`jsoneditor:EditableDiv`),r=Z(t,`value`,9),i=Z(t,`initialValue`,9),a=Z(t,`shortText`,9,!1),o=Z(t,`label`,9),s=Z(t,`onChange`,9),c=Z(t,`onCancel`,9),l=Z(t,`onFind`,9),u=Z(t,`onPaste`,9,jc),d=Z(t,`onValueClass`,9,()=>``),f=R(void 0,!0),p=R(void 0,!0),m=!1;qi(()=>{n(`onMount`,{value:r(),initialValue:i()}),g(i()===void 0?r():i()),W(f)&&$v(W(f))}),Ji(()=>{let e=h();n(`onDestroy`,{closed:m,value:r(),newValue:e}),!m&&e!==r()&&s()(e,Nv.no)});function h(){return W(f)?Kv(W(f).innerText):``}function g(e){W(f)&&Mt(f,W(f).innerText=Gv(e))}function _(){let e=h();e===``&&g(``),z(p,d()(e))}function v(){m=!0,c()()}function y(e){e.stopPropagation();let t=ly(e);if(t===`Escape`&&(e.preventDefault(),v()),t===`Enter`||t===`Tab`){e.preventDefault(),m=!0;let t=h();s()(t,Nv.nextInside)}t===`Ctrl+F`&&(e.preventDefault(),l()(!1)),t===`Ctrl+H`&&(e.preventDefault(),l()(!0))}function b(e){if(e.stopPropagation(),!u()||!e.clipboardData)return;let t=e.clipboardData.getData(`text/plain`);u()(t)}function x(){let e=document.hasFocus(),t=h();n(`handleBlur`,{hasFocus:e,closed:m,value:r(),newValue:t}),document.hasFocus()&&!m&&(m=!0,t!==r()&&s()(t,Nv.self))}H(()=>(K(d()),K(r())),()=>{z(p,d()(r()))}),gn(),Li(!0);var S=_C();Ni(S,e=>z(f,e),()=>W(f)),U(e=>{Si(S,`aria-label`,o()),li(S,1,e,`svelte-l4qhpw`)},[()=>ri((K(hC),W(p),K(a()),G(()=>hC(`jse-editable-div`,W(p),{"jse-short-text":a()}))))]),q(`input`,S,_),q(`keydown`,S,y),q(`paste`,S,b),q(`blur`,S,x),Y(e,S),ze()}function yC(e,t){Re(t,!1);let n=Z(t,`path`,9),r=Z(t,`value`,9),i=Z(t,`selection`,9),a=Z(t,`mode`,9),o=Z(t,`parser`,9),s=Z(t,`normalization`,9),c=Z(t,`enforceString`,9),l=Z(t,`onPatch`,9),u=Z(t,`onPasteJson`,9),d=Z(t,`onSelect`,9),f=Z(t,`onFind`,9),p=Z(t,`focus`,9),m=Z(t,`findNextInside`,9);function h(e){return c()?e:Zo(e,o())}function g(e,t){l()([{op:`replace`,path:Aa(n()),value:h(s().unescapeValue(e))}],(e,r,i)=>{if(!(i&&!f_(n(),pC(i))))return{state:r,selection:t===Nv.nextInside?m()(n()):QS(n())}}),p()()}function _(){d()(QS(n())),p()()}function v(e){try{let t=o().parse(e);Ho(t)&&u()({path:n(),contents:t,onPasteAsJson:()=>{_();let e=[{op:`replace`,path:Aa(n()),value:t}];l()(e,(e,t)=>({state:_S(e,t,n())}))}})}catch{}}function y(e){return gC(h(s().unescapeValue(e)),a(),o())}Li(!0);{let t=St(()=>(K(s()),K(r()),G(()=>s().escapeValue(r())))),n=St(()=>(K(iC),K(i()),G(()=>iC(i())?i().initialValue:void 0)));vC(e,{get value(){return W(t)},get initialValue(){return W(n)},label:`Edit value`,onChange:g,onCancel:_,onPaste:v,get onFind(){return f()},onValueClass:y})}ze()}function bC(e,t,n){let r=a_(t),i=Sa(e,r);if(sa(i)){let e=Ro(Bg(t));return n.map((t,n)=>({op:`add`,path:Aa(r.concat(String(e+n))),value:t.value}))}else if(ca(i)){let e=Bg(t),a=Object.keys(i),o=e===void 0?[]:fS(a,e,!0);return[...n.map(e=>{let t=tb(e.key,a);return{op:`add`,path:Aa(r.concat(t)),value:e.value}}),...o.map(e=>AC(r,e))]}else throw Error(`Cannot create insert operations: parent must be an Object or Array`)}function xC(e,t,n){let r=Sa(e,t);if(Array.isArray(r)){let e=r.length;return n.map((n,r)=>({op:`add`,path:Aa(t.concat(String(e+r))),value:n.value}))}else return n.map(e=>{let n=tb(e.key,Object.keys(r));return{op:`add`,path:Aa(t.concat(n)),value:e.value}})}function SC(e,t,n,r){let i=tb(r,t.filter(e=>e!==n)),a=fS(t,n,!1);return[{op:`move`,from:Aa(e.concat(n)),path:Aa(e.concat(i))},...a.map(t=>AC(e,t))]}function CC(e,t,n){let r=a_(Zg(t)),i=Sa(e,r);if(sa(i)){let e=Zg(t),i=e?Ro(Bg(e)):0;return[...kC(t),...n.map((e,t)=>({op:`add`,path:Aa(r.concat(String(t+i))),value:e.value}))]}else if(ca(i)){let e=Bg(t),r=a_(e),a=Bg(e),o=Object.keys(i),s=a===void 0?[]:fS(o,a,!1),c=new Set(t.map(e=>Bg(e))),l=o.filter(e=>!c.has(e));return[...kC(t),...n.map(e=>{let t=tb(e.key,l);return{op:`add`,path:Aa(r.concat(t)),value:e.value}}),...s.map(e=>AC(r,e))]}else throw Error(`Cannot create replace operations: parent must be an Object or Array`)}function wC(e,t){let n=Bg(t);if(u_(n))throw Error(`Cannot duplicate root object`);let r=a_(n),i=Bg(n),a=Sa(e,r);if(sa(a)){let e=Bg(t),n=e?Ro(Bg(e))+1:0;return[...t.map((e,t)=>({op:`copy`,from:Aa(e),path:Aa(r.concat(String(t+n)))}))]}else if(ca(a)){let e=Object.keys(a),n=i===void 0?[]:fS(e,i,!1);return[...t.map(t=>{let n=tb(Bg(t),e);return{op:`copy`,from:Aa(t),path:Aa(r.concat(n))}}),...n.map(e=>AC(r,e))]}else throw Error(`Cannot create duplicate operations: parent must be an Object or Array`)}function TC(e,t){if(ES(t))return[{op:`move`,from:Aa(t.path),path:``}];if(DS(t)){let n=Sa(e,a_(t.focusPath));if(sa(n))return[{op:`replace`,path:``,value:jS(e,t).map(e=>n[Ro(Bg(e))])}];if(ca(n)){let r={};return jS(e,t).forEach(e=>{let t=String(Bg(e));r[t]=n[t]}),[{op:`replace`,path:``,value:r}]}}else throw Error(`Cannot create extract operations: parent must be an Object or Array`);throw Error(`Cannot extract: unsupported type of selection `+JSON.stringify(t))}function EC(e,t,n,r){if(TS(t)){let i=iv(n,r),a=a_(t.path),o=Sa(e,a);return SC(a,Object.keys(o),Bg(t.path),typeof i==`string`?i:n)}if(ES(t)||DS(t)&&u_(t.focusPath))try{return[{op:`replace`,path:Aa(pC(t)),value:av(n,e=>rv(e,r))}]}catch{return[{op:`replace`,path:Aa(pC(t)),value:n}]}if(DS(t)){let i=jC(n,r);return CC(e,jS(e,t),i)}if(CS(t)){let i=jC(n,r),a=t.path,o=a_(a),s=Sa(e,o);if(sa(s)){let t=Ro(Bg(a));return bC(e,o.concat(String(t+1)),i)}else if(ca(s)){let t=String(Bg(a)),n=Object.keys(s);if(u_(n)||Bg(n)===t)return xC(e,o,i);{let r=n[n.indexOf(t)+1];return bC(e,o.concat(r),i)}}else throw Error(`Cannot create insert operations: parent must be an Object or Array`)}if(wS(t)){let i=jC(n,r),a=t.path,o=Sa(e,a);if(sa(o))return bC(e,a.concat(`0`),i);if(ca(o)){let t=Object.keys(o);if(u_(t))return xC(e,a,i);{let n=Zg(t);return bC(e,a.concat(n),i)}}else throw Error(`Cannot create insert operations: parent must be an Object or Array`)}throw Error(`Cannot insert: unsupported type of selection `+JSON.stringify(t))}function DC(e,t,n){if(!t)return[];let r=`beforePath`in n?n.beforePath:void 0,i=`append`in n?n.append:void 0,a=a_(pC(t)),o=Sa(e,a);if(!i&&!(r&&JS(r,a)&&r.length>a.length))return[];let s=PS(e,t),c=FS(e,t),l=Bg(s),u=Bg(c),d=r?r[a.length]:void 0;if(ca(o)){let e=Object.keys(o),t=e.indexOf(l),n=e.indexOf(u),r=i?e.length:d===void 0?-1:e.indexOf(d);if(t!==-1&&n!==-1&&r!==-1)return r>t?[...e.slice(t,n+1),...e.slice(r,e.length)].map(e=>AC(a,e)):[...e.slice(r,t),...e.slice(n+1,e.length)].map(e=>AC(a,e))}else if(sa(o)){let e=Ro(l),t=Ro(u),n=d===void 0?o.length:Ro(d),r=t-e+1;return n<e?V_(r,t=>({op:`move`,from:Aa(a.concat(String(e+t))),path:Aa(a.concat(String(n+t)))})):V_(r,()=>({op:`move`,from:Aa(a.concat(String(e))),path:Aa(a.concat(String(n)))}))}else throw Error(`Cannot create move operations: parent must be an Object or Array`);return[]}function OC(e,t,n){if(n===`object`)return{};if(n===`array`)return[];if(n===`structure`&&e!==void 0){let n=Sa(e,t?NS(t):[]);if(Array.isArray(n)&&!u_(n)){let e=Zg(n);return Ho(e)?qm(e,e=>Array.isArray(e)?[]:Vo(e)?void 0:``):``}}return``}function kC(e){return e.map(e=>({op:`remove`,path:Aa(e)})).reverse()}function AC(e,t){return{op:`move`,from:Aa(e.concat(t)),path:Aa(e.concat(t))}}function jC(e,t){let n=/^\s*{/.test(e),r=/^\s*\[/.test(e),i=iv(e,t),a=i===void 0?av(e,e=>rv(e,t)):i;return n&&Vo(a)||r&&Array.isArray(a)?[{key:`New item`,value:a}]:Array.isArray(a)?a.map((e,t)=>({key:`New item `+t,value:e})):Vo(a)?Object.keys(a).map(e=>({key:e,value:a[e]})):[{key:`New item`,value:a}]}function MC(e,t){if(TS(t)){let n=a_(t.path),r=Sa(e,n),i=SC(n,Object.keys(r),Bg(t.path),``);return{operations:i,newSelection:WS(e,i)}}if(ES(t))return{operations:[{op:`replace`,path:Aa(t.path),value:``}],newSelection:t};if(DS(t)){let n=jS(e,t),r=kC(n),i=Bg(n);if(u_(i))return{operations:[{op:`replace`,path:``,value:``}],newSelection:QS([])};let a=a_(i),o=Sa(e,a);if(sa(o)){let e=Ro(Bg(Zg(n)));return{operations:r,newSelection:e===0?eC(a):tC(a.concat(String(e-1)))}}else if(ca(o)){let e=Object.keys(o),t=Bg(Zg(n)),i=e.indexOf(t),s=e[i-1];return{operations:r,newSelection:i===0?eC(a):tC(a.concat(s))}}else throw Error(`Cannot create remove operations: parent must be an Object or Array`)}throw Error(`Cannot remove: unsupported type of selection `+JSON.stringify(t))}function NC(e,t){return Ga(e,PC(e,t),{before:(e,t,n)=>{if(ua(t)){let r=ka(t.path);return{revertOperations:[...n,...RC(e,r)]}}if(pa(t)){let r=ka(t.from);return{revertOperations:t.from===t.path?[t,...RC(e,r)]:[...n,...RC(e,r)]}}return{document:e}}})}function PC(e,t){if(u_(t)||!t.every(pa))return t;let n=[];for(let e of t){let r=FC(ka(e.from)),i=FC(ka(e.path));if(!r||!i)return t;n.push({from:r,path:i,operation:e})}let r=n[0].path.parent;if(!ca(Sa(e,r))||!n.every(e=>IC(e,r)))return t;let i=LC(n,e),a=e=>e.operation,o=n.filter(e=>e.operation.from!==e.operation.path);return o.some(e=>e.path.key===i)?o.map(a):[AC(r,i),...o.map(a)]}function FC(e){return e.length>0?{parent:a_(e),key:Bg(e)}:void 0}function IC(e,t){return f_(e.from.parent,t)&&f_(e.path.parent,t)}function LC(e,t){let n=Object.keys(t),r=n.slice();for(let t of e){let e=r.indexOf(t.from.key);e!==-1&&(r.splice(e,1),r.push(t.path.key))}let i=0;for(;i<n.length&&n[i]===r[i];)i++;return r[i]}function RC(e,t){let n=a_(t),r=Bg(t),i=Sa(e,n);return ca(i)?fS(Object.keys(i),r,!1).map(e=>AC(n,e)):[]}function zC(e,t){return e.flatMap(e=>{if(da(e)){let n=ka(e.path);if(n.length>0){let r=[e],i=a_(n);for(;i.length>0&&!Oa(t,i);)r.unshift({op:`add`,path:Aa(i),value:{}}),i=a_(i);return r}}return e})}function BC(e,t){let n=t?.activeItem?XC(t.activeItem):void 0,r=e.findIndex(e=>f_(n,XC(e))),i=r===-1?t?.activeIndex!==void 0&&t?.activeIndex<e.length?t?.activeIndex:e.length>0?0:-1:r,a=e.map((e,t)=>({resultIndex:t,...e,active:t===i}));return{items:a,activeItem:a[i],activeIndex:i}}function VC(e){let t=e.activeIndex<e.items.length-1?e.activeIndex+1:e.items.length>0?0:-1,n=e.items[t],r=e.items.map((e,n)=>({...e,active:n===t}));return{...e,items:r,activeItem:n,activeIndex:t}}function HC(e){let t=e.activeIndex>0?e.activeIndex-1:e.items.length-1,n=e.items[t],r=e.items.map((e,n)=>({...e,active:n===t}));return{...e,items:r,activeItem:n,activeIndex:t}}function UC(e,t,n={}){let r=e.toLowerCase(),i=n?.maxResults??1/0,a=n?.columns,o=[],s=[];function c(e){o.length>=i||o.push(e)}function l(e,t){if(sa(t)){let n=s.length;s.push(`0`);for(let r=0;r<t.length;r++)if(s[n]=String(r),l(e,t[r]),o.length>=i)return;s.pop()}else if(ca(t)){let n=Object.keys(t),r=s.length;s.push(``);for(let a of n)if(s[r]=a,WC(a,e,s,jv.key,c),l(e,t[a]),o.length>=i)return;s.pop()}else WC(String(t),e,s,jv.value,c)}if(e===``)return[];if(a){if(!Array.isArray(t))throw Error(`json must be an Array when option columns is defined`);for(let e=0;e<t.length;e++){s[0]=String(e);let n=t[e];for(let e=0;e<a.length;e++){let t=a[e];if(t.length===1)s[1]=t[0];else for(let e=0;e<t.length;e++)s[e+1]=t[e];for(;s.length>t.length+1;)s.pop();l(r,Sa(n,t))}if(o.length>=i)break}return o}else return l(r,t),o}function WC(e,t,n,r,i){let a=e.toLowerCase(),o=0,s=-1,c=-1;do c=a.indexOf(t,s),c!==-1&&(s=c+t.length,i({path:n.slice(0),field:r,fieldIndex:o,start:c,end:s}),o++);while(c!==-1)}function GC(e,t,n,r){return e.substring(0,n)+t+e.substring(r)}function KC(e,t,n){let r=e;return Yg(n,e=>{r=GC(r,t,e.start,e.end)}),r}function qC(e,t,n,r,i){let{field:a,path:o,start:s,end:c}=r;if(a===jv.key){let t=a_(o),r=Sa(e,t),i=Bg(o),a=SC(t,Object.keys(r),i,GC(i,n,s,c));return{newSelection:WS(e,a),operations:a}}else if(a===jv.value){let r=Sa(e,o);if(r===void 0)throw Error(`Cannot replace: path not found ${Aa(o)}`);let a=typeof r==`string`?r:String(r),l=dS(e,t,o),u=GC(a,n,s,c),d=[{op:`replace`,path:Aa(o),value:l?u:Zo(u,i)}];return{newSelection:WS(e,d),operations:d}}else throw Error(`Cannot replace: unknown type of search result field ${a}`)}function JC(e,t,n,r,i){let a=UC(n,e,{maxResults:1/0}),o=[];for(let e=0;e<a.length;e++){let t=a[e-1],n=a[e];e===0||n.field!==t.field||!f_(n.path,t.path)?o.push({path:n.path,field:n.field,items:[n]}):Bg(o).items.push(n)}o.sort((e,t)=>e.field===t.field?t.path.length-e.path.length:e.field===jv.key?1:-1);let s=[],c;return o.forEach(n=>{let{field:a,path:o,items:l}=n;if(a===jv.key){let t=a_(o),n=Sa(e,t),i=Bg(o),a=SC(t,Object.keys(n),i,KC(i,r,l));s=s.concat(a),c=WS(e,a)}else if(a===jv.value){let n=Sa(e,o);if(n===void 0)throw Error(`Cannot replace: path not found ${Aa(o)}`);let a=typeof n==`string`?n:String(n),u=dS(e,t,o),d=KC(a,r,l),f=[{op:`replace`,path:Aa(o),value:u?d:Zo(d,i)}];s=s.concat(f),c=WS(e,f)}else throw Error(`Cannot replace: unknown type of search result field ${a}`)}),{operations:s,newSelection:c}}function YC(e,t){let n=[],r=0;for(let i of t){let t=e.slice(r,i.start);t!==``&&n.push({resultIndex:void 0,type:`normal`,text:t,active:!1});let a=e.slice(i.start,i.end);n.push({resultIndex:i.resultIndex,type:`highlight`,text:a,active:i.active}),r=i.end}let i=Bg(t);return i&&i.end<e.length&&n.push({type:`normal`,text:e.slice(i.end),resultIndex:void 0,active:!1}),n}function XC(e){return e.path.concat(e.field,String(e.fieldIndex))}function ZC(e){let t=Ax(e)?e.searchResults.filter(e=>e.field===jv.key):void 0;return t&&t.length>0?t:void 0}function QC(e){let t=Ax(e)?e.searchResults.filter(e=>e.field===jv.value):void 0;return t&&t.length>0?t:void 0}const $C={createObjectDocumentState:()=>({type:`object`,properties:{}}),createArrayDocumentState:()=>({type:`array`,items:[]}),createValueDocumentState:()=>({type:`value`})};function ew(e,t,n,r){return nS(e,t,n,r,$C)}function tw(e,t){return t.reduce((t,n)=>ew(e,t,n.path,(e,t)=>({...t,searchResults:t.searchResults?t.searchResults.concat(n):[n]})),void 0)}function nw(e){let t=e?.searchResults??[],n=Ex(e)?Object.values(e.properties).flatMap(nw):Dx(e)?e.items.flatMap(nw):[];return t.concat(n)}var rw=J(`<span> </span>`);function iw(e,t){Re(t,!1);let n=R(),r=Z(t,`text`,8),i=Z(t,`searchResultItems`,8);H(()=>(K(r()),K(i())),()=>{z(n,YC(String(r()),i()))}),gn(),Li();var a=Ar();Hr(Xt(a),1,()=>W(n),Rr,(e,t)=>{var n=Ar(),r=Xt(n),i=e=>{var n=kr();U(()=>jr(n,(W(t),G(()=>W(t).text)))),Y(e,n)},a=e=>{var n=rw();let r;var i=B(n,!0);I(n),U((e,a)=>{r=li(n,1,`jse-highlight svelte-xeh62o`,null,r,{"jse-active":W(t).active}),Si(n,`data-search-result-index`,e),jr(i,a)},[()=>(W(t),G(()=>String(W(t).resultIndex))),()=>(K(Gv),W(t),G(()=>Gv(W(t).text)))]),Y(e,n)};X(r,e=>{W(t),G(()=>W(t).type===`normal`)?e(i):e(a,!1)}),Y(e,n)}),Y(e,a),ze()}function aw(e){let t=1e3,n=.9;if(e<n*t)return e.toFixed()+` B`;let r=e/t;if(r<n*t)return r.toFixed(1)+` KB`;let i=r/t;if(i<n*t)return i.toFixed(1)+` MB`;let a=i/t;return a<n*t?a.toFixed(1)+` GB`:(a/t).toFixed(1)+` TB`}var ow=J(`<button type="button"><!></button>`);function sw(e,t){Re(t,!0);let n=xt(()=>t.onclick?e=>{e.preventDefault(),e.stopPropagation(),t.onclick()}:void 0);var r=ow();let i;r.__click=function(...e){W(n)?.apply(this,e)},Xr(B(r),()=>t.children??S),I(r),U(()=>i=li(r,1,`jse-tag svelte-txvf7b`,null,i,{disabled:!t.onclick})),Y(e,r),ze()}Sr([`click`]);var cw=J(`<div role="button" tabindex="-1" data-type="selectable-value"><!> <!></div>`);function lw(e,t){Re(t,!0);let n=jt(!0),r=xt(()=>W(n)&&typeof t.value==`string`&&t.value.length>t.truncateTextSize&&(!t.searchResultItems||!t.searchResultItems.some(e=>e.active&&e.end>t.truncateTextSize))),i=xt(()=>W(r)&&typeof t.value==`string`?t.value.substring(0,t.truncateTextSize).trim():t.value),a=xt(()=>Xo(t.value));function o(e){typeof t.value==`string`&&W(a)&&uy(e)&&(e.preventDefault(),e.stopPropagation(),window.open(t.value,`_blank`))}function s(e){t.readOnly||(e.preventDefault(),t.onSelect($S(t.path)))}function c(){z(n,!1)}var l=cw();l.__click=o,l.__dblclick=s;var u=B(l),d=e=>{{let n=xt(()=>t.normalization.escapeValue(W(i)));iw(e,{get text(){return W(n)},get searchResultItems(){return t.searchResultItems}})}},f=e=>{var n=kr();U(e=>jr(n,e),[()=>Gv(t.normalization.escapeValue(W(i)))]),Y(e,n)};X(u,e=>{t.searchResultItems?e(d):e(f,!1)});var p=V(u,2),m=e=>{sw(e,{onclick:c,children:(e,n)=>{De();var r=kr();U(e=>jr(r,`Show more (${e??``})`),[()=>aw(t.value.length)]),Y(e,r)},$$slots:{default:!0}})};X(p,e=>{W(r)&&typeof t.value==`string`&&e(m)}),I(l),U(e=>{li(l,1,e,`svelte-1osa8zi`),Si(l,`title`,W(a)?`Ctrl+Click or Ctrl+Enter to open url in new window`:void 0)},[()=>ri(gC(t.value,t.mode,t.parser))]),Y(e,l),ze()}Sr([`click`,`dblclick`]);var uw=J(`<div class="jse-tooltip svelte-o8xoi4"> </div>`);function dw(e,t){let n=Z(t,`text`,8);var r=uw(),i=B(r,!0);I(r),U(()=>jr(i,n())),Y(e,r)}function fw(e,{text:t,openAbsolutePopup:n,closeAbsolutePopup:r}){let i;function a(){i=n(dw,{text:t},{position:`top`,width:10*t.length,offsetTop:3,anchor:e,closeOnOuterClick:!0})}function o(){r(i)}return e.addEventListener(`mouseenter`,a),e.addEventListener(`mouseleave`,o),{destroy(){e.removeEventListener(`mouseenter`,a),e.removeEventListener(`mouseleave`,o)}}}var pw=J(`<div class="jse-timestamp svelte-1eo5fkn"><!></div>`);function mw(e,t){Re(t,!1);let n=R(void 0,!0),r=Ie(`absolute-popup`),i=Z(t,`value`,9);H(()=>K(i()),()=>{z(n,`Time: ${new Date(i()).toString()}`)}),gn(),Li(!0);var a=pw();bb(B(a),{get data(){return lb}}),I(a),$r(a,(e,t)=>fw?.(e,t),()=>({text:W(n),...r})),Y(e,a),ze()}function hw(e){let t=[];return!e.isEditing&&Uo(e.value)&&t.push({component:Sb,props:e}),!e.isEditing&&qo(e.value)&&t.push({component:Zb,props:e}),e.isEditing&&t.push({component:yC,props:e}),e.isEditing||t.push({component:lw,props:e}),!e.isEditing&&Wo(e.value)&&t.push({component:mw,props:e}),t}var gw={prefix:`fas`,iconName:`rotate`,icon:[512,512,[128260,`sync-alt`],`f2f1`,`M480.1 192l7.9 0c13.3 0 24-10.7 24-24l0-144c0-9.7-5.8-18.5-14.8-22.2S477.9 .2 471 7L419.3 58.8C375 22.1 318 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1C79.2 135.5 159.3 64 256 64 300.4 64 341.2 79 373.7 104.3L327 151c-6.9 6.9-8.9 17.2-5.2 26.2S334.3 192 344 192l136.1 0zm29.4 100.5c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-44.4 0-85.2-15-117.7-40.3L185 361c6.9-6.9 8.9-17.2 5.2-26.2S177.7 320 168 320L24 320c-13.3 0-24 10.7-24 24L0 488c0 9.7 5.8 18.5 14.8 22.2S34.1 511.8 41 505l51.8-51.8C137 489.9 194 512 256 512 385 512 491.7 416.6 509.4 292.5z`]},_w={prefix:`fas`,iconName:`paste`,icon:[512,512,[`file-clipboard`],`f0ea`,`M64 0C28.7 0 0 28.7 0 64L0 384c0 35.3 28.7 64 64 64l112 0 0-224c0-61.9 50.1-112 112-112l64 0 0-48c0-35.3-28.7-64-64-64L64 0zM248 112l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24zm40 48c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64l160 0c35.3 0 64-28.7 64-64l0-165.5c0-17-6.7-33.3-18.7-45.3l-58.5-58.5c-12-12-28.3-18.7-45.3-18.7L288 160z`]},vw={prefix:`fas`,iconName:`crop-simple`,icon:[512,512,[`crop-alt`],`f565`,`M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32-32 0C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l208 0 0-64-208 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64l-208 0 0 64 208 0 0 352z`]},yw={prefix:`fas`,iconName:`filter`,icon:[512,512,[],`f0b0`,`M32 64C19.1 64 7.4 71.8 2.4 83.8S.2 109.5 9.4 118.6L192 301.3 192 416c0 8.5 3.4 16.6 9.4 22.6l64 64c9.2 9.2 22.9 11.9 34.9 6.9S320 492.9 320 480l0-178.7 182.6-182.6c9.2-9.2 11.9-22.9 6.9-34.9S492.9 64 480 64L32 64z`]},bw={prefix:`fas`,iconName:`square-caret-down`,icon:[448,512,[`caret-square-down`],`f150`,`M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9S110.5 192 120 192l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z`]},xw={prefix:`fas`,iconName:`caret-right`,icon:[256,512,[],`f0da`,`M249.3 235.8c10.2 12.6 9.5 31.1-2.2 42.8l-128 128c-9.2 9.2-22.9 11.9-34.9 6.9S64.5 396.9 64.5 384l0-256c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l128 128 2.2 2.4z`]},Sw={prefix:`fas`,iconName:`magnifying-glass`,icon:[512,512,[128269,`search`],`f002`,`M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z`]},Cw={prefix:`fas`,iconName:`eye`,icon:[576,512,[128065],`f06e`,`M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z`]},ww={prefix:`fas`,iconName:`caret-left`,icon:[256,512,[],`f0d9`,`M7.7 235.8c-10.3 12.6-9.5 31.1 2.2 42.8l128 128c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-256c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-128 128-2.2 2.4z`]},Tw={prefix:`fas`,iconName:`chevron-up`,icon:[448,512,[],`f077`,`M201.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 173.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z`]},Ew={prefix:`fas`,iconName:`circle-notch`,icon:[512,512,[],`f1ce`,`M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8-79.3 23.6-137.1 97.1-137.1 184.1 0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256 512 397.4 397.4 512 256 512S0 397.4 0 256c0-116 77.1-213.9 182.9-245.4 16.9-5 34.8 4.6 39.8 21.5z`]},Dw={prefix:`fas`,iconName:`ellipsis-vertical`,icon:[128,512,[`ellipsis-v`],`f142`,`M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z`]},Ow={prefix:`fas`,iconName:`pen-to-square`,icon:[512,512,[`edit`],`f044`,`M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z`]},kw={prefix:`fas`,iconName:`clone`,icon:[512,512,[],`f24d`,`M288 448l-224 0 0-224 48 0 0-64-48 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-48-64 0 0 48zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z`]},Aw={prefix:`fas`,iconName:`square-check`,icon:[448,512,[9745,9989,61510,`check-square`],`f14a`,`M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM342 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 315.2 137 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z`]},jw={prefix:`fas`,iconName:`square-caret-up`,icon:[448,512,[`caret-square-up`],`f151`,`M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9S337.5 320 328 320l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z`]},Mw={prefix:`fas`,iconName:`code`,icon:[576,512,[],`f121`,`M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 150.6 182.6c12.5-12.5 12.5-32.8 0-45.3z`]},Nw={prefix:`fas`,iconName:`angle-right`,icon:[256,512,[8250],`f105`,`M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z`]},Pw={prefix:`fas`,iconName:`gear`,icon:[512,512,[9881,`cog`],`f013`,`M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z`]},Fw={prefix:`fas`,iconName:`up-right-and-down-left-from-center`,icon:[512,512,[`expand-alt`],`f424`,`M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87-39-39c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2S34.1 320.2 41 327l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2S177.7 512 168 512z`]},Iw={prefix:`fas`,iconName:`wrench`,icon:[576,512,[128295],`f0ad`,`M509.4 98.6c7.6-7.6 20.3-5.7 24.1 4.3 6.8 17.7 10.5 37 10.5 57.1 0 88.4-71.6 160-160 160-17.5 0-34.4-2.8-50.2-8L146.9 498.9c-28.1 28.1-73.7 28.1-101.8 0s-28.1-73.7 0-101.8L232 210.2c-5.2-15.8-8-32.6-8-50.2 0-88.4 71.6-160 160-160 20.1 0 39.4 3.7 57.1 10.5 10 3.8 11.8 16.5 4.3 24.1l-88.7 88.7c-3 3-4.7 7.1-4.7 11.3l0 41.4c0 8.8 7.2 16 16 16l41.4 0c4.2 0 8.3-1.7 11.3-4.7l88.7-88.7z`]},Lw={prefix:`fas`,iconName:`trash-can`,icon:[448,512,[61460,`trash-alt`],`f2ed`,`M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z`]},Rw={prefix:`fas`,iconName:`check`,icon:[448,512,[10003,10004],`f00c`,`M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z`]},zw={prefix:`fas`,iconName:`xmark`,icon:[384,512,[128473,10005,10006,10060,215,`close`,`multiply`,`remove`,`times`],`f00d`,`M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z`]},Bw=zw,Vw=zw,Hw={prefix:`fas`,iconName:`pen`,icon:[512,512,[128394],`f304`,`M352.9 21.2L308 66.1 445.9 204 490.8 159.1C504.4 145.6 512 127.2 512 108s-7.6-37.6-21.2-51.1L455.1 21.2C441.6 7.6 423.2 0 404 0s-37.6 7.6-51.1 21.2zM274.1 100L58.9 315.1c-10.7 10.7-18.5 24.1-22.6 38.7L.9 481.6c-2.3 8.3 0 17.3 6.2 23.4s15.1 8.5 23.4 6.2l127.8-35.5c14.6-4.1 27.9-11.8 38.7-22.6L412 237.9 274.1 100z`]},Uw={prefix:`fas`,iconName:`chevron-down`,icon:[448,512,[],`f078`,`M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z`]},Ww={prefix:`fas`,iconName:`angle-down`,icon:[384,512,[8964],`f107`,`M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z`]},Gw={prefix:`fas`,iconName:`arrow-down-short-wide`,icon:[576,512,[`sort-amount-desc`,`sort-amount-down-alt`],`f884`,`M246.6 374.6l-96 96c-12.5 12.5-32.8 12.5-45.3 0l-96-96c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L96 370.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 306.7 41.4-41.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z`]},Kw={prefix:`fas`,iconName:`triangle-exclamation`,icon:[512,512,[9888,`exclamation-triangle`,`warning`],`f071`,`M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z`]},qw={prefix:`fas`,iconName:`scissors`,icon:[512,512,[9984,9986,9988,`cut`],`f0c4`,`M192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6-28.3-28.3-74.1-28.3-102.4 0L256 192 216.5 152.5c4.9-12.6 7.5-26.2 7.5-40.5 0-61.9-50.1-112-112-112S0 50.1 0 112 50.1 224 112 224c14.3 0 27.9-2.7 40.5-7.5L192 256zm97.9 97.9L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0 7.1-7.1 7.1-18.5 0-25.6l-145.3-145.3-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z`]},Jw={prefix:`fas`,iconName:`arrow-right-arrow-left`,icon:[512,512,[8644,`exchange`],`f0ec`,`M502.6 150.6l-96 96c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L402.7 160 32 160c-17.7 0-32-14.3-32-32S14.3 96 32 96l370.7 0-41.4-41.4c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l96 96c12.5 12.5 12.5 32.8 0 45.3zm-397.3 352l-96-96c-12.5-12.5-12.5-32.8 0-45.3l96-96c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L109.3 352 480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32l-370.7 0 41.4 41.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0z`]},Yw={prefix:`fas`,iconName:`caret-up`,icon:[320,512,[],`f0d8`,`M140.3 135.2c12.6-10.3 31.1-9.5 42.8 2.2l128 128c9.2 9.2 11.9 22.9 6.9 34.9S301.4 320 288.5 320l-256 0c-12.9 0-24.6-7.8-29.6-19.8S.7 274.5 9.9 265.4l128-128 2.4-2.2z`]},Xw={prefix:`fas`,iconName:`down-left-and-up-right-to-center`,icon:[512,512,[`compress-alt`],`f422`,`M439.5 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2S450.2 240 440.5 240l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87zM72.5 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87-39-39c-6.9-6.9-8.9-17.2-5.2-26.2S62.8 272 72.5 272z`]},Zw={prefix:`fas`,iconName:`plus`,icon:[448,512,[10133,61543,`add`],`2b`,`M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z`]},Qw={prefix:`fas`,iconName:`copy`,icon:[448,512,[],`f0c5`,`M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z`]},$w={prefix:`fas`,iconName:`arrow-rotate-right`,icon:[512,512,[8635,`arrow-right-rotate`,`arrow-rotate-forward`,`redo`],`f01e`,`M436.7 74.7L448 85.4 448 32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 128c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l47.9 0-7.6-7.2c-.2-.2-.4-.4-.6-.6-75-75-196.5-75-271.5 0s-75 196.5 0 271.5 196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c99.9-99.9 261.7-100 361.7-.3z`]},eT={prefix:`fas`,iconName:`caret-down`,icon:[320,512,[],`f0d7`,`M140.3 376.8c12.6 10.2 31.1 9.5 42.8-2.2l128-128c9.2-9.2 11.9-22.9 6.9-34.9S301.4 192 288.5 192l-256 0c-12.9 0-24.6 7.8-29.6 19.8S.7 237.5 9.9 246.6l128 128 2.4 2.2z`]},tT={prefix:`fas`,iconName:`arrow-rotate-left`,icon:[512,512,[8634,`arrow-left-rotate`,`arrow-rotate-back`,`arrow-rotate-backward`,`undo`],`f0e2`,`M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z`]},nT={prefix:`fas`,iconName:`square`,icon:[448,512,[9632,9723,9724,61590],`f0c8`,`M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z`]},rT={prefix:`fas`,iconName:`arrow-down`,icon:[384,512,[8595],`f063`,`M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z`]};function iT(e){return e.map((e,t)=>cT.test(e)?`[`+e+`]`:/[.[\]]/.test(e)||e===``?`["`+aT(e)+`"]`:(t>0?`.`:``)+e).join(``)}function aT(e){return e.replace(/"/g,`\\"`)}function oT(e){let t=[],n=0;for(;n<e.length;)e[n]===`.`&&n++,e[n]===`[`?(n++,e[n]===`"`?(n++,t.push(r(e=>e===`"`,!0)),i(`"`)):t.push(r(e=>e===`]`)),i(`]`)):t.push(r(e=>e===`.`||e===`[`));function r(t,r=!1){let i=``;for(;n<e.length&&!t(e[n]);)r&&e[n]===`\\`&&e[n+1]===`"`?(i+=`"`,n+=2):(i+=e[n],n++);return i}function i(t){if(e[n]!==t)throw SyntaxError(`Invalid JSON path: ${t} expected at position ${n}`);n++}return t}function sT(e){return{value:e,label:u_(e)?`(item root)`:iT(e)}}var cT=/^\d+$/;const lT={},uT={showWizard:!0,showOriginal:!0};var dT=Math.min,fT=Math.max,pT=Math.round,mT=Math.floor,hT=e=>({x:e,y:e}),gT={left:`right`,right:`left`,bottom:`top`,top:`bottom`},_T={start:`end`,end:`start`};function vT(e,t,n){return fT(e,dT(t,n))}function yT(e,t){return typeof e==`function`?e(t):e}function bT(e){return e.split(`-`)[0]}function xT(e){return e.split(`-`)[1]}function ST(e){return e===`x`?`y`:`x`}function CT(e){return e===`y`?`height`:`width`}var wT=new Set([`top`,`bottom`]);function TT(e){return wT.has(bT(e))?`y`:`x`}function ET(e){return ST(TT(e))}function DT(e,t,n){n===void 0&&(n=!1);let r=xT(e),i=ET(e),a=CT(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=IT(o)),[o,IT(o)]}function OT(e){let t=IT(e);return[kT(e),t,kT(t)]}function kT(e){return e.replace(/start|end/g,e=>_T[e])}var AT=[`left`,`right`],jT=[`right`,`left`],MT=[`top`,`bottom`],NT=[`bottom`,`top`];function PT(e,t,n){switch(e){case`top`:case`bottom`:return n?t?jT:AT:t?AT:jT;case`left`:case`right`:return t?MT:NT;default:return[]}}function FT(e,t,n,r){let i=xT(e),a=PT(bT(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(kT)))),a}function IT(e){return e.replace(/left|right|bottom|top/g,e=>gT[e])}function LT(e){return{top:0,right:0,bottom:0,left:0,...e}}function RT(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:LT(e)}function zT(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function BT(e,t,n){let{reference:r,floating:i}=e,a=TT(t),o=ET(t),s=CT(o),c=bT(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(xT(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var VT=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=BT(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=BT(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function HT(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=yT(t,e),p=RT(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=zT(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=zT(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var UT=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=yT(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=bT(r),_=TT(o),v=bT(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[IT(o)]:OT(o)),x=p!==`none`;!d&&x&&b.push(...FT(o,m,p,y));let S=[o,...b],C=await HT(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=DT(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==TT(t))||T.every(e=>TT(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=TT(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}},WT=new Set([`left`,`top`]);async function GT(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=bT(n),s=xT(n),c=TT(n)===`y`,l=WT.has(o)?-1:1,u=a&&c?-1:1,d=yT(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var KT=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await GT(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},qT=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=yT(e,t),l={x:n,y:r},u=await HT(t,c),d=TT(bT(i)),f=ST(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=vT(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=vT(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}};function JT(){return typeof window<`u`}function YT(e){return QT(e)?(e.nodeName||``).toLowerCase():`#document`}function XT(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ZT(e){return((QT(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function QT(e){return JT()?e instanceof Node||e instanceof XT(e).Node:!1}function $T(e){return JT()?e instanceof Element||e instanceof XT(e).Element:!1}function eE(e){return JT()?e instanceof HTMLElement||e instanceof XT(e).HTMLElement:!1}function tE(e){return!JT()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof XT(e).ShadowRoot}var nE=new Set([`inline`,`contents`]);function rE(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=gE(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!nE.has(i)}var iE=new Set([`table`,`td`,`th`]);function aE(e){return iE.has(YT(e))}var oE=[`:popover-open`,`:modal`];function sE(e){return oE.some(t=>{try{return e.matches(t)}catch{return!1}})}var cE=[`transform`,`translate`,`scale`,`rotate`,`perspective`],lE=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],uE=[`paint`,`layout`,`strict`,`content`];function dE(e){let t=pE(),n=$T(e)?gE(e):e;return cE.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||lE.some(e=>(n.willChange||``).includes(e))||uE.some(e=>(n.contain||``).includes(e))}function fE(e){let t=vE(e);for(;eE(t)&&!hE(t);){if(dE(t))return t;if(sE(t))return null;t=vE(t)}return null}function pE(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var mE=new Set([`html`,`body`,`#document`]);function hE(e){return mE.has(YT(e))}function gE(e){return XT(e).getComputedStyle(e)}function _E(e){return $T(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vE(e){if(YT(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||tE(e)&&e.host||ZT(e);return tE(t)?t.host:t}function yE(e){let t=vE(e);return hE(t)?e.ownerDocument?e.ownerDocument.body:e.body:eE(t)&&rE(t)?t:yE(t)}function bE(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=yE(e),i=r===e.ownerDocument?.body,a=XT(r);if(i){let e=xE(a);return t.concat(a,a.visualViewport||[],rE(r)?r:[],e&&n?bE(e):[])}return t.concat(r,bE(r,[],n))}function xE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SE(e){let t=gE(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=eE(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=pT(n)!==a||pT(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function CE(e){return $T(e)?e:e.contextElement}function wE(e){let t=CE(e);if(!eE(t))return hT(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=SE(t),o=(a?pT(n.width):n.width)/r,s=(a?pT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var TE=hT(0);function EE(e){let t=XT(e);return!pE()||!t.visualViewport?TE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==XT(e)?!1:t}function OE(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=CE(e),o=hT(1);t&&(r?$T(r)&&(o=wE(r)):o=wE(e));let s=DE(a,n,r)?EE(a):hT(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=XT(a),t=r&&$T(r)?XT(r):r,n=e,i=xE(n);for(;i&&r&&t!==n;){let e=wE(i),t=i.getBoundingClientRect(),r=gE(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=XT(i),i=xE(n)}}return zT({width:u,height:d,x:c,y:l})}function kE(e,t){let n=_E(e).scrollLeft;return t?t.left+n:OE(ZT(e)).left+n}function AE(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-kE(e,n),y:n.top+t.scrollTop}}function jE(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=ZT(r),s=t?sE(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=hT(1),u=hT(0),d=eE(r);if((d||!d&&!a)&&((YT(r)!==`body`||rE(o))&&(c=_E(r)),eE(r))){let e=OE(r);l=wE(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?AE(o,c):hT(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function ME(e){return Array.from(e.getClientRects())}function NE(e){let t=ZT(e),n=_E(e),r=e.ownerDocument.body,i=fT(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=fT(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+kE(e),s=-n.scrollTop;return gE(r).direction===`rtl`&&(o+=fT(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var PE=25;function FE(e,t){let n=XT(e),r=ZT(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=pE();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=kE(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=PE&&(a-=o)}else l<=PE&&(a+=l);return{width:a,height:o,x:s,y:c}}var IE=new Set([`absolute`,`fixed`]);function LE(e,t){let n=OE(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=eE(e)?wE(e):hT(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function RE(e,t,n){let r;if(t===`viewport`)r=FE(e,n);else if(t===`document`)r=NE(ZT(e));else if($T(t))r=LE(t,n);else{let n=EE(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return zT(r)}function zE(e,t){let n=vE(e);return n===t||!$T(n)||hE(n)?!1:gE(n).position===`fixed`||zE(n,t)}function BE(e,t){let n=t.get(e);if(n)return n;let r=bE(e,[],!1).filter(e=>$T(e)&&YT(e)!==`body`),i=null,a=gE(e).position===`fixed`,o=a?vE(e):e;for(;$T(o)&&!hE(o);){let t=gE(o),n=dE(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&IE.has(i.position)||rE(o)&&!n&&zE(e,o))?r=r.filter(e=>e!==o):i=t,o=vE(o)}return t.set(e,r),r}function VE(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?sE(t)?[]:BE(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=RE(t,n,i);return e.top=fT(r.top,e.top),e.right=dT(r.right,e.right),e.bottom=dT(r.bottom,e.bottom),e.left=fT(r.left,e.left),e},RE(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function HE(e){let{width:t,height:n}=SE(e);return{width:t,height:n}}function UE(e,t,n){let r=eE(t),i=ZT(t),a=n===`fixed`,o=OE(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=hT(0);function l(){c.x=kE(i)}if(r||!r&&!a)if((YT(t)!==`body`||rE(i))&&(s=_E(t)),r){let e=OE(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?AE(i,s):hT(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function WE(e){return gE(e).position===`static`}function GE(e,t){if(!eE(e)||gE(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return ZT(e)===n&&(n=n.ownerDocument.body),n}function KE(e,t){let n=XT(e);if(sE(e))return n;if(!eE(e)){let t=vE(e);for(;t&&!hE(t);){if($T(t)&&!WE(t))return t;t=vE(t)}return n}let r=GE(e,t);for(;r&&aE(r)&&WE(r);)r=GE(r,t);return r&&hE(r)&&WE(r)&&!dE(r)?n:r||fE(e)||n}var qE=async function(e){let t=this.getOffsetParent||KE,n=this.getDimensions,r=await n(e.floating);return{reference:UE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JE(e){return gE(e).direction===`rtl`}var YE={convertOffsetParentRelativeRectToViewportRelativeRect:jE,getDocumentElement:ZT,getClippingRect:VE,getOffsetParent:KE,getElementRects:qE,getClientRects:ME,getDimensions:HE,getScale:wE,isElement:$T,isRTL:JE};function XE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ZE(e,t){let n=null,r,i=ZT(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=mT(d),h=mT(i.clientWidth-(u+f)),g=mT(i.clientHeight-(d+p)),_=mT(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:fT(0,dT(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!XE(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function QE(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=CE(e),u=i||a?[...l?bE(l):[],...bE(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?ZE(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?OE(e):null;c&&g();function g(){let t=OE(e);h&&!XE(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var $E=KT,eD=qT,tD=UT,nD=(e,t,n)=>{let r=new Map,i={platform:YE,...n},a={...i.platform,_c:r};return VT(e,t,{...i,platform:a})};function rD(e){let t,n,r={autoUpdate:!0},i=e,a=t=>({...r,...e||{},...t||{}}),o=e=>{t&&n&&(i=a(e),nD(t,n,i).then(e=>{Object.assign(n.style,{position:e.strategy,left:`${e.x}px`,top:`${e.y}px`}),i?.onComputed&&i.onComputed(e)}))},s=e=>{if(`subscribe`in e)return l(e),{};t=e,o()},c=(e,r)=>{let s;n=e,i=a(r),setTimeout(()=>o(r),0),o(r);let c=()=>{s&&=(s(),void 0)},l=({autoUpdate:e}=i||{})=>{c(),e!==!1&&ar().then(()=>QE(t,n,()=>o(i),e===!0?{}:e))};return s=l(),{update(e){o(e),s=l(e)},destroy(){c()}}},l=e=>{Ji(e.subscribe(e=>{t===void 0?(t=e,o()):(Object.assign(t,e),o())}))};return[s,c,o]}function iD({loadOptions:e,filterText:t,items:n,multiple:r,value:i,itemId:a,groupBy:o,filterSelectedItems:s,itemFilter:c,convertStringItemsToObjects:l,filterGroupedItems:u,label:d}){if(n&&e)return n;if(!n)return[];n&&n.length>0&&typeof n[0]!=`object`&&(n=l(n));let f=n.filter(e=>{let n=c(e[d],t,e);return n&&r&&i?.length&&(n=!i.some(t=>s?t[a]===e[a]:!1)),n});return o&&(f=u(f)),f}async function aD({dispatch:e,loadOptions:t,convertStringItemsToObjects:n,filterText:r}){let i=await t(r).catch(t=>{console.warn(`svelte-select loadOptions error :>> `,t),e(`error`,{type:`loadOptions`,details:t})});if(i&&!i.cancelled)return i?(i&&i.length>0&&typeof i[0]!=`object`&&(i=n(i)),e(`loaded`,{items:i})):i=[],{filteredItems:i,loading:!1,focused:!0,listOpen:!0}}var oD=Or(`<svg width="100%" height="100%" viewBox="0 0 20 20" focusable="false" aria-hidden="true" class="svelte-1kxu7be"><path fill="currentColor" d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>`);function sD(e){Y(e,oD())}var cD=Or(`<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-1hraxrc"><path fill="currentColor" d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>`);function lD(e){Y(e,cD())}var uD=Or(`<svg class="loading svelte-y9fi5p" viewBox="25 25 50 50"><circle class="circle_path svelte-y9fi5p" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>`);function dD(e){Y(e,uD())}var fD=J(`<div class="list-item svelte-1ul7oo4" tabindex="-1" role="none"><div><!></div></div>`),pD=J(`<div class="empty svelte-1ul7oo4">No options</div>`),mD=J(`<div role="none"><!> <!> <!></div>`),hD=J(`<span id="aria-selection" class="svelte-1ul7oo4"> </span> <span id="aria-context" class="svelte-1ul7oo4"> </span>`,1),gD=J(`<div class="multi-item-clear svelte-1ul7oo4"><!></div>`),_D=J(`<div role="none"><span class="multi-item-text svelte-1ul7oo4"><!></span> <!></div>`),vD=J(`<div><!></div>`),yD=J(`<div class="icon loading svelte-1ul7oo4" aria-hidden="true"><!></div>`),bD=J(`<button type="button" class="icon clear-select svelte-1ul7oo4"><!></button>`),xD=J(`<div class="icon chevron svelte-1ul7oo4" aria-hidden="true"><!></div>`),SD=J(`<input type="hidden" class="svelte-1ul7oo4"/>`),CD=J(`<select class="required svelte-1ul7oo4" required tabindex="-1" aria-hidden="true"></select>`),wD=J(`<div role="none"><!> <span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-1ul7oo4"><!></span> <div class="prepend svelte-1ul7oo4"><!></div> <div class="value-container svelte-1ul7oo4"><!> <input/></div> <div class="indicators svelte-1ul7oo4"><!> <!> <!></div> <!> <!></div>`);function TD(e,t){let n=Yr(t);Re(t,!1);let r=R(),i=R(),a=R(),o=R(),s=R(),c=R(),l=R(),u=R(),d=R(),f=Xi(),p=Z(t,`justValue`,12,null),m=Z(t,`filter`,8,iD),h=Z(t,`getItems`,8,aD),g=Z(t,`id`,8,null),_=Z(t,`name`,8,null),v=Z(t,`container`,12,void 0),y=Z(t,`input`,12,void 0),b=Z(t,`multiple`,8,!1),x=Z(t,`multiFullItemClearable`,8,!1),S=Z(t,`disabled`,8,!1),C=Z(t,`focused`,12,!1),w=Z(t,`value`,12,null),T=Z(t,`filterText`,12,``),ee=Z(t,`placeholder`,8,`Please select`),te=Z(t,`placeholderAlwaysShow`,8,!1),E=Z(t,`items`,12,null),ne=Z(t,`label`,8,`label`),re=Z(t,`itemFilter`,8,(e,t,n)=>`${e}`.toLowerCase().includes(t.toLowerCase())),ie=Z(t,`groupBy`,8,void 0),ae=Z(t,`groupFilter`,8,e=>e),D=Z(t,`groupHeaderSelectable`,8,!1),oe=Z(t,`itemId`,8,`value`),O=Z(t,`loadOptions`,8,void 0),se=Z(t,`containerStyles`,8,``),ce=Z(t,`hasError`,8,!1),le=Z(t,`filterSelectedItems`,8,!0),ue=Z(t,`required`,8,!1),de=Z(t,`closeListOnChange`,8,!0),fe=Z(t,`clearFilterTextOnBlur`,8,!0),pe=Z(t,`createGroupHeaderItem`,8,(e,t)=>({value:e,[ne()]:e})),me=()=>W(l),k=Z(t,`searchable`,8,!0),he=Z(t,`inputStyles`,8,``),ge=Z(t,`clearable`,8,!0),A=Z(t,`loading`,12,!1),j=Z(t,`listOpen`,12,!1),_e,ve=Z(t,`debounce`,8,(e,t=1)=>{clearTimeout(_e),_e=setTimeout(e,t)}),M=Z(t,`debounceWait`,8,300),N=Z(t,`hideEmptyState`,8,!1),ye=Z(t,`inputAttributes`,24,()=>({})),be=Z(t,`listAutoWidth`,8,!0),xe=Z(t,`showChevron`,8,!1),Se=Z(t,`listOffset`,8,5),Ce=Z(t,`hoverItemIndex`,12,0),P=Z(t,`floatingConfig`,24,()=>({})),we=Z(t,`class`,8,``),F=R(),Te=R(),Ee=R(),De=R();function Oe(){typeof w()==`string`?w((E()||[]).find(e=>e[oe()]===w())||{[oe()]:w(),label:w()}):b()&&Array.isArray(w())&&w().length>0&&w(w().map(e=>typeof e==`string`?{value:e,label:e}:e))}let ke=R();function Ae(){z(ke,Object.assign({autocapitalize:`none`,autocomplete:`off`,autocorrect:`off`,spellcheck:!1,tabindex:0,type:`text`,"aria-autocomplete":`list`},ye())),g()&&Mt(ke,W(ke).id=g()),k()||Mt(ke,W(ke).readonly=!0)}function je(e){return e.map((e,t)=>({index:t,value:e,label:`${e}`}))}function Me(e){let t=[],n={};e.forEach(e=>{let r=ie()(e);t.includes(r)||(t.push(r),n[r]=[],r&&n[r].push(Object.assign(pe()(r,e),{id:r,groupHeader:!0,selectable:D()}))),n[r].push(Object.assign({groupItem:!!r},e))});let r=[];return ae()(t).forEach(e=>{n[e]&&r.push(...n[e])}),r}function Ne(){if(b()){JSON.stringify(w())!==JSON.stringify(W(Te))&&Ue()&&f(`input`,w());return}(!W(Te)||JSON.stringify(w()[oe()])!==JSON.stringify(W(Te)[oe()]))&&f(`input`,w())}function Pe(){w()&&(Array.isArray(w())?w([...w()]):w([w()]))}function L(){w()&&w(null)}function Fe(){Le(W(l).findIndex(e=>e[oe()]===w()[oe()]),!0)}function Ie(e){f(`hoverItem`,e)}function Le(e=0,t){Ce(e<0?0:e),!t&&ie()&&W(l)[Ce()]&&!W(l)[Ce()].selectable&&pt(1)}function Be(){!O()&&T().length===0||(O()?ve()(async function(){A(!0);let e=await h()({dispatch:f,loadOptions:O(),convertStringItemsToObjects:je,filterText:T()});e?(A(e.loading),j(j()?e.listOpen:T().length>0),C(j()&&e.focused),E(ie()?Me(e.filteredItems):e.filteredItems)):(A(!1),C(!0),j(!0))},M()):(j(!0),b()&&z(F,void 0)))}function Ve(e){j()&&f(`filter`,e)}Zi(async()=>{z(Te,w()),z(Ee,T()),z(De,b())});function He(){return b()?w()?w().map(e=>e[oe()]):null:w()?w()[oe()]:w()}function Ue(){let e=!0;if(w()){let t=[],n=[];w().forEach(r=>{t.includes(r[oe()])?e=!1:(t.push(r[oe()]),n.push(r))}),e||w(n)}return e}function We(e){let t=e?e[oe()]:w()[oe()];return E().find(e=>e[oe()]===t)}function Ge(e){!e||e.length===0||e.some(e=>typeof e!=`object`)||!w()||(b()?w().some(e=>!e||!e[oe()]):!w()[oe()])||(Array.isArray(w())?w(w().map(e=>We(e)||e)):w(We()||w()))}async function Ke(e){let t=w()[e];w().length===1?w(void 0):w(w().filter(e=>e!==t)),f(`clear`,t)}function qe(e){if(C())switch(e.stopPropagation(),e.key){case`Escape`:e.preventDefault(),$e();break;case`Enter`:if(e.preventDefault(),j()){if(W(l).length===0)break;let e=W(l)[Ce()];if(w()&&!b()&&w()[oe()]===e[oe()]){$e();break}else ut(W(l)[Ce()])}break;case`ArrowDown`:e.preventDefault(),j()?pt(1):(j(!0),z(F,void 0));break;case`ArrowUp`:e.preventDefault(),j()?pt(-1):(j(!0),z(F,void 0));break;case`Tab`:if(j()&&C()){if(W(l).length===0||w()&&w()[oe()]===W(l)[Ce()][oe()])return $e();e.preventDefault(),ut(W(l)[Ce()]),$e()}break;case`Backspace`:if(!b()||T().length>0)return;if(b()&&w()&&w().length>0){if(Ke(W(F)===void 0?w().length-1:W(F)),W(F)===0||W(F)===void 0)break;z(F,w().length>W(F)?W(F)-1:void 0)}break;case`ArrowLeft`:if(!w()||!b()||T().length>0)return;W(F)===void 0?z(F,w().length-1):w().length>W(F)&&W(F)!==0&&z(F,W(F)-1);break;case`ArrowRight`:if(!w()||!b()||T().length>0||W(F)===void 0)return;W(F)===w().length-1?z(F,void 0):W(F)<w().length-1&&z(F,W(F)+1);break}}function Je(e){C()&&y()===document?.activeElement||(e&&f(`focus`,e),y()?.focus(),C(!0))}async function Ye(e){lt||(j()||C())&&(f(`blur`,e),$e(),C(!1),z(F,void 0),y()?.blur())}function Xe(){if(!S()){if(T().length>0)return j(!0);j(!j())}}function Ze(){f(`clear`,w()),w(void 0),$e(),Je()}qi(()=>{j()&&C(!0),C()&&y()&&y().focus()});function Qe(e){if(e){T(``);let t=Object.assign({},e);if(t.groupHeader&&!t.selectable)return;w(b()?w()?w().concat([t]):[t]:w(t)),setTimeout(()=>{de()&&$e(),z(F,void 0),f(`change`,w()),f(`select`,e)})}}function $e(){fe()&&T(``),j(!1)}let et=Z(t,`ariaValues`,8,e=>`Option ${e}, selected.`),tt=Z(t,`ariaListOpen`,8,(e,t)=>`You are currently focused on option ${e}. There are ${t} results available.`),nt=Z(t,`ariaFocused`,8,()=>`Select is focused, type to refine list, press down to open the menu.`);function rt(e){let t;return t=e&&w().length>0?w().map(e=>e[ne()]).join(`, `):w()[ne()],et()(t)}function it(){if(!W(l)||W(l).length===0)return``;let e=W(l)[Ce()];if(j()&&e){let t=W(l)?W(l).length:0;return tt()(e[ne()],t)}else return nt()()}let at=R(null),ot;function st(){clearTimeout(ot),ot=setTimeout(()=>{lt=!1},100)}function ct(e){!j()&&!C()&&v()&&!v().contains(e.target)&&!W(at)?.contains(e.target)&&Ye()}Ji(()=>{W(at)?.remove()});let lt=!1;function ut(e){!e||e.selectable===!1||Qe(e)}function dt(e){lt||Ce(e)}function ft(e){let{item:t,i:n}=e;if(t?.selectable!==!1){if(w()&&!b()&&w()[oe()]===t[oe()])return $e();gt(t)&&(Ce(n),ut(t))}}function pt(e){if(W(l).filter(e=>!Object.hasOwn(e,`selectable`)||e.selectable===!0).length===0)return Ce(0);e>0&&Ce()===W(l).length-1?Ce(0):e<0&&Ce()===0?Ce(W(l).length-1):Ce(Ce()+e);let t=W(l)[Ce()];if(t&&t.selectable===!1){(e===1||e===-1)&&pt(e);return}}function mt(e,t,n){if(!b())return t&&t[n]===e[n]}function ht(e){return e===0}function gt(e){return e.groupHeader&&e.selectable||e.selectable||!e.hasOwnProperty(`selectable`)}let _t=yt,vt=yt;function yt(e){return{update(t){t.scroll&&(st(),e.scrollIntoView({behavior:`auto`,block:`nearest`}))}}}function bt(){let{width:e}=v().getBoundingClientRect();Mt(at,W(at).style.width=be()?e+`px`:`auto`)}let xt=R({strategy:`absolute`,placement:`bottom-start`,middleware:[$E(Se()),tD(),eD()],autoUpdate:!1}),[St,Ct,wt]=rD(W(xt)),Tt=R(!0);function Et(e,t){if(!e||!t)return z(Tt,!0);setTimeout(()=>{z(Tt,!1)},0)}H(()=>(K(E()),K(w())),()=>{E(),w()&&Oe()}),H(()=>(K(ye()),K(k())),()=>{(ye()||!k())&&Ae()}),H(()=>K(b()),()=>{b()&&Pe()}),H(()=>(W(De),K(b())),()=>{W(De)&&!b()&&L()}),H(()=>(K(b()),K(w())),()=>{b()&&w()&&w().length>1&&Ue()}),H(()=>K(w()),()=>{w()&&Ne()}),H(()=>(K(w()),K(b()),W(Te)),()=>{!w()&&b()&&W(Te)&&f(`input`,w())}),H(()=>(K(C()),K(y())),()=>{!C()&&y()&&$e()}),H(()=>(K(T()),W(Ee)),()=>{T()!==W(Ee)&&Be()}),H(()=>(K(m()),K(O()),K(T()),K(E()),K(b()),K(w()),K(oe()),K(ie()),K(ne()),K(le()),K(re())),()=>{z(l,m()({loadOptions:O(),filterText:T(),items:E(),multiple:b(),value:w(),itemId:oe(),groupBy:ie(),label:ne(),filterSelectedItems:le(),itemFilter:re(),convertStringItemsToObjects:je,filterGroupedItems:Me}))}),H(()=>(K(b()),K(j()),K(w()),W(l)),()=>{!b()&&j()&&w()&&W(l)&&Fe()}),H(()=>(K(j()),K(b())),()=>{j()&&b()&&Ce(0)}),H(()=>K(T()),()=>{T()&&Ce(0)}),H(()=>K(Ce()),()=>{Ie(Ce())}),H(()=>(K(b()),K(w())),()=>{z(r,b()?w()&&w().length>0:w())}),H(()=>(W(r),K(T())),()=>{z(i,W(r)&&T().length>0)}),H(()=>(W(r),K(ge()),K(S()),K(A())),()=>{z(a,W(r)&&ge()&&!S()&&!A())}),H(()=>(K(te()),K(b()),K(ee()),K(w())),()=>{z(o,te()&&b()||b()&&w()?.length===0?ee():w()?``:ee())}),H(()=>(K(w()),K(b())),()=>{z(s,w()?rt(b()):``)}),H(()=>(W(l),K(Ce()),K(C()),K(j())),()=>{z(c,it({filteredItems:W(l),hoverItemIndex:Ce(),focused:C(),listOpen:j()}))}),H(()=>K(E()),()=>{Ge(E())}),H(()=>(K(b()),K(w()),K(oe())),()=>{p(He(b(),w(),oe()))}),H(()=>(K(b()),W(Te),K(w())),()=>{!b()&&W(Te)&&!w()&&f(`input`,w())}),H(()=>(K(j()),W(l),K(b()),K(w())),()=>{j()&&W(l)&&!b()&&!w()&&Le()}),H(()=>W(l),()=>{Ve(W(l))}),H(()=>(K(v()),K(P()),W(xt)),()=>{v()&&P()&&wt(Object.assign(W(xt),P()))}),H(()=>W(at),()=>{z(u,!!W(at))}),H(()=>(W(at),K(j())),()=>{Et(W(at),j())}),H(()=>(K(j()),K(v()),W(at)),()=>{j()&&v()&&W(at)&&bt()}),H(()=>K(Ce()),()=>{z(d,Ce())}),H(()=>(K(y()),K(j()),K(C())),()=>{y()&&j()&&!C()&&Je()}),H(()=>(K(v()),K(P())),()=>{v()&&P()?.autoUpdate===void 0&&Mt(xt,W(xt).autoUpdate=!0)}),gn();var Dt={getFilteredItems:me,handleClear:Ze};Li();var Ot=wD();q(`click`,Vt,ct),q(`keydown`,Vt,qe);let kt;var At=B(Ot),jt=e=>{var r=mD();let i;var a=B(r),o=e=>{var n=Ar();Jr(Xt(n),t,`list-prepend`,{},null),Y(e,n)};X(a,e=>{G(()=>n[`list-prepend`])&&e(o)});var s=V(a,2),c=e=>{var n=Ar();Jr(Xt(n),t,`list`,{get filteredItems(){return W(l)}},null),Y(e,n)},f=e=>{var n=Ar(),r=Xt(n),i=e=>{var n=Ar();Hr(Xt(n),1,()=>W(l),Rr,(e,n,r)=>{var i=fD(),a=B(i);let o;Jr(B(a),t,`item`,{get item(){return W(n)},index:r},e=>{var t=kr();U(()=>jr(t,(W(n),K(ne()),G(()=>W(n)?.[ne()])))),Y(e,t)}),I(a),$r(a,(e,t)=>_t?.(e,t),()=>({scroll:mt(W(n),w(),oe()),listDom:W(u)})),$r(a,(e,t)=>vt?.(e,t),()=>({scroll:W(d)===r,listDom:W(u)})),I(i),U(e=>o=li(a,1,`item svelte-1ul7oo4`,null,o,e),[()=>({"list-group-title":W(n).groupHeader,active:mt(W(n),w(),oe()),first:ht(r),hover:Ce()===r,"group-item":W(n).groupItem,"not-selectable":W(n)?.selectable===!1})]),q(`mouseover`,i,()=>dt(r)),q(`focus`,i,()=>dt(r)),q(`click`,i,Fi(()=>ft({item:W(n),i:r}))),q(`keydown`,i,Ii(Fi(function(e){Bi.call(this,t,e)}))),Y(e,i)}),Y(e,n)},a=e=>{var n=Ar(),r=Xt(n),i=e=>{var n=Ar();Jr(Xt(n),t,`empty`,{},e=>{Y(e,pD())}),Y(e,n)};X(r,e=>{N()||e(i)},!0),Y(e,n)};X(r,e=>{W(l),G(()=>W(l).length>0)?e(i):e(a,!1)},!0),Y(e,n)};X(s,e=>{G(()=>n.list)?e(c):e(f,!1)});var p=V(s,2),m=e=>{var n=Ar();Jr(Xt(n),t,`list-append`,{},null),Y(e,n)};X(p,e=>{G(()=>n[`list-append`])&&e(m)}),I(r),$r(r,e=>Ct?.(e)),Ni(r,e=>z(at,e),()=>W(at)),hn(()=>q(`scroll`,r,st)),hn(()=>q(`pointerup`,r,Ii(Fi(function(e){Bi.call(this,t,e)})))),hn(()=>q(`mousedown`,r,Ii(Fi(function(e){Bi.call(this,t,e)})))),U(()=>i=li(r,1,`svelte-select-list svelte-1ul7oo4`,null,i,{prefloat:W(Tt)})),Y(e,r)};X(At,e=>{j()&&e(jt)});var Nt=V(At,2),Pt=B(Nt),Ft=e=>{var t=hD(),n=Xt(t),r=B(n,!0);I(n);var i=V(n,2),a=B(i,!0);I(i),U(()=>{jr(r,W(s)),jr(a,W(c))}),Y(e,t)};X(Pt,e=>{C()&&e(Ft)}),I(Nt);var It=V(Nt,2);Jr(B(It),t,`prepend`,{},null),I(It);var Lt=V(It,2),Rt=B(Lt),zt=e=>{var n=Ar(),r=Xt(n),a=e=>{var n=Ar();Hr(Xt(n),1,w,Rr,(e,n,r)=>{var i=_D();let a;var o=B(i);Jr(B(o),t,`selection`,{get selection(){return W(n)},index:r},e=>{var t=kr();U(()=>jr(t,(W(n),K(ne()),G(()=>W(n)[ne()])))),Y(e,t)}),I(o);var s=V(o,2),c=e=>{var n=gD();Jr(B(n),t,`multi-clear-icon`,{},e=>{lD(e,{})}),I(n),q(`pointerup`,n,Ii(Fi(()=>Ke(r)))),Y(e,n)};X(s,e=>{!S()&&!x()&&lD&&e(c)}),I(i),U(()=>a=li(i,1,`multi-item svelte-1ul7oo4`,null,a,{active:W(F)===r,disabled:S()})),q(`click`,i,Ii(()=>x()?Ke(r):{})),q(`keydown`,i,Ii(Fi(function(e){Bi.call(this,t,e)}))),Y(e,i)}),Y(e,n)},o=e=>{var n=vD();let r;Jr(B(n),t,`selection`,{get selection(){return w()}},e=>{var t=kr();U(()=>jr(t,(K(w()),K(ne()),G(()=>w()[ne()])))),Y(e,t)}),I(n),U(()=>r=li(n,1,`selected-item svelte-1ul7oo4`,null,r,{"hide-selected-item":W(i)})),Y(e,n)};X(r,e=>{b()?e(a):e(o,!1)}),Y(e,n)};X(Rt,e=>{W(r)&&e(zt)});var Bt=V(Rt,2);wi(Bt,()=>({readOnly:!k(),...W(ke),placeholder:W(o),style:he(),disabled:S()}),void 0,void 0,void 0,`svelte-1ul7oo4`,!0),Ni(Bt,e=>y(e),()=>y()),I(Lt);var Ht=V(Lt,2),Ut=B(Ht),Wt=e=>{var n=yD();Jr(B(n),t,`loading-icon`,{},e=>{dD(e,{})}),I(n),Y(e,n)};X(Ut,e=>{A()&&e(Wt)});var Gt=V(Ut,2),Kt=e=>{var n=bD();Jr(B(n),t,`clear-icon`,{},e=>{lD(e,{})}),I(n),q(`click`,n,Ze),Y(e,n)};X(Gt,e=>{W(a)&&e(Kt)});var qt=V(Gt,2),Jt=e=>{var n=xD();Jr(B(n),t,`chevron-icon`,{get listOpen(){return j()}},e=>{sD(e,{})}),I(n),Y(e,n)};X(qt,e=>{xe()&&e(Jt)}),I(Ht);var Yt=V(Ht,2);Jr(Yt,t,`input-hidden`,{get value(){return w()}},e=>{var t=SD();yi(t),U(e=>{Si(t,`name`,_()),bi(t,e)},[()=>(K(w()),G(()=>w()?JSON.stringify(w()):null))]),Y(e,t)});var Zt=V(Yt,2),Qt=e=>{var n=Ar();Jr(Xt(n),t,`required`,{get value(){return w()}},e=>{Y(e,CD())}),Y(e,n)};return X(Zt,e=>{K(ue()),K(w()),G(()=>ue()&&(!w()||w().length===0))&&e(Qt)}),I(Ot),hn(()=>q(`pointerup`,Ot,Ii(Xe))),Ni(Ot,e=>v(e),()=>v()),$r(Ot,e=>St?.(e)),U(()=>{kt=li(Ot,1,`svelte-select ${we()??``}`,`svelte-1ul7oo4`,kt,{multi:b(),disabled:S(),focused:C(),"list-open":j(),"show-chevron":xe(),error:ce()}),di(Ot,se())}),q(`keydown`,Bt,qe),q(`blur`,Bt,Ye),q(`focus`,Bt,Je),Oi(Bt,T),Y(e,Ot),ji(t,`getFilteredItems`,me),ji(t,`handleClear`,Ze),ze(Dt)}var ED=J(`<table class="jse-transform-wizard svelte-1brpr3g"><tbody><tr class="svelte-1brpr3g"><th class="svelte-1brpr3g">Filter</th><td class="svelte-1brpr3g"><div class="jse-horizontal svelte-1brpr3g"><!> <!> <input class="jse-filter-value svelte-1brpr3g"/></div></td></tr><tr class="svelte-1brpr3g"><th class="svelte-1brpr3g">Sort</th><td class="svelte-1brpr3g"><div class="jse-horizontal svelte-1brpr3g"><!> <!></div></td></tr><tr class="svelte-1brpr3g"><th class="svelte-1brpr3g">Pick</th><td class="svelte-1brpr3g"><div class="jse-horizontal svelte-1brpr3g"><!></div></td></tr></tbody></table>`);function DD(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=R(void 0,!0),o=R(void 0,!0),s=R(void 0,!0),c=$i(`jsoneditor:TransformWizard`),l=Z(t,`json`,9),u=Z(t,`queryOptions`,29,()=>({})),d=Z(t,`onChange`,9),f=[`==`,`!=`,`<`,`<=`,`>`,`>=`].map(e=>({value:e,label:e})),p=[{value:`asc`,label:`ascending`},{value:`desc`,label:`descending`}],m=R(u()?.filter?.path?sT(u().filter.path):void 0,!0),h=R(f.find(e=>e.value===u().filter?.relation)??f[0],!0),g=R(u()?.filter?.value||``,!0),_=R(u()?.sort?.path?sT(u().sort.path):void 0,!0),v=R(p.find(e=>e.value===u().sort?.direction)??p[0],!0);function y(e){f_(u()?.filter?.path,e)||(c(`changeFilterPath`,e),u(Ca(u(),[`filter`,`path`],e,!0)),d()(u()))}function b(e){f_(u()?.filter?.relation,e)||(c(`changeFilterRelation`,e),u(Ca(u(),[`filter`,`relation`],e,!0)),d()(u()))}function x(e){f_(u()?.filter?.value,e)||(c(`changeFilterValue`,e),u(Ca(u(),[`filter`,`value`],e,!0)),d()(u()))}function S(e){f_(u()?.sort?.path,e)||(c(`changeSortPath`,e),u(Ca(u(),[`sort`,`path`],e,!0)),d()(u()))}function C(e){f_(u()?.sort?.direction,e)||(c(`changeSortDirection`,e),u(Ca(u(),[`sort`,`direction`],e,!0)),d()(u()))}function w(e){f_(u()?.projection?.paths,e)||(c(`changeProjectionPaths`,e),u(Ca(u(),[`projection`,`paths`],e,!0)),d()(u()))}H(()=>K(l()),()=>{z(n,Array.isArray(l()))}),H(()=>(W(n),K(l())),()=>{z(r,W(n)?J_(l()):[])}),H(()=>(W(n),K(l())),()=>{z(i,W(n)?J_(l(),!0):[])}),H(()=>(W(r),sT),()=>{z(a,W(r).map(sT))}),H(()=>(W(i),sT),()=>{z(o,W(i)?W(i).map(sT):[])}),H(()=>(K(u()),W(o),f_),()=>{z(s,u()?.projection?.paths&&W(o)?u().projection.paths.map(e=>W(o).find(t=>f_(t.value,e))).filter(e=>!!e):void 0)}),H(()=>W(m),()=>{y(W(m)?.value)}),H(()=>W(h),()=>{b(W(h)?.value)}),H(()=>W(g),()=>{x(W(g))}),H(()=>W(_),()=>{S(W(_)?.value)}),H(()=>W(v),()=>{C(W(v)?.value)}),H(()=>W(s),()=>{w(W(s)?W(s).map(e=>e.value):void 0)}),gn(),Li(!0);var T=ED(),ee=B(T),te=B(ee),E=V(B(te)),ne=B(E),re=B(ne);TD(re,{class:`jse-filter-path`,showChevron:!0,get items(){return W(a)},get value(){return W(m)},set value(e){z(m,e)},$$legacy:!0});var ie=V(re,2);TD(ie,{class:`jse-filter-relation`,showChevron:!0,clearable:!1,get items(){return f},get value(){return W(h)},set value(e){z(h,e)},$$legacy:!0});var ae=V(ie,2);yi(ae),I(ne),I(E),I(te);var D=V(te),oe=V(B(D)),O=B(oe),se=B(O);TD(se,{class:`jse-sort-path`,showChevron:!0,get items(){return W(a)},get value(){return W(_)},set value(e){z(_,e)},$$legacy:!0}),TD(V(se,2),{class:`jse-sort-direction`,showChevron:!0,clearable:!1,get items(){return p},get value(){return W(v)},set value(e){z(v,e)},$$legacy:!0}),I(O),I(oe),I(D);var ce=V(D),le=V(B(ce)),ue=B(le);TD(B(ue),{class:`jse-projection-paths`,multiple:!0,showChevron:!0,get items(){return W(o)},get value(){return W(s)},set value(e){z(s,e)},$$legacy:!0}),I(ue),I(le),I(ce),I(ee),I(T),Oi(ae,()=>W(g),e=>z(g,e)),Y(e,T),ze()}var OD=J(`<button type="button"><!> </button>`),kD=J(`<div class="jse-select-query-language svelte-189jx5g"><div class="jse-select-query-language-container svelte-189jx5g"></div></div>`);function AD(e,t){Re(t,!1);let n=Z(t,`queryLanguages`,8),r=Z(t,`queryLanguageId`,12),i=Z(t,`onChangeQueryLanguage`,8);function a(e){r(e),i()(e)}Li();var o=kD(),s=B(o);Hr(s,5,n,Rr,(e,t)=>{var n=OD();let i;var o=B(n),s=e=>{bb(e,{get data(){return ub}})},c=e=>{bb(e,{get data(){return fb}})};X(o,e=>{W(t),K(r()),G(()=>W(t).id===r())?e(s):e(c,!1)});var l=V(o);I(n),U(()=>{i=li(n,1,`jse-query-language svelte-189jx5g`,null,i,{selected:W(t).id===r()}),Si(n,`title`,(W(t),G(()=>`Select ${W(t).name} as query language`))),jr(l,` ${(W(t),G(()=>W(t).name))??``}`)}),q(`click`,n,()=>a(W(t).id)),Y(e,n)}),I(s),I(o),Y(e,o),ze()}var jD=J(`<button type="button" class="jse-fullscreen svelte-y8gvfs" title="Toggle full screen"><!></button>`),MD=J(`<div class="jse-header svelte-y8gvfs"><div class="jse-title svelte-y8gvfs"> </div> <!> <!> <button type="button" class="jse-close svelte-y8gvfs"><!></button></div>`);function ND(e,t){Re(t,!1);let n=Z(t,`title`,9,`Modal`),r=Z(t,`fullScreenButton`,9,!1),i=Z(t,`fullscreen`,13,!1),a=Z(t,`onClose`,9,void 0);Li(!0);var o=MD(),s=B(o),c=B(s,!0);I(s);var l=V(s,2);Jr(l,t,`actions`,{},null);var u=V(l,2),d=e=>{var t=jD(),n=B(t);{let e=St(()=>i()?Xw:Fw);bb(n,{get data(){return W(e)}})}I(t),q(`click`,t,()=>i(!i())),Y(e,t)};X(u,e=>{r()&&e(d)});var f=V(u,2);bb(B(f),{get data(){return Vw}}),I(f),I(o),U(()=>jr(c,n())),q(`click`,f,()=>a()?.()),Y(e,o),ze()}var PD=J(`<button slot="actions" type="button" title="Select a query language"><!></button>`);function FD(e,t){Re(t,!1);let n=Z(t,`queryLanguages`,9),r=Z(t,`queryLanguageId`,9),i=Z(t,`fullscreen`,13),a=Z(t,`onChangeQueryLanguage`,9),o=Z(t,`onClose`,9),s=R(void 0,!0),c,{openAbsolutePopup:l,closeAbsolutePopup:u}=Ie(`absolute-popup`);function d(){c=l(AD,{queryLanguages:n(),queryLanguageId:r(),onChangeQueryLanguage:e=>{u(c),a()(e)}},{offsetTop:-2,offsetLeft:0,anchor:W(s),closeOnOuterClick:!0})}Li(!0),ND(e,{title:`Transform`,fullScreenButton:!0,get onClose(){return o()},get fullscreen(){return i()},set fullscreen(e){i(e)},$$slots:{actions:(e,t)=>{var r=PD();let i;bb(B(r),{get data(){return Pw}}),I(r),Ni(r,e=>z(s,e),()=>W(s)),U(()=>i=li(r,1,`jse-config svelte-1r3wa3v`,null,i,{hide:n().length<=1})),q(`click`,r,d),Y(e,r)}},$$legacy:!0}),ze()}var ID=$i(`jsoneditor:AutoScrollHandler`);function LD(e){ID(`createAutoScrollHandler`,e);let t,n;function r(e){return e<20?200:e<50?400:1200}function i(){if(e){let n=(t||0)*(50/1e3);e.scrollTop+=n}}function a(e){(!n||e!==t)&&(o(),ID(`startAutoScroll`,e),t=e,n=setInterval(i,50))}function o(){n&&(ID(`stopAutoScroll`),clearInterval(n),n=void 0,t=void 0)}function s(t){if(e){let n=t.clientY,{top:i,bottom:s}=e.getBoundingClientRect();n<i?a(-r(i-n)):n>s?a(r(n-s)):o()}}function c(){o()}return{onDrag:s,onDragEnd:c}}var RD=(e,t,n,r)=>(e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t));const zD=()=>{let e,t,n,r,i,a,o,s,c,l,u,d,f,p;function m(){return e.scrollTop}function h(t){return t.getBoundingClientRect().top-(e.getBoundingClientRect?e.getBoundingClientRect().top:0)+n}function g(t){e.scrollTo?e.scrollTo(e.scrollLeft,t):e.scrollTop=t}function _(e){l||=e,u=e-l,d=a(u,n,s,c),g(d),p=!0,u<c?requestAnimationFrame(_):v()}function v(){g(n+s),t&&o&&(t.setAttribute(`tabindex`,`-1`),t.focus()),typeof f==`function`&&f(),l=0,p=!1}function y(u,d={}){switch(c=1e3,i=d.offset||0,f=d.callback,a=d.easing||RD,o=d.a11y||!1,typeof d.container){case`object`:e=d.container;break;case`string`:e=document.querySelector(d.container);break;default:e=window.document.documentElement}switch(n=m(),typeof u){case`number`:t=void 0,o=!1,r=n+u;break;case`object`:t=u,r=h(t);break;case`string`:t=document.querySelector(u),r=h(t);break;default:}switch(s=r-n+i,typeof d.duration){case`number`:c=d.duration;break;case`function`:c=d.duration(s);break;default:}p?l=0:requestAnimationFrame(_)}return y};function BD(e,t){let n=Date.now(),r=e();return t(Date.now()-n),r}var VD=$i(`validation`);const HD={createObjectDocumentState:()=>({type:`object`,properties:{}}),createArrayDocumentState:()=>({type:`array`,items:[]}),createValueDocumentState:()=>({type:`value`})};function UD(e,t,n,r){return nS(e,t,n,r,HD)}function WD(e,t){let n;return t.forEach(t=>{n=UD(e,n,t.path,(e,n)=>({...n,validationError:t}))}),t.forEach(t=>{let r=t.path;for(;r.length>0;)r=a_(r),n=UD(e,n,r,(e,t)=>t.validationError?t:{...t,validationError:{isChildError:!0,path:r,message:`Contains invalid data`,severity:Av.warning}})}),n}function GD(e,t,n,r){if(VD(`validateJSON`),!t)return[];if(n!==r){let i=n.stringify(e);return t(i===void 0?void 0:r.parse(i))}else return t(e)}function KD(e,t,n,r){if(VD(`validateText`),e.length>104857600)return{validationErrors:[{path:[],message:`Validation turned off: the document is too large`,severity:Av.info}]};if(e.length!==0)try{let i=BD(()=>n.parse(e),e=>VD(`validate: parsed json in ${e} ms`));if(!t)return;let a=n===r?i:BD(()=>r.parse(e),e=>VD(`validate: parsed json with the validationParser in ${e} ms`)),o=BD(()=>t(a),e=>VD(`validate: validated json in ${e} ms`));return u_(o)?void 0:{validationErrors:o}}catch(t){let r=BD(()=>qD(e,n),e=>VD(`validate: checked whether repairable in ${e} ms`));return{parseError:cv(e,t.message||t.toString()),isRepairable:r}}}function qD(e,t){if(e.length>1048576)return!1;try{return t.parse(Io(e)),!0}catch{return!1}}var JD=$i(`jsoneditor:FocusTracker`);function YD({onMount:e,onDestroy:t,getWindow:n,hasFocus:r,onFocus:i,onBlur:a}){let o,s=!1;function c(){let e=r();e&&(clearTimeout(o),s||=(JD(`focus`),i(),e))}function l(){s&&(clearTimeout(o),o=setTimeout(()=>{r()||(JD(`blur`),s=!1,a())}))}e(()=>{JD(`mount FocusTracker`);let e=n();e&&(e.addEventListener(`focusin`,c,!0),e.addEventListener(`focusout`,l,!0))}),t(()=>{JD(`destroy FocusTracker`);let e=n();e&&(e.removeEventListener(`focusin`,c,!0),e.removeEventListener(`focusout`,l,!0))})}var XD=J(`<button type="button" class="jse-button jse-action jse-primary svelte-1pn5qw0"><!> </button>`),ZD=J(`<div><div role="button" tabindex="-1"><div class="jse-text-centered"><!> </div></div> <div class="jse-actions svelte-1pn5qw0"></div></div>`);function QD(e,t){Re(t,!1);let n=Z(t,`type`,9,`success`),r=Z(t,`icon`,9,void 0),i=Z(t,`message`,9,void 0),a=Z(t,`actions`,25,()=>[]),o=Z(t,`onClick`,9,void 0),s=Z(t,`onClose`,9,void 0);s()&&Ji(s());function c(){o()&&o()()}Li(!0);var l=ZD(),u=B(l);let d;var f=B(u),p=B(f),m=e=>{bb(e,{get data(){return r()}})};X(p,e=>{r()&&e(m)});var h=V(p);I(f),I(u);var g=V(u,2);Hr(g,5,a,Rr,(e,t)=>{var n=XD(),r=B(n),i=e=>{bb(e,{get data(){return W(t),G(()=>W(t).icon)}})};X(r,e=>{W(t),G(()=>W(t).icon)&&e(i)});var a=V(r);I(n),U(()=>{Si(n,`title`,(W(t),G(()=>W(t).title))),n.disabled=(W(t),G(()=>W(t).disabled)),jr(a,` ${(W(t),G(()=>W(t).text))??``}`)}),q(`click`,n,()=>{W(t).onClick&&W(t).onClick()}),q(`mousedown`,n,()=>{W(t).onMouseDown&&W(t).onMouseDown()}),Y(e,n)}),I(g),I(l),U(()=>{li(l,1,`jse-message jse-${n()??``}`,`svelte-1pn5qw0`),d=li(u,1,`jse-text svelte-1pn5qw0`,null,d,{"jse-clickable":!!o()}),jr(h,` ${i()??``}`)}),q(`click`,u,c),Y(e,l),ze()}var $D=J(`<button type="button" class="jse-validation-errors-collapse svelte-1chroj6" title="Collapse validation errors"><!></button>`),eO=J(`<tr tabindex="0"><td class="jse-validation-error-icon svelte-1chroj6"><!></td><td class="jse-validation-error-path svelte-1chroj6"> </td><td class="jse-validation-error-message svelte-1chroj6"> </td><td class="jse-validation-error-action svelte-1chroj6"><!></td></tr>`),tO=J(`<tr class="jse-validation-error svelte-1chroj6"><td class="svelte-1chroj6"></td><td class="svelte-1chroj6"></td><td class="svelte-1chroj6"> </td><td class="svelte-1chroj6"></td></tr>`),nO=J(`<table class="jse-validation-errors-overview-expanded svelte-1chroj6"><tbody><!><!></tbody></table>`),rO=J(`<table class="jse-validation-errors-overview-collapsed svelte-1chroj6"><tbody><tr><td class="jse-validation-error-icon svelte-1chroj6"><!></td><td class="jse-validation-error-count svelte-1chroj6"> <div class="jse-validation-errors-expand svelte-1chroj6"><!></div></td></tr></tbody></table>`),iO=J(`<div class="jse-validation-errors-overview svelte-1chroj6"><!></div>`);function aO(e,t){Re(t,!1);let n=R(void 0,!0),r=Z(t,`validationErrors`,9),i=Z(t,`selectError`,9),a=R(!0,!0);function o(){z(a,!1)}function s(){z(a,!0)}function c(e){return[Av.error,Av.warning,Av.info].find(t=>e.some(e=>e.severity===t))}H(()=>K(r()),()=>{z(n,r().length)}),gn(),Li(!0);var l=Ar(),u=Xt(l),d=e=>{var t=iO(),l=B(t),u=e=>{var t=nO(),a=B(t),s=B(a);Hr(s,1,()=>(K(X_),K(r()),K(100),G(()=>X_(r(),100))),Rr,(e,t,n)=>{var a=eO(),s=B(a);bb(B(s),{get data(){return Kw}}),I(s);var c=V(s),l=B(c,!0);I(c);var u=V(c),d=B(u,!0);I(u);var f=V(u),p=B(f),m=e=>{var t=$D();bb(B(t),{get data(){return Ww}}),I(t),q(`click`,t,Fi(o)),Y(e,t)};X(p,e=>{K(r()),G(()=>n===0&&r().length>1)&&e(m)}),I(f),I(a),U(e=>{li(a,1,`jse-validation-${(W(t),G(()=>W(t).severity))??``}`,`svelte-1chroj6`),jr(l,e),jr(d,(W(t),G(()=>W(t).message)))},[()=>(K(iT),W(t),G(()=>iT(W(t).path)))]),q(`click`,a,()=>{setTimeout(()=>i()(W(t)))}),Y(e,a)});var c=V(s),l=e=>{var t=tO(),r=V(B(t),2),i=B(r);I(r),De(),I(t),U(()=>jr(i,`(and ${W(n)-100} more errors)`)),Y(e,t)};X(c,e=>{W(n)>100&&e(l)}),I(a),I(t),Y(e,t)},d=e=>{var t=rO(),i=B(t),a=B(i),o=B(a);bb(B(o),{get data(){return Kw}}),I(o);var l=V(o),u=B(l),d=V(u);bb(B(d),{get data(){return Nw}}),I(d),I(l),I(a),I(i),I(t),U(e=>{li(a,1,`jse-validation-${e??``}`,`svelte-1chroj6`),jr(u,`${W(n)??``} validation errors `)},[()=>(K(r()),G(()=>c(r())))]),q(`click`,a,s),Y(e,t)};X(l,e=>{W(a)||W(n)===1?e(u):e(d,!1)}),I(t),Y(e,t)};X(u,e=>{K(u_),K(r()),G(()=>!u_(r()))&&e(d)}),Y(e,l),ze()}function oO(e,t){if(!e)return;function n(e){e.key===`Escape`&&(e.preventDefault(),e.stopPropagation(),t())}return e.addEventListener(`keydown`,n),{destroy(){e.removeEventListener(`keydown`,n)}}}var sO=J(`<dialog><div class="jse-modal-inner svelte-puv2fa"><!></div></dialog>`);function cO(e,t){Re(t,!1);let n=Z(t,`className`,8,void 0),r=Z(t,`fullscreen`,8,!1),i=Z(t,`onClose`,8),a=R();qi(()=>W(a).showModal()),Ji(()=>W(a).close());function o(){i()()}Li();var s=sO();let c;var l=B(s);Jr(B(l),t,`default`,{},null),I(l),I(s),Ni(s,e=>z(a,e),()=>W(a)),hn(()=>q(`close`,s,o)),hn(()=>q(`pointerdown`,s,Pi(o))),hn(()=>q(`cancel`,s,Ii(function(e){Bi.call(this,t,e)}))),$r(s,(e,t)=>oO?.(e,t),()=>o),U(e=>c=li(s,1,e,`svelte-puv2fa`,c,{"jse-fullscreen":r()}),[()=>ri((K(hC),K(n()),G(()=>hC(`jse-modal`,n()))))]),Y(e,s),ze()}var lO=J(`<!> <div class="jse-modal-contents svelte-11kndi4"><div>Clipboard permission is disabled by your browser. You can use:</div> <div class="jse-shortcuts svelte-11kndi4"><div class="jse-shortcut svelte-11kndi4"><div class="jse-key svelte-11kndi4"> </div> for copy</div> <div class="jse-shortcut svelte-11kndi4"><div class="jse-key svelte-11kndi4"> </div> for cut</div> <div class="jse-shortcut svelte-11kndi4"><div class="jse-key svelte-11kndi4"> </div> for paste</div></div> <div class="jse-actions svelte-11kndi4"><button type="button" class="jse-primary svelte-11kndi4">Close</button></div></div>`,1);function uO(e,t){Re(t,!1);let n=Z(t,`onClose`,9),r=cy()?`â`:`Ctrl`;Li(!0),cO(e,{get onClose(){return n()},className:`jse-copy-paste`,children:(e,t)=>{var i=lO(),a=Xt(i);ND(a,{title:`Copying and pasting`,get onClose(){return n()}});var o=V(a,2),s=V(B(o),2),c=B(s),l=B(c),u=B(l);I(l),De(),I(c);var d=V(c,2),f=B(d),p=B(f);I(f),De(),I(d);var m=V(d,2),h=B(m),g=B(h);I(h),De(),I(m),I(s);var _=V(s,2),v=B(_);I(_),I(o),U(()=>{jr(u,`${r}+C`),jr(p,`${r}+X`),jr(g,`${r}+V`)}),q(`click`,v,function(...e){n()?.apply(this,e)}),Y(e,i)},$$slots:{default:!0}}),ze()}var dO=J(`<div class="jse-separator svelte-196gvk2"></div>`),fO=J(`<div class="jse-space svelte-196gvk2"></div>`),pO=J(`<button type="button"><!> <!></button>`),mO=J(`<div class="jse-menu svelte-196gvk2"><!> <!> <!></div>`);function hO(e,t){Re(t,!1);let n=Z(t,`items`,25,()=>[]);function r(e){return console.error(`Unknown type of menu item`,e),`???`}Li(!0);var i=mO(),a=B(i);Jr(a,t,`left`,{},null);var o=V(a,2);Hr(o,1,n,Rr,(e,t)=>{var n=Ar(),i=Xt(n),a=e=>{Y(e,dO())},o=e=>{var n=Ar(),i=Xt(n),a=e=>{Y(e,fO())},o=e=>{var n=Ar(),i=Xt(n),a=e=>{var n=pO(),r=B(n),i=e=>{bb(e,{get data(){return W(t),G(()=>W(t).icon)}})};X(r,e=>{W(t),G(()=>W(t).icon)&&e(i)});var a=V(r,2),o=e=>{var n=kr();U(()=>jr(n,(W(t),G(()=>W(t).text)))),Y(e,n)};X(a,e=>{W(t),G(()=>W(t).text)&&e(o)}),I(n),U(()=>{li(n,1,`jse-button ${(W(t),G(()=>W(t).className))??``}`,`svelte-196gvk2`),Si(n,`title`,(W(t),G(()=>W(t).title))),n.disabled=(W(t),G(()=>W(t).disabled||!1))}),q(`click`,n,function(...e){W(t).onClick?.apply(this,e)}),Y(e,n)},o=e=>{var n=kr();U(e=>jr(n,e),[()=>(W(t),G(()=>r(W(t))))]),Y(e,n)};X(i,e=>{K(_x),W(t),G(()=>_x(W(t)))?e(a):e(o,!1)},!0),Y(e,n)};X(i,e=>{K(mx),W(t),G(()=>mx(W(t)))?e(a):e(o,!1)},!0),Y(e,n)};X(i,e=>{K(hx),W(t),G(()=>hx(W(t)))?e(a):e(o,!1)}),Y(e,n)}),Jr(V(o,2),t,`right`,{},null),I(i),Y(e,i),ze()}var gO=J(`<div slot="left" class="jse-info svelte-77h21f">Repair invalid JSON, then click apply</div>`),_O=J(`<div class="jse-json-repair-component svelte-77h21f"><!> <!> <textarea class="jse-json-text svelte-77h21f" autocomplete="off" autocapitalize="off" spellcheck="false"></textarea></div>`);function vO(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=R(void 0,!0),o=R(void 0,!0),s=R(void 0,!0),c=Z(t,`text`,13,``),l=Z(t,`readOnly`,9,!1),u=Z(t,`onParse`,9),d=Z(t,`onRepair`,9),f=Z(t,`onChange`,9,void 0),p=Z(t,`onApply`,9),m=Z(t,`onCancel`,9),h=$i(`jsoneditor:JSONRepair`),g=R(void 0,!0);function _(e){try{u()(e);return}catch(t){return cv(e,t.message)}}function v(e){try{return d()(e),!0}catch{return!1}}function y(){if(W(g)&&W(n)){let e=W(n).position===void 0?0:W(n).position;W(g).setSelectionRange(e,e),W(g).focus()}}function b(e){h(`handleChange`);let t=e.target.value;c()!==t&&(c(t),f()&&f()(c()))}function x(){p()(c())}function S(){try{c(d()(c())),f()&&f()(c())}catch{}}let C=R(void 0,!0);H(()=>K(c()),()=>{z(n,_(c()))}),H(()=>K(c()),()=>{z(r,v(c()))}),H(()=>W(n),()=>{h(`error`,W(n))}),H(()=>K(m()),()=>{z(C,[{type:`space`},{type:`button`,icon:Vw,title:`Cancel repair`,className:`jse-cancel`,onClick:m()}])}),H(()=>rT,()=>{z(i,{icon:rT,text:`Show me`,title:`Scroll to the error location`,onClick:y})}),H(()=>Iw,()=>{z(a,{icon:Iw,text:`Auto repair`,title:`Automatically repair JSON`,onClick:S})}),H(()=>(W(r),W(i),W(a)),()=>{z(o,W(r)?[W(i),W(a)]:[W(i)])}),H(()=>K(l()),()=>{z(s,[{icon:Rw,text:`Apply`,title:`Apply fixed JSON`,disabled:l(),onClick:x}])}),gn(),Li(!0);var w=_O(),T=B(w);hO(T,{get items(){return W(C)},$$slots:{left:(e,t)=>{Y(e,gO())}}});var ee=V(T,2),te=e=>{{let t=St(()=>(W(n),G(()=>`Cannot parse JSON: ${W(n).message}`)));QD(e,{type:`error`,get icon(){return Kw},get message(){return W(t)},get actions(){return W(o)}})}},E=e=>{QD(e,{type:`success`,message:`JSON is valid now and can be parsed.`,get actions(){return W(s)}})};X(ee,e=>{W(n)?e(te):e(E,!1)});var ne=V(ee,2);en(ne),Ni(ne,e=>z(g,e),()=>W(g)),I(w),U(()=>{ne.readOnly=l(),bi(ne,c())}),q(`input`,ne,b),Y(e,w),ze()}function yO(e,t){Re(t,!1);let n=Z(t,`text`,13),r=Z(t,`onParse`,9),i=Z(t,`onRepair`,9),a=Z(t,`onApply`,9),o=Z(t,`onClose`,9);function s(e){a()(e),o()()}function c(){o()()}Li(!0),cO(e,{get onClose(){return o()},className:`jse-repair-modal`,children:(e,t)=>{vO(e,{get onParse(){return r()},get onRepair(){return i()},onApply:s,onCancel:c,get text(){return n()},set text(e){n(e)},$$legacy:!0})},$$slots:{default:!0}}),ze()}var bO=J(`<button type="button" class="jse-expand-items svelte-1z9v8u"> </button>`),xO=J(`<div role="none"><div><div class="jse-text svelte-1z9v8u"> </div> <!></div></div>`);function SO(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=R(void 0,!0),o=R(void 0,!0),s=Z(t,`visibleSections`,9),c=Z(t,`sectionIndex`,9),l=Z(t,`total`,9),u=Z(t,`path`,9),d=Z(t,`selection`,9),f=Z(t,`onExpandSection`,9),p=Z(t,`context`,9);function m(e){e.stopPropagation()}H(()=>(K(s()),K(c())),()=>{z(n,s()[c()])}),H(()=>W(n),()=>{z(r,W(n).end)}),H(()=>(K(s()),K(c()),K(l())),()=>{z(i,s()[c()+1]?s()[c()+1].start:l())}),H(()=>(K(p()),K(d()),K(u()),W(r)),()=>{z(a,dC(p().getJson(),d(),u().concat(String(W(r)))))}),H(()=>(W(r),W(i)),()=>{z(o,lx(W(r),W(i)))}),gn(),Li(!0);var h=xO();let g,_;var v=B(h),y=B(v),b=B(y);I(y),Hr(V(y,2),1,()=>W(o),Rr,(e,t)=>{var n=bO(),r=B(n);I(n),U(()=>jr(r,`show ${(W(t),G(()=>W(t).start))??``}-${(W(t),G(()=>W(t).end))??``}`)),q(`click`,n,()=>f()(u(),W(t))),Y(e,n)}),I(v),I(h),U(()=>{g=li(h,1,`jse-collapsed-items svelte-1z9v8u`,null,g,{"jse-selected":W(a)}),_=di(h,``,_,{"--level":(K(u()),G(()=>u().length+2))}),jr(b,`Items ${W(r)??``}-${W(i)??``}`)}),q(`mousemove`,h,m),Y(e,h),ze()}var CO=J(`<button type="button"><!></button>`);function wO(e,t){Re(t,!1);let n=Z(t,`root`,9,!1),r=Z(t,`insert`,9,!1),i=Z(t,`selected`,9),a=Z(t,`onContextMenu`,9);function o(e){let t=e.target;for(;t&&t.nodeName!==`BUTTON`;)t=t.parentNode;t&&a()({anchor:t,left:0,top:0,width:260,height:336,offsetTop:2,offsetLeft:0,showTip:!0})}Li(!0);var s=CO();let c;bb(B(s),{get data(){return eT}}),I(s),U(()=>{c=li(s,1,`jse-context-menu-pointer svelte-1talivj`,null,c,{"jse-root":n(),"jse-insert":r(),"jse-selected":i()}),Si(s,`title`,rx)}),q(`click`,s,o),Y(e,s),ze()}var TO=J(`<div role="none" data-type="selectable-key"><!></div>`),EO=J(`<!> <!>`,1);function DO(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=Z(t,`pointer`,9),a=Z(t,`key`,9),o=Z(t,`selection`,9),s=Z(t,`searchResultItems`,9),c=Z(t,`onUpdateKey`,9),l=Z(t,`context`,9),u=R(void 0,!0);function d(e){!W(r)&&!l().readOnly&&(e.preventDefault(),l().onSelect(ZS(W(u))))}function f(e,t){let n=c()(a(),l().normalization.unescapeValue(e)),r=a_(W(u)).concat(n);l().onSelect(t===Nv.nextInside?QS(r):XS(r)),t!==Nv.self&&l().focus()}function p(){l().onSelect(XS(W(u))),l().focus()}H(()=>K(i()),()=>{z(u,ka(i()))}),H(()=>(K(o()),W(u)),()=>{z(n,TS(o())&&f_(o().path,W(u)))}),H(()=>(W(n),K(o())),()=>{z(r,W(n)&&iC(o()))}),gn(),Li(!0);var m=EO(),h=Xt(m),g=e=>{{let t=St(()=>(K(l()),K(a()),G(()=>l().normalization.escapeValue(a())))),n=St(()=>(K(iC),K(o()),G(()=>iC(o())?o().initialValue:void 0)));vC(e,{get value(){return W(t)},get initialValue(){return W(n)},label:`Edit key`,shortText:!0,onChange:f,onCancel:p,get onFind(){return K(l()),G(()=>l().onFind)}})}},_=e=>{var t=TO();let n;var r=B(t),i=e=>{{let t=St(()=>(K(l()),K(a()),G(()=>l().normalization.escapeValue(a()))));iw(e,{get text(){return W(t)},get searchResultItems(){return s()}})}},o=e=>{var t=kr();U(e=>jr(t,e),[()=>(K(Gv),K(l()),K(a()),G(()=>Gv(l().normalization.escapeValue(a()))))]),Y(e,t)};X(r,e=>{s()?e(i):e(o,!1)}),I(t),U(()=>n=li(t,1,`jse-key svelte-6o1g0a`,null,n,{"jse-empty":a()===``})),q(`dblclick`,t,d),Y(e,t)};X(h,e=>{K(l()),W(r),G(()=>!l().readOnly&&W(r))?e(g):e(_,!1)});var v=V(h,2),y=e=>{wO(e,{selected:!0,get onContextMenu(){return K(l()),G(()=>l().onContextMenu)}})};X(v,e=>{K(l()),W(n),W(r),G(()=>!l().readOnly&&W(n)&&!W(r))&&e(y)}),Y(e,m),ze()}var OO=J(`<div role="button" tabindex="-1" class="jse-value" data-type="selectable-value"></div>`);function kO(e,t){Re(t,!0);let n=xt(()=>ES(t.selection)&&iC(t.selection)),r=xt(()=>t.context.onRenderValue({path:t.path,value:t.value,mode:t.context.mode,truncateTextSize:t.context.truncateTextSize,readOnly:t.context.readOnly,enforceString:t.enforceString,isEditing:W(n),parser:t.context.parser,normalization:t.context.normalization,selection:t.selection,searchResultItems:t.searchResultItems,onPatch:t.context.onPatch,onPasteJson:t.context.onPasteJson,onSelect:t.context.onSelect,onFind:t.context.onFind,findNextInside:t.context.findNextInside,focus:t.context.focus}));var i=Ar();Hr(Xt(i),17,()=>W(r),Rr,(e,t)=>{var n=Ar(),r=Xt(n),i=e=>{let n=xt(()=>W(t).action);var r=OO();$r(r,(e,t)=>W(n)?.(e,t),()=>W(t).props),Y(e,r)},a=e=>{let n=xt(()=>W(t).component);var r=Ar();Zr(Xt(r),()=>W(n),(e,n)=>{n(e,Ki(()=>W(t).props))}),Y(e,r)};X(r,e=>{Tx(W(t))?e(i):e(a,!1)}),Y(e,n)}),Y(e,i),ze()}const AO={selecting:!1,selectionAnchor:void 0,selectionAnchorType:void 0,selectionFocus:void 0,dragging:!1};function jO({json:e,selection:t,deltaY:n,items:r}){if(!t)return{operations:void 0,updatedSelection:void 0,offset:0};let i=n<0?MO({json:e,selection:t,deltaY:n,items:r}):NO({json:e,selection:t,deltaY:n,items:r});if(!i||i.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};let a=DC(e,t,i),o=Sa(e,a_(PS(e,t)));return Array.isArray(o)?{operations:a,updatedSelection:PO({items:r,json:e,selection:t,offset:i.offset}),offset:i.offset}:{operations:a,updatedSelection:void 0,offset:i.offset}}function MO({json:e,items:t,selection:n,deltaY:r}){let i=PS(e,n),a=t.findIndex(e=>f_(e.path,i)),o=()=>t[s-1]?.height,s=a,c=0;for(;o()!==void 0&&Math.abs(r)>c+o()/2;)c+=o(),--s;let l=t[s].path,u=s-a;return s!==a&&t[s]!==void 0?{beforePath:l,offset:u}:void 0}function NO({json:e,items:t,selection:n,deltaY:r}){let i=FS(e,n),a=t.findIndex(e=>f_(e.path,i)),o=0,s=a,c=()=>t[s+1]?.height;for(;c()!==void 0&&Math.abs(r)>o+c()/2;)o+=c(),s+=1;let l=Sa(e,a_(i)),u=t[Array.isArray(l)?s:s+1]?.path,d=s-a;return u?{beforePath:u,offset:d}:{append:!0,offset:d}}function PO({items:e,json:t,selection:n,offset:r}){let i=PS(t,n),a=FS(t,n),o=e.findIndex(e=>f_(e.path,i)),s=e.findIndex(e=>f_(e.path,a)),c=e[o+r]?.path,l=e[s+r]?.path;return nC(c,l)}var FO=J(`<button type="button"><!></button>`);function IO(e,t){Re(t,!1);let n=R(),r=Ie(`absolute-popup`),i=Z(t,`validationError`,8),a=Z(t,`onExpand`,8);H(()=>K(i()),()=>{z(n,wx(i())&&i().isChildError?`Contains invalid data`:i().message)}),gn(),Li();var o=FO();bb(B(o),{get data(){return Kw}}),I(o),hn(()=>q(`click`,o,function(...e){a()?.apply(this,e)})),$r(o,(e,t)=>fw?.(e,t),()=>({text:W(n),...r})),U(()=>li(o,1,`jse-validation-${(K(i()),G(()=>i().severity))??``}`,`svelte-1gvcg6h`)),Y(e,o),ze()}var LO=zi(()=>AO),RO=J(`<div class="jse-separator svelte-ik1vm9">:</div>`),zO=J(`<div class="jse-bracket svelte-ik1vm9">[</div> <!> &nbsp;`,1),BO=J(`<div class="jse-bracket svelte-ik1vm9">[</div> <!> <div class="jse-bracket svelte-ik1vm9">]</div>`,1),VO=J(`<div class="jse-context-menu-pointer-anchor svelte-ik1vm9"><!></div>`),HO=J(`<div role="none" class="jse-insert-selection-area jse-inside svelte-ik1vm9" data-type="insert-selection-area-inside"></div>`),UO=J(`<div role="none" class="jse-insert-selection-area jse-after svelte-ik1vm9" data-type="insert-selection-area-after"></div>`),WO=J(`<div data-type="insert-selection-area-inside"><!></div>`),GO=J(`<div slot="identifier" class="jse-identifier svelte-ik1vm9"><div class="jse-index svelte-ik1vm9"> </div></div>`),KO=J(`<!> <!>`,1),qO=J(`<div role="none" class="jse-insert-selection-area jse-after svelte-ik1vm9" data-type="insert-selection-area-after"></div>`),JO=J(`<div class="jse-items svelte-ik1vm9"><!> <!></div> <div class="jse-footer-outer svelte-ik1vm9"><div data-type="selectable-value" class="jse-footer svelte-ik1vm9"><span class="jse-bracket svelte-ik1vm9">]</span></div> <!></div>`,1),YO=J(`<div class="jse-header-outer svelte-ik1vm9"><div class="jse-header svelte-ik1vm9"><button type="button" class="jse-expand svelte-ik1vm9" title="Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"><!></button> <!> <!> <div class="jse-meta svelte-ik1vm9"><div class="jse-meta-inner svelte-ik1vm9" data-type="selectable-value"><!></div></div> <!></div> <!> <!></div> <!>`,1),XO=J(`<div class="jse-separator svelte-ik1vm9">:</div>`),ZO=J(`<div class="jse-bracket jse-expanded svelte-ik1vm9">&lbrace;</div>`),QO=J(`<div class="jse-bracket svelte-ik1vm9">&lbrace;</div> <!> <div class="jse-bracket svelte-ik1vm9">&rbrace;</div>`,1),$O=J(`<div class="jse-context-menu-pointer-anchor svelte-ik1vm9"><!></div>`),ek=J(`<div role="none" class="jse-insert-selection-area jse-inside svelte-ik1vm9" data-type="insert-selection-area-inside"></div>`),tk=J(`<div role="none" class="jse-insert-selection-area jse-after svelte-ik1vm9" data-type="insert-selection-area-after"></div>`),nk=J(`<div data-type="insert-selection-area-inside"><!></div>`),rk=J(`<div slot="identifier"><!></div>`),ik=J(`<div role="none" class="jse-insert-selection-area jse-after svelte-ik1vm9" data-type="insert-selection-area-after"></div>`),ak=J(`<div class="jse-props svelte-ik1vm9"><!> <!></div> <div class="jse-footer-outer svelte-ik1vm9"><div data-type="selectable-value" class="jse-footer svelte-ik1vm9"><div class="jse-bracket svelte-ik1vm9">&rbrace;</div></div> <!></div>`,1),ok=J(`<div class="jse-header-outer svelte-ik1vm9"><div class="jse-header svelte-ik1vm9"><button type="button" class="jse-expand svelte-ik1vm9" title="Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"><!></button> <!> <!> <div class="jse-meta svelte-ik1vm9" data-type="selectable-value"><div class="jse-meta-inner svelte-ik1vm9"><!></div></div> <!></div> <!> <!></div> <!>`,1),sk=J(`<div class="jse-separator svelte-ik1vm9">:</div>`),ck=J(`<div class="jse-context-menu-pointer-anchor svelte-ik1vm9"><!></div>`),lk=J(`<div role="none" class="jse-insert-selection-area jse-after svelte-ik1vm9" data-type="insert-selection-area-after"></div>`),uk=J(`<div class="jse-contents-outer svelte-ik1vm9"><div class="jse-contents svelte-ik1vm9"><!> <!> <div class="jse-value-outer svelte-ik1vm9"><!></div> <!></div> <!> <!></div>`),dk=J(`<div data-type="insert-selection-area-after"><!></div>`),fk=J(`<div role="treeitem" tabindex="-1"><!> <!></div>`);function pk(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=Z(t,`pointer`,9),a=Z(t,`value`,9),o=Z(t,`state`,9),s=Z(t,`validationErrors`,9),c=Z(t,`searchResults`,9),l=Z(t,`selection`,9),u=Z(t,`context`,9),d=Z(t,`onDragSelectionStart`,9),f=$i(`jsoneditor:JSONNode`),p=R(void 0,!0),m,h=R(void 0,!0),g=R(void 0,!0),_=R(void 0,!0),v=R(void 0,!0),y=R(void 0,!0),b=R(void 0,!0),x=R(void 0,!0);function S(e,t){let n=Object.keys(e);return t&&t.offset!==0?$_(n,t.selectionStartIndex,t.selectionItemsCount,t.offset):n}function C(e,t,n){let r=t.start,i=F_(r,Math.min(t.end,e.length));return n&&n.offset!==0?$_(i,n.selectionStartIndex,n.selectionItemsCount,n.offset).map((e,t)=>({index:e,gutterIndex:t})):i.map(e=>({index:e,gutterIndex:e}))}function w(e){e.stopPropagation();let t=uy(e);u().onExpand(W(g),!W(_),t)}function T(){u().onExpand(W(g),!0)}function ee(e,t){let n=SC(W(g),Object.keys(a()),e,t);return u().onPatch(n),Bg(ka(n[0].path))}function te(e){if(e.buttons!==1&&e.buttons!==2||Yv(e.target)||e.buttons===1&&qv(e.target,`BUTTON`))return;e.stopPropagation(),e.preventDefault(),u().focus(),document.addEventListener(`mousemove`,ne,!0),document.addEventListener(`mouseup`,re);let t=ry(e.target),n=u().getJson(),i=u().getDocumentState();if(l()&&t!==Ov.after&&t!==Ov.inside&&(l().type===t||l().type===Ov.multi)&&dC(n,l(),W(g))){e.button===0&&d()(e);return}if(LO(LO().selecting=!0),LO(LO().selectionAnchor=W(g)),LO(LO().selectionAnchorType=t),LO(LO().selectionFocus=W(g)),e.shiftKey){let e=u().getSelection();e&&u().onSelect(nC(mC(e),W(g)))}else if(t===Ov.multi)if(W(r)&&e.target.hasAttribute(`data-path`)){let e=Bg(mS(a(),i));u().onSelect(cC(e))}else u().onSelect(nC(W(g),W(g)));else n!==void 0&&u().onSelect(lC(t,W(g)))}function E(e){if(LO().selecting){e.preventDefault(),e.stopPropagation(),LO().selectionFocus===void 0&&window.getSelection&&window.getSelection().empty();let t=ry(e.target);(!f_(W(g),LO().selectionFocus)||t!==LO().selectionAnchorType)&&(LO(LO().selectionFocus=W(g)),LO(LO().selectionAnchorType=t),u().onSelect(nC(LO().selectionAnchor||LO().selectionFocus,LO().selectionFocus)))}}function ne(e){u().onDrag(e)}function re(e){LO().selecting&&(LO(LO().selecting=!1),e.stopPropagation()),u().onDragEnd(),document.removeEventListener(`mousemove`,ne,!0),document.removeEventListener(`mouseup`,re)}function ie(){return u().findElement([])?.getBoundingClientRect()?.top||0}function ae(e,t){let n=ie()-e.initialContentTop;return t.clientY-e.initialClientY-n}function D(e){if(u().readOnly||!l())return;let t=a_(pC(l()));if(!f_(W(g),t)){d()(e);return}let n=se(l(),W(y)||ex);if(f(`dragSelectionStart`,{selection:l(),items:n}),!n){f(`Cannot drag the current selection (probably spread over multiple sections)`);return}let r=u().getJson();if(r===void 0)return;let i=PS(r,l()),a=n.findIndex(e=>f_(e.path,i)),{offset:o}=jO({json:r,selection:u().getSelection(),deltaY:0,items:n});z(h,{initialTarget:e.target,initialClientY:e.clientY,initialContentTop:ie(),selectionStartIndex:a,selectionItemsCount:jS(r,l()).length,items:n,offset:o,didMoveItems:!1}),LO(LO().dragging=!0),document.addEventListener(`mousemove`,oe,!0),document.addEventListener(`mouseup`,O)}function oe(e){if(W(h)){let t=u().getJson();if(t===void 0)return;let n=ae(W(h),e),{offset:r}=jO({json:t,selection:u().getSelection(),deltaY:n,items:W(h).items});r!==W(h).offset&&(f(`drag selection`,r,n),z(h,{...W(h),offset:r,didMoveItems:!0}))}}function O(e){if(W(h)){let t=u().getJson();if(t===void 0)return;let n=ae(W(h),e),{operations:r,updatedSelection:i}=jO({json:t,selection:u().getSelection(),deltaY:n,items:W(h).items});if(r)u().onPatch(r,(e,t)=>({state:t,selection:i??l()}));else if(e.target===W(h).initialTarget&&!W(h).didMoveItems){let t=ry(e.target),n=oy(e.target);n&&u().onSelect(lC(t,n))}z(h,void 0),LO(LO().dragging=!1),document.removeEventListener(`mousemove`,oe,!0),document.removeEventListener(`mouseup`,O)}}function se(e,t){let n=[];function r(e){let t=W(g).concat(e),r=u().findElement(t);r!==void 0&&n.push({path:t,height:r.clientHeight})}if(Array.isArray(a())){let n=u().getJson();if(n===void 0)return;let i=PS(n,e),o=FS(n,e),s=parseInt(Bg(i),10),c=parseInt(Bg(o),10),l=t.find(e=>s>=e.start&&c<=e.end);if(!l)return;let{start:d,end:f}=l;Y_(d,Math.min(a().length,f),e=>r(String(e)))}else Object.keys(a()).forEach(r);return n}function ce(e){LO().selecting||LO().dragging||(e.stopPropagation(),Jv(e.target,`data-type`,`selectable-value`)?z(p,ox):Jv(e.target,`data-type`,`selectable-key`)?z(p,void 0):Jv(e.target,`data-type`,`insert-selection-area-inside`)?z(p,ix):Jv(e.target,`data-type`,`insert-selection-area-after`)&&z(p,ax),clearTimeout(m))}function le(e){e.stopPropagation(),m=window.setTimeout(()=>z(p,void 0))}function ue(e){e.shiftKey||(e.stopPropagation(),e.preventDefault(),u().onSelect(eC(W(g))))}function de(e){e.shiftKey||(e.stopPropagation(),e.preventDefault(),u().onSelect(tC(W(g))))}function fe(e){u().onSelect(eC(W(g))),it(),u().onContextMenu(e)}function pe(e){u().onSelect(tC(W(g))),it(),u().onContextMenu(e)}H(()=>K(i()),()=>{z(g,ka(i()))}),H(()=>K(i()),()=>{z(n,encodeURIComponent(i()))}),H(()=>K(o()),()=>{z(_,kx(o())?o().expanded:!1)}),H(()=>(K(a()),K(o())),()=>{z(v,dS(a(),o(),[]))}),H(()=>K(o()),()=>{z(y,Dx(o())?o().visibleSections:void 0)}),H(()=>K(s()),()=>{z(b,s()?.validationError)}),H(()=>(K(u()),K(l()),W(g)),()=>{z(x,dC(u().getJson(),l(),W(g)))}),H(()=>W(g),()=>{z(r,W(g).length===0)}),gn(),Li(!0);var me=fk();let k,he;var ge=B(me),A=e=>{var n=YO(),d=Xt(n),f=B(d),m=B(f),v=B(m),S=e=>{bb(e,{get data(){return eT}})},ee=e=>{bb(e,{get data(){return xw}})};X(v,e=>{W(_)?e(S):e(ee,!1)}),I(m);var te=V(m,2);Jr(te,t,`identifier`,{},null);var E=V(te,2),ne=e=>{Y(e,RO())};X(E,e=>{W(r)||e(ne)});var re=V(E,2),ie=B(re),ae=B(ie),oe=e=>{var t=zO();sw(V(Xt(t),2),{children:(e,t)=>{De();var n=kr();U(()=>jr(n,`${(K(a()),G(()=>a().length))??``}
                ${(K(a()),G(()=>a().length===1?`item`:`items`))??``}`)),Y(e,n)},$$slots:{default:!0}}),De(),Y(e,t)},O=e=>{var t=BO();sw(V(Xt(t),2),{onclick:T,children:(e,t)=>{De();var n=kr();U(()=>jr(n,`${(K(a()),G(()=>a().length))??``}
                ${(K(a()),G(()=>a().length===1?`item`:`items`))??``}`)),Y(e,n)},$$slots:{default:!0}}),De(2),Y(e,t)};X(ae,e=>{W(_)?e(oe):e(O,!1)}),I(ie),I(re);var se=V(re,2),ce=e=>{var t=VO();wO(B(t),{get root(){return W(r)},selected:!0,get onContextMenu(){return K(u()),G(()=>u().onContextMenu)}}),I(t),Y(e,t)};X(se,e=>{K(u()),W(x),K(l()),K(ES),K(DS),K(iC),K(f_),K(pC),W(g),G(()=>!u().readOnly&&W(x)&&l()&&(ES(l())||DS(l()))&&!iC(l())&&f_(pC(l()),W(g)))&&e(ce)}),I(f);var le=V(f,2),pe=e=>{IO(e,{get validationError(){return W(b)},onExpand:T})};X(le,e=>{W(b),W(_),G(()=>W(b)&&(!W(_)||!W(b).isChildError))&&e(pe)});var me=V(le,2),k=e=>{var t=HO();q(`click`,t,ue),Y(e,t)},he=e=>{var t=UO();q(`click`,t,de),Y(e,t)};X(me,e=>{W(_)?e(k):e(he,!1)}),I(d);var ge=V(d,2),A=e=>{var t=JO(),n=Xt(t),d=B(n),f=e=>{var t=WO();let n,r;var i=B(t);{let e=St(()=>(W(x),K(wS),K(l()),G(()=>W(x)&&wS(l()))));wO(i,{insert:!0,get selected(){return W(e)},onContextMenu:fe})}I(t),U(e=>{n=li(t,1,`jse-insert-area jse-inside svelte-ik1vm9`,null,n,e),Si(t,`title`,nx),r=di(t,``,r,{"--level":(W(g),G(()=>W(g).length+1))})},[()=>({"jse-hovered":W(p)===ix,"jse-selected":W(x)&&wS(l())})]),Y(e,t)};X(d,e=>{K(u()),W(p),K(`hover-insert-inside`),W(x),K(wS),K(l()),G(()=>!u().readOnly&&(W(p)===`hover-insert-inside`||W(x)&&wS(l())))&&e(f)}),Hr(V(d,2),1,()=>W(y)||ex,Rr,(e,t,n)=>{var r=KO(),d=Xt(r);Hr(d,1,()=>(K(a()),W(t),W(h),G(()=>C(a(),W(t),W(h)))),e=>e.index,(e,t)=>{let n=St(()=>(K(Dx),K(s()),W(t),G(()=>Dx(s())?s().items[W(t).index]:void 0))),r=St(()=>(K(uC),K(u()),K(l()),W(g),W(t),G(()=>uC(u().getJson(),l(),W(g).concat(String(W(t).index))))));var d=Ar(),f=Xt(d);{let e=St(()=>(K(Ma),K(i()),W(t),G(()=>Ma(i(),W(t).index)))),s=St(()=>(K(Dx),K(o()),W(t),G(()=>Dx(o())?o().items[W(t).index]:void 0))),l=St(()=>(K(Dx),K(c()),W(t),G(()=>Dx(c())?c().items[W(t).index]:void 0)));pk(f,{get value(){return K(a()),W(t),G(()=>a()[W(t).index])},get pointer(){return W(e)},get state(){return W(s)},get validationErrors(){return W(n)},get searchResults(){return W(l)},get selection(){return W(r)},get context(){return u()},onDragSelectionStart:D,$$slots:{identifier:(e,n)=>{var r=GO(),i=B(r),a=B(i,!0);I(i),I(r),U(()=>jr(a,(W(t),G(()=>W(t).gutterIndex)))),Y(e,r)}}})}Y(e,d)});var f=V(d,2),p=e=>{{let t=St(()=>W(y)||ex);SO(e,{get visibleSections(){return W(t)},sectionIndex:n,get total(){return K(a()),G(()=>a().length)},get path(){return W(g)},get onExpandSection(){return K(u()),G(()=>u().onExpandSection)},get selection(){return l()},get context(){return u()}})}};X(f,e=>{W(t),K(a()),G(()=>W(t).end<a().length)&&e(p)}),Y(e,r)}),I(n);var m=V(n,2),_=V(B(m),2),v=e=>{var t=qO();q(`click`,t,de),Y(e,t)};X(_,e=>{W(r)||e(v)}),I(m),Y(e,t)};X(ge,e=>{W(_)&&e(A)}),q(`click`,m,w),Y(e,n)},j=e=>{var n=Ar(),d=Xt(n),f=e=>{var n=ok(),d=Xt(n),f=B(d),m=B(f),v=B(m),y=e=>{bb(e,{get data(){return eT}})},C=e=>{bb(e,{get data(){return xw}})};X(v,e=>{W(_)?e(y):e(C,!1)}),I(m);var te=V(m,2);Jr(te,t,`identifier`,{},null);var E=V(te,2),ne=e=>{Y(e,XO())};X(E,e=>{W(r)||e(ne)});var re=V(E,2),ie=B(re),ae=B(ie),oe=e=>{Y(e,ZO())},O=e=>{var t=QO();sw(V(Xt(t),2),{onclick:T,children:(e,t)=>{De();var n=kr();U((e,t)=>jr(n,`${e??``}
                ${t??``}`),[()=>(K(a()),G(()=>Object.keys(a()).length)),()=>(K(a()),G(()=>Object.keys(a()).length===1?`prop`:`props`))]),Y(e,n)},$$slots:{default:!0}}),De(2),Y(e,t)};X(ae,e=>{W(_)?e(oe):e(O,!1)}),I(ie),I(re);var se=V(re,2),ce=e=>{var t=$O();wO(B(t),{get root(){return W(r)},selected:!0,get onContextMenu(){return K(u()),G(()=>u().onContextMenu)}}),I(t),Y(e,t)};X(se,e=>{K(u()),W(x),K(l()),K(ES),K(DS),K(iC),K(f_),K(pC),W(g),G(()=>!u().readOnly&&W(x)&&l()&&(ES(l())||DS(l()))&&!iC(l())&&f_(pC(l()),W(g)))&&e(ce)}),I(f);var le=V(f,2),pe=e=>{IO(e,{get validationError(){return W(b)},onExpand:T})};X(le,e=>{W(b),W(_),G(()=>W(b)&&(!W(_)||!W(b).isChildError))&&e(pe)});var me=V(le,2),k=e=>{var t=ek();q(`click`,t,ue),Y(e,t)},he=e=>{var t=Ar(),n=Xt(t),i=e=>{var t=tk();q(`click`,t,de),Y(e,t)};X(n,e=>{W(r)||e(i)},!0),Y(e,t)};X(me,e=>{W(_)?e(k):e(he,!1)}),I(d);var ge=V(d,2),A=e=>{var t=ak(),n=Xt(t),d=B(n),f=e=>{var t=nk();let n,r;var i=B(t);{let e=St(()=>(W(x),K(wS),K(l()),G(()=>W(x)&&wS(l()))));wO(i,{insert:!0,get selected(){return W(e)},onContextMenu:fe})}I(t),U(e=>{n=li(t,1,`jse-insert-area jse-inside svelte-ik1vm9`,null,n,e),Si(t,`title`,nx),r=di(t,``,r,{"--level":(W(g),G(()=>W(g).length+1))})},[()=>({"jse-hovered":W(p)===ix,"jse-selected":W(x)&&wS(l())})]),Y(e,t)};X(d,e=>{K(u()),W(p),K(`hover-insert-inside`),W(x),K(wS),K(l()),G(()=>!u().readOnly&&(W(p)===`hover-insert-inside`||W(x)&&wS(l())))&&e(f)}),Hr(V(d,2),1,()=>(K(a()),W(h),G(()=>S(a(),W(h)))),Rr,(e,t)=>{let n=St(()=>(K(Ma),K(i()),W(t),G(()=>Ma(i(),W(t))))),r=St(()=>(K(Ex),K(c()),W(t),G(()=>Ex(c())?c().properties[W(t)]:void 0))),d=St(()=>(K(Ex),K(s()),W(t),G(()=>Ex(s())?s().properties[W(t)]:void 0))),f=St(()=>(W(g),W(t),G(()=>W(g).concat(W(t))))),p=St(()=>(K(uC),K(u()),K(l()),K(W(f)),G(()=>uC(u().getJson(),l(),W(f)))));var m=Ar(),h=Xt(m);{let e=St(()=>(K(Ex),K(o()),W(t),G(()=>Ex(o())?o().properties[W(t)]:void 0)));pk(h,{get value(){return K(a()),W(t),G(()=>a()[W(t)])},get pointer(){return W(n)},get state(){return W(e)},get validationErrors(){return W(d)},get searchResults(){return W(r)},get selection(){return W(p)},get context(){return u()},onDragSelectionStart:D,$$slots:{identifier:(e,i)=>{var a=rk();let o;var s=B(a);{let e=St(()=>(K(ZC),K(W(r)),G(()=>ZC(W(r)))));DO(s,{get pointer(){return W(n)},get key(){return W(t)},get selection(){return W(p)},get searchResultItems(){return W(e)},get context(){return u()},onUpdateKey:ee})}I(a),U(e=>o=li(a,1,`jse-key-outer svelte-ik1vm9`,null,o,e),[()=>({"jse-selected-key":TS(W(p))&&f_(W(p).path,W(f))})]),Y(e,a)}}})}Y(e,m)}),I(n);var m=V(n,2),_=V(B(m),2),v=e=>{var t=ik();q(`click`,t,de),Y(e,t)};X(_,e=>{W(r)||e(v)}),I(m),Y(e,t)};X(ge,e=>{W(_)&&e(A)}),q(`click`,m,w),Y(e,n)},m=e=>{var n=uk(),i=B(n),o=B(i);Jr(o,t,`identifier`,{},null);var s=V(o,2),d=e=>{Y(e,sk())};X(s,e=>{W(r)||e(d)});var f=V(s,2),p=B(f);{let e=St(()=>W(x)?l():void 0),t=St(()=>(K(QC),K(c()),G(()=>QC(c()))));kO(p,{get path(){return W(g)},get value(){return a()},get enforceString(){return W(v)},get selection(){return W(e)},get searchResultItems(){return W(t)},get context(){return u()}})}I(f);var m=V(f,2),h=e=>{var t=ck();wO(B(t),{get root(){return W(r)},selected:!0,get onContextMenu(){return K(u()),G(()=>u().onContextMenu)}}),I(t),Y(e,t)};X(m,e=>{K(u()),W(x),K(l()),K(ES),K(DS),K(iC),K(f_),K(pC),W(g),G(()=>!u().readOnly&&W(x)&&l()&&(ES(l())||DS(l()))&&!iC(l())&&f_(pC(l()),W(g)))&&e(h)}),I(i);var _=V(i,2),y=e=>{IO(e,{get validationError(){return W(b)},onExpand:T})};X(_,e=>{W(b)&&e(y)});var S=V(_,2),C=e=>{var t=lk();q(`click`,t,de),Y(e,t)};X(S,e=>{W(r)||e(C)}),I(n),Y(e,n)};X(d,e=>{K(Vo),K(a()),G(()=>Vo(a()))?e(f):e(m,!1)},!0),Y(e,n)};X(ge,e=>{K(a()),G(()=>Array.isArray(a()))?e(A):e(j,!1)});var _e=V(ge,2),ve=e=>{var t=dk();let n;var r=B(t);{let e=St(()=>(W(x),K(CS),K(l()),G(()=>W(x)&&CS(l()))));wO(r,{insert:!0,get selected(){return W(e)},onContextMenu:pe})}I(t),U(e=>{n=li(t,1,`jse-insert-area jse-after svelte-ik1vm9`,null,n,e),Si(t,`title`,nx)},[()=>({"jse-hovered":W(p)===ax,"jse-selected":W(x)&&CS(l())})]),Y(e,t)};X(_e,e=>{K(u()),W(p),K(`hover-insert-after`),W(x),K(CS),K(l()),G(()=>!u().readOnly&&(W(p)===`hover-insert-after`||W(x)&&CS(l())))&&e(ve)}),I(me),U((e,t)=>{k=li(me,1,e,`svelte-ik1vm9`,k,t),Si(me,`data-path`,W(n)),Si(me,`aria-selected`,W(x)),he=di(me,``,he,{"--level":(W(g),G(()=>W(g).length))})},[()=>ri((K(hC),W(_),K(u()),W(g),K(a()),G(()=>hC(`jse-json-node`,{"jse-expanded":W(_)},u().onClassName(W(g),a()))))),()=>({"jse-root":W(r),"jse-selected":W(x)&&DS(l()),"jse-selected-value":W(x)&&ES(l()),"jse-readonly":u().readOnly,"jse-hovered":W(p)===ox})]),q(`mousedown`,me,te),q(`mousemove`,me,E),q(`mouseover`,me,ce),q(`mouseout`,me,le),Y(e,me),ze()}const mk={prefix:`fas`,iconName:`jsoneditor-expand`,icon:[512,512,[],``,`M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z`]},hk={prefix:`fas`,iconName:`jsoneditor-collapse`,icon:[512,512,[],``,`m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z`]},gk={prefix:`fas`,iconName:`jsoneditor-format`,icon:[512,512,[],``,`M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z`]},_k={prefix:`fas`,iconName:`jsoneditor-compact`,icon:[512,512,[],``,`M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z`]};function vk(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=Z(t,`json`,9),o=Z(t,`selection`,9),s=Z(t,`readOnly`,9),c=Z(t,`showSearch`,13,!1),l=Z(t,`history`,9),u=Z(t,`onExpandAll`,9),d=Z(t,`onCollapseAll`,9),f=Z(t,`onUndo`,9),p=Z(t,`onRedo`,9),m=Z(t,`onSort`,9),h=Z(t,`onTransform`,9),g=Z(t,`onContextMenu`,9),_=Z(t,`onCopy`,9),v=Z(t,`onRenderMenu`,9);function y(){c(!c())}let b=R(void 0,!0),x=R(void 0,!0),S=R(void 0,!0),C=R(void 0,!0);H(()=>K(a()),()=>{z(n,a()!==void 0)}),H(()=>(W(n),K(o()),ES),()=>{z(r,W(n)&&(DS(o())||TS(o())||ES(o())))}),H(()=>(K(u()),K(a())),()=>{z(b,{type:`button`,icon:mk,title:`Expand all`,className:`jse-expand-all`,onClick:u(),disabled:!Ho(a())})}),H(()=>(K(d()),K(a())),()=>{z(x,{type:`button`,icon:hk,title:`Collapse all`,className:`jse-collapse-all`,onClick:d(),disabled:!Ho(a())})}),H(()=>K(a()),()=>{z(S,{type:`button`,icon:Sw,title:`Search (Ctrl+F)`,className:`jse-search`,onClick:y,disabled:a()===void 0})}),H(()=>(K(s()),W(b),W(x),K(m()),K(a()),K(h()),W(S),K(g()),K(f()),K(l()),K(p()),K(_()),W(r)),()=>{z(C,s()?[W(b),W(x),{type:`separator`},{type:`button`,icon:Qw,title:`Copy (Ctrl+C)`,className:`jse-copy`,onClick:_(),disabled:!W(r)},{type:`separator`},W(S),{type:`space`}]:[W(b),W(x),{type:`separator`},{type:`button`,icon:Gw,title:`Sort`,className:`jse-sort`,onClick:m(),disabled:s()||a()===void 0},{type:`button`,icon:yw,title:`Transform contents (filter, sort, project)`,className:`jse-transform`,onClick:h(),disabled:s()||a()===void 0},W(S),{type:`button`,icon:Dw,title:rx,className:`jse-contextmenu`,onClick:g()},{type:`separator`},{type:`button`,icon:tT,title:`Undo (Ctrl+Z)`,className:`jse-undo`,onClick:f(),disabled:!l().canUndo},{type:`button`,icon:$w,title:`Redo (Ctrl+Shift+Z)`,className:`jse-redo`,onClick:p(),disabled:!l().canRedo},{type:`space`}])}),H(()=>(K(v()),W(C)),()=>{z(i,v()(W(C))||W(C))}),gn(),Li(!0),hO(e,{get items(){return W(i)}}),ze()}var yk=J(`<div class="jse-welcome-info svelte-9kz9uv">You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:</div> <button class="svelte-9kz9uv">Create object</button> <button class="svelte-9kz9uv">Create array</button>`,1),bk=J(`<div class="jse-welcome svelte-9kz9uv" role="none"><div class="jse-space jse-before svelte-9kz9uv"></div> <div class="jse-contents svelte-9kz9uv"><div class="jse-welcome-title">Empty document</div> <!></div> <div class="jse-space jse-after svelte-9kz9uv"></div></div>`);function xk(e,t){Re(t,!0);function n(e){e.stopPropagation(),t.onCreateObject()}function r(e){e.stopPropagation(),t.onCreateArray()}var i=bk();i.__click=()=>t.onClick();var a=V(B(i),2),o=V(B(a),2),s=e=>{var t=yk(),i=V(Xt(t),2);Si(i,`title`,`Create an empty JSON object (press '{')`),i.__click=n;var a=V(i,2);Si(a,`title`,`Create an empty JSON array (press '[')`),a.__click=r,Y(e,t)};X(o,e=>{t.readOnly||e(s)}),I(a),De(2),I(i),Y(e,i),ze()}Sr([`click`]);var Sk=u(s(((e,t)=>{var n=function(e,t){var n,r,i=1,a=0,o=0,s=String.alphabet;function c(e,t,r){if(r){for(n=t;r=c(e,n),r<76&&r>65;)++n;return+e.slice(t-1,n)}return r=s&&s.indexOf(e.charAt(t)),r>-1?r+76:(r=e.charCodeAt(t)||0,r<45||r>127?r:r<46?65:r<48?r-1:r<58?r+18:r<65?r-11:r<91?r+11:r<97?r-37:r<123?r+5:r-63)}if((e+=``)!=(t+=``)){for(;i;)if(r=c(e,a++),i=c(t,o++),r<76&&i<76&&r>66&&i>66&&(r=c(e,a,a),i=c(t,o,a=n),o=n),r!=i)return r<i?-1:1}return 0};try{t.exports=n}catch{String.naturalCompare=n}}))(),1);function Ck(e,t){return(0,Sk.default)(typeof e==`string`?e.toLowerCase():e,typeof t==`string`?t.toLowerCase():t)}function wk(e,t=[],n=[],r=1){let i=Sa(e,t);if(sa(i)){if(n===void 0)throw Error(`Cannot sort: no property selected by which to sort the array`);return Ek(e,t,n,r)}if(Vo(i))return Tk(e,t,r);throw Error(`Cannot sort: no array or object`)}function Tk(e,t=[],n=1){let r=Sa(e,t),i=Object.keys(r).slice();i.sort((e,t)=>n*Ck(e,t));let a={};return i.forEach(e=>a[e]=r[e]),[{op:`replace`,path:Aa(t),value:a}]}function Ek(e,t=[],n=[],r=1){let i=Dk(n,r),a=Sa(e,t);return[{op:`replace`,path:Aa(t),value:a.slice(0).sort(i)}]}function Dk(e,t){let n={boolean:0,number:1,string:2,undefined:4};return function(r,i){let a=Sa(r,e),o=Sa(i,e);if(typeof a!=typeof o){let e=n[typeof a]??3,r=n[typeof o]??3;return e>r?t:e<r?-t:0}return typeof a==`number`||typeof a==`boolean`?a>o?t:a<o?-t:0:Ho(a)?0:t*Ck(a,o)}}var Ok=J(`<button type="button"> </button>`),kk=J(`<button type="button" class="jse-navigation-bar-dropdown-item svelte-1aaso6d">...</button>`),Ak=J(`<div class="jse-navigation-bar-dropdown svelte-1aaso6d"><!> <!></div>`);function jk(e,t){Re(t,!1);let n=Z(t,`items`,9),r=Z(t,`selectedItem`,9),i=Z(t,`onSelect`,9);Li(!0);var a=Ak(),o=B(a);Hr(o,1,()=>(K(X_),K(n()),G(()=>X_(n(),100))),e=>e,(e,t)=>{var n=Ok();let a;var o=B(n,!0);I(n),U((e,i)=>{a=li(n,1,`jse-navigation-bar-dropdown-item svelte-1aaso6d`,null,a,{"jse-selected":W(t)===r()}),Si(n,`title`,e),jr(o,i)},[()=>(W(t),G(()=>W(t).toString())),()=>(K(nb),W(t),G(()=>nb(W(t).toString(),30)))]),q(`click`,n,Fi(()=>i()(W(t)))),Y(e,n)});var s=V(o,2),c=e=>{var t=kk();Si(t,`title`,`Limited to 100 items`),Y(e,t)};X(s,e=>{K(n()),G(()=>n().length>100)&&e(c)}),I(a),Y(e,a),ze()}var Mk=J(`<button type="button" class="jse-navigation-bar-button svelte-zm4a8n"> </button>`),Nk=J(`<div class="jse-navigation-bar-item svelte-zm4a8n"><button type="button"><!></button> <!></div>`);function Pk(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),{openAbsolutePopup:i,closeAbsolutePopup:a}=Ie(`absolute-popup`),o=Z(t,`path`,9),s=Z(t,`index`,9),c=Z(t,`onSelect`,9),l=Z(t,`getItems`,9),u=R(void 0,!0),d=R(!1,!0),f;function p(e){a(f),c()(W(n).concat(e))}function m(){W(u)&&(z(d,!0),f=i(jk,{items:l()(W(n)),selectedItem:W(r),onSelect:p},{anchor:W(u),closeOnOuterClick:!0,onClose:()=>{z(d,!1)}}))}H(()=>(K(o()),K(s())),()=>{z(n,o().slice(0,s()))}),H(()=>(K(o()),K(s())),()=>{z(r,o()[s()])}),gn(),Li(!0);var h=Nk(),g=B(h);let _;bb(B(g),{get data(){return Nw}}),I(g);var v=V(g,2),y=e=>{var t=Mk(),n=B(t,!0);I(t),U(()=>jr(n,W(r))),q(`click`,t,()=>p(W(r))),Y(e,t)};X(v,e=>{W(r)!==void 0&&e(y)}),I(h),Ni(h,e=>z(u,e),()=>W(u)),U(()=>_=li(g,1,`jse-navigation-bar-button jse-navigation-bar-arrow svelte-zm4a8n`,null,_,{"jse-open":W(d)})),q(`click`,g,m),Y(e,h),ze()}function Fk(e){if(navigator.clipboard)return navigator.clipboard.writeText(e);if(document.queryCommandSupported?.(`copy`)){let t=document.createElement(`textarea`);t.value=e,t.style.position=`fixed`,t.style.opacity=`0`,document.body.appendChild(t),t.select();try{document.execCommand(`copy`)}catch(e){console.error(e)}finally{document.body.removeChild(t)}return Promise.resolve()}else return console.error(`Copy failed.`),Promise.resolve()}var Ik=J(`<button type="button" class="jse-navigation-bar-validation-error svelte-i6k38e"><!></button>`),Lk=J(`<div class="jse-copied-text svelte-i6k38e">Copied!</div>`),Rk=J(`<div><input type="text" class="jse-navigation-bar-text svelte-i6k38e"/> <!> <!> <button type="button" title="Copy selected path to the clipboard"><!></button></div>`);function zk(e,t){Re(t,!1);let n=R(),r=Ie(`absolute-popup`),i=Z(t,`path`,8),a=Z(t,`pathParser`,8),o=Z(t,`onChange`,8),s=Z(t,`onClose`,8),c=Z(t,`onError`,8),l=Z(t,`pathExists`,8),u=R(),d=R(),f=R(!1),p,m=R(!1);qi(()=>{h()}),Ji(()=>{clearTimeout(p)});function h(){W(u).focus()}function g(e){try{let t=a().parse(e);return _(t),{path:t,error:void 0}}catch(e){return{path:void 0,error:e}}}function _(e){if(!l()(e))throw Error(`Path does not exist in current document`)}function v(e){z(d,e.currentTarget.value)}function y(e){let t=ly(e);if(t===`Escape`&&(e.preventDefault(),s()()),t===`Enter`){e.preventDefault(),z(f,!0);let t=g(W(d));t.path===void 0?c()(t.error):o()(t.path)}}function b(){Fk(W(d)),z(m,!0),p=window.setTimeout(()=>z(m,!1),1e3),h()}H(()=>(K(a()),K(i())),()=>{z(d,a().stringify(i()))}),H(()=>(W(f),W(d)),()=>{z(n,W(f)?g(W(d)).error:void 0)}),gn(),Li();var x=Rk();let S;var C=B(x);yi(C),Ni(C,e=>z(u,e),()=>W(u));var w=V(C,2),T=e=>{var t=Ik();bb(B(t),{get data(){return Kw}}),I(t),$r(t,(e,t)=>fw?.(e,t),()=>({text:String(W(n)||``),...r})),Y(e,t)};X(w,e=>{W(n)&&e(T)});var ee=V(w,2),te=e=>{Y(e,Lk())};X(ee,e=>{W(m)&&e(te)});var E=V(ee,2);let ne;bb(B(E),{get data(){return Qw}}),I(E),I(x),U(()=>{S=li(x,1,`jse-navigation-bar-path-editor svelte-i6k38e`,null,S,{error:W(n)}),bi(C,W(d)),ne=li(E,1,`jse-navigation-bar-copy svelte-i6k38e`,null,ne,{copied:W(m)})}),q(`keydown`,C,Fi(y)),q(`input`,C,v),q(`click`,E,b),Y(e,x),ze()}var Bk=J(`<!> <!>`,1),Vk=J(`<div class="jse-navigation-bar svelte-ch0k1w"><!> <button type="button"><span class="jse-navigation-bar-space svelte-ch0k1w"> </span> <!></button></div>`);function Hk(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=$i(`jsoneditor:NavigationBar`),a=Z(t,`json`,9),o=Z(t,`selection`,9),s=Z(t,`onSelect`,9),c=Z(t,`onError`,9),l=Z(t,`pathParser`,9),u=R(void 0,!0),d=R(!1,!0);function f(e){setTimeout(()=>{if(W(u)&&W(u).scrollTo){let e=W(u).scrollWidth-W(u).clientWidth;e>0&&(i(`scrollTo `,e),W(u).scrollTo({left:e,behavior:`smooth`}))}})}function p(e){i(`get items for path`,e);let t=Sa(a(),e);if(Array.isArray(t))return F_(0,t.length).map(String);if(Vo(t)){let e=Object.keys(t).slice(0);return e.sort(Ck),e}else return[]}function m(e){return Oa(a(),e)}function h(e){i(`select path`,JSON.stringify(e)),s()(nC(e,e))}function g(){z(d,!W(d))}function _(){z(d,!1)}function v(e){_(),h(e)}H(()=>(K(o()),pC),()=>{z(n,o()?pC(o()):[])}),H(()=>(K(a()),W(n)),()=>{z(r,Ho(Sa(a(),W(n))))}),H(()=>W(n),()=>{f(W(n))}),gn(),Li(!0);var y=Vk(),b=B(y),x=e=>{var t=Bk(),i=Xt(t);Hr(i,1,()=>W(n),Rr,(e,t,r)=>{Pk(e,{getItems:p,get path(){return W(n)},index:r,onSelect:h})});var a=V(i,2),o=e=>{Pk(e,{getItems:p,get path(){return W(n)},get index(){return W(n),G(()=>W(n).length)},onSelect:h})};X(a,e=>{W(r)&&e(o)}),Y(e,t)},S=e=>{zk(e,{get path(){return W(n)},onClose:_,onChange:v,get onError(){return c()},pathExists:m,get pathParser(){return l()}})};X(b,e=>{W(d)?e(S,!1):e(x)});var C=V(b,2);let w;var T=B(C),ee=B(T,!0);I(T);var te=V(T,2);{let e=St(()=>W(d)?Bw:Ow);bb(te,{get data(){return W(e)}})}I(C),I(y),Ni(y,e=>z(u,e),()=>W(u)),U(e=>{w=li(C,1,`jse-navigation-bar-edit svelte-ch0k1w`,null,w,{flex:!W(d),editing:W(d)}),Si(C,`title`,W(d)?`Cancel editing the selected path`:`Edit the selected path`),jr(ee,e)},[()=>(K(Ho),K(a()),W(d),G(()=>!Ho(a())&&!W(d)?`Navigation bar`:`\xA0`))]),q(`click`,C,g),Y(e,y),ze()}var Uk=J(`<button type="button" class="jse-replace-toggle svelte-1yv1wjm" title="Toggle visibility of replace options (Ctrl+H)"><!></button>`),Wk=J(`<div class="jse-replace-section svelte-1yv1wjm"><input class="jse-replace-input svelte-1yv1wjm" title="Enter replacement text" type="text" placeholder="Replace"/> <button type="button" title="Replace current occurrence (Ctrl+Enter)" class="svelte-1yv1wjm">Replace</button> <button type="button" title="Replace all occurrences" class="svelte-1yv1wjm">All</button></div>`),Gk=J(`<div class="jse-search-box svelte-1yv1wjm"><form class="jse-search-form svelte-1yv1wjm"><!> <div class="jse-search-contents svelte-1yv1wjm"><div class="jse-search-section svelte-1yv1wjm"><div class="jse-search-icon svelte-1yv1wjm"><!></div> <label class="jse-search-input-label svelte-1yv1wjm" about="jse-search input"><input class="jse-search-input svelte-1yv1wjm" title="Enter text to search" type="text" placeholder="Find"/></label> <div> </div> <button type="button" class="jse-search-next svelte-1yv1wjm" title="Go to next search result (Enter)"><!></button> <button type="button" class="jse-search-previous svelte-1yv1wjm" title="Go to previous search result (Shift+Enter)"><!></button> <button type="button" class="jse-search-clear svelte-1yv1wjm" title="Close search box (Esc)"><!></button></div> <!></div></form></div>`);function Kk(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=$i(`jsoneditor:SearchBox`),o=Z(t,`json`,9),s=Z(t,`documentState`,9),c=Z(t,`parser`,9),l=Z(t,`showSearch`,9),u=Z(t,`showReplace`,13),d=Z(t,`readOnly`,9),f=Z(t,`columns`,9),p=Z(t,`onSearch`,9),m=Z(t,`onFocus`,9),h=Z(t,`onPatch`,9),g=Z(t,`onClose`,9),_=R(``,!0),v=``,y=R(``,!0),b=R(!1,!0),x=R(void 0,!0),S=Rg(O,300),C=Rg(se,300);function w(){u(!u()&&!d())}function T(e){e.stopPropagation();let t=ly(e);t===`Enter`&&(e.preventDefault(),W(_)===v?ie():S.flush()),t===`Shift+Enter`&&(e.preventDefault(),ae()),t===`Ctrl+Enter`&&(e.preventDefault(),u()?E():ie()),t===`Ctrl+H`&&(e.preventDefault(),w()),t===`Escape`&&(e.preventDefault(),le())}function ee(e){ly(e)===`Enter`&&(e.preventDefault(),e.stopPropagation(),E())}async function te(){it(),await S.flush()}async function E(){if(d())return;let e=W(x)?.activeItem;if(a(`handleReplace`,{replaceText:W(y),activeItem:e}),!W(x)||!e||o()===void 0)return;z(x,{...VC(W(x)),activeIndex:W(r)});let{operations:t,newSelection:n}=qC(o(),s(),W(y),e,c());h()(t,(e,t)=>({state:t,selection:n})),it(),await C.flush(),await D()}async function ne(){if(d())return;a(`handleReplaceAll`,{text:W(_),replaceText:W(y)});let{operations:e,newSelection:t}=JC(o(),s(),W(_),W(y),c());h()(e,(e,n)=>({state:n,selection:t})),await D()}function re(e){e.select()}async function ie(){z(x,W(x)?VC(W(x)):void 0),await D()}async function ae(){z(x,W(x)?HC(W(x)):void 0),await D()}async function D(){a(`handleFocus`,W(x));let e=W(x)?.activeItem;e&&o()!==void 0&&await m()(e.path,e.resultIndex)}async function oe(e){await ce(e,W(_),o())}async function O(e){await ce(l(),e,o()),await D()}async function se(e){await ce(l(),W(_),e)}async function ce(e,t,n){return e?(a(`applySearch`,{showSearch:e,text:t}),t===``?(a(`clearing search result`),W(x)!==void 0&&z(x,void 0),Promise.resolve()):(v=t,z(b,!0),new Promise(e=>{setTimeout(()=>{z(x,BC(UC(t,n,{maxResults:Qb,columns:f()}),W(x))),z(b,!1),e()})}))):(W(x)&&z(x,void 0),Promise.resolve())}function le(){a(`handleClose`),S.cancel(),C.cancel(),ce(!1,W(_),o()),g()()}H(()=>W(x),()=>{z(n,W(x)?.items?.length||0)}),H(()=>W(x),()=>{z(r,W(x)?.activeIndex||0)}),H(()=>(W(n),Qb),()=>{z(i,W(n)>=1e3?`${Qb-1}+`:String(W(n)))}),H(()=>(K(p()),W(x)),()=>{p()(W(x))}),H(()=>K(l()),()=>{oe(l())}),H(()=>W(_),()=>{S(W(_))}),H(()=>K(o()),()=>{C(o())}),gn(),Li(!0);var ue=Ar(),de=Xt(ue),fe=e=>{var t=Gk(),a=B(t),o=B(a),s=e=>{var t=Uk(),n=B(t);{let e=St(()=>u()?eT:xw);bb(n,{get data(){return W(e)}})}I(t),q(`click`,t,w),Y(e,t)};X(o,e=>{d()||e(s)});var c=V(o,2),l=B(c),f=B(l),p=B(f),m=e=>{bb(e,{get data(){return Ew},spin:!0})},h=e=>{bb(e,{get data(){return Sw}})};X(p,e=>{W(b)?e(m):e(h,!1)}),I(f);var g=V(f,2),v=B(g);yi(v),hn(()=>Oi(v,()=>W(_),e=>z(_,e))),$r(v,e=>re?.(e)),hn(()=>q(`paste`,v,te)),I(g);var x=V(g,2);let S;var C=B(x);I(x);var D=V(x,2);bb(B(D),{get data(){return Uw}}),I(D);var oe=V(D,2);bb(B(oe),{get data(){return Tw}}),I(oe);var O=V(oe,2);bb(B(O),{get data(){return Vw}}),I(O),I(l);var se=V(l,2),ce=e=>{var t=Wk(),n=B(t);yi(n);var r=V(n,2),i=V(r,2);I(t),Oi(n,()=>W(y),e=>z(y,e)),q(`keydown`,n,ee),q(`click`,r,E),q(`click`,i,ne),Y(e,t)};X(se,e=>{u()&&!d()&&e(ce)}),I(c),I(a),I(t),U(()=>{S=li(x,1,`jse-search-count svelte-1yv1wjm`,null,S,{"jse-visible":W(_)!==``}),jr(C,`${W(r)!==-1&&W(r)<W(n)?`${W(r)+1}/`:``}${W(i)??``}`)}),q(`click`,D,ie),q(`click`,oe,ae),q(`click`,O,le),q(`keydown`,a,T),Y(e,t)};X(de,e=>{l()&&e(fe)}),Y(e,ue),ze()}var qk=Number.isNaN||function(e){return typeof e==`number`&&e!==e};function Jk(e,t){return!!(e===t||qk(e)&&qk(t))}function Yk(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Jk(e[n],t[n]))return!1;return!0}function Xk(e,t){t===void 0&&(t=Yk);var n=null;function r(){var r=[...arguments];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}var Zk=Symbol(`path`);function Qk(e,t,n=1/0){let r={};Array.isArray(e)&&ev(e,n,e=>{Vo(e)?$k(e,r,t):r[Zk]=!0});let i=[];return Zk in r&&i.push([]),eA(r,[],i,t),i}function $k(e,t,n){for(let r in e){let i=e[r],a=t[r]||(t[r]={});Vo(i)&&n?$k(i,a,n):a[Zk]===void 0&&(a[Zk]=!0)}}function eA(e,t,n,r){for(let i in e){let a=t.concat(i),o=e[i];o&&o[Zk]===!0&&n.push(a),ca(o)&&r&&eA(o,a,n,r)}}function tA(e,t){let n=new Set(t.map(Aa)),r=new Set(e.map(Aa));for(let e of n)r.has(e)||n.delete(e);for(let e of r)n.has(e)||n.add(e);return[...n].map(ka)}function nA(e,t,n,r,i,a,o=80){let s=sa(n)?n.length:0,c=iA(r,i),l=e-o,u=t+2*o,d=e=>r[e]||i,f=0,p=a;for(;p<l&&f<s;)p+=d(f),f++;f>0&&(f--,p-=d(f));let m=f,h=0;for(;h<u&&m<s;)h+=d(m),m++;let g=0;for(let e=m;e<s;e++)g+=d(e);let _=sa(n)?n.slice(f,m):[];return{startIndex:f,endIndex:m,startHeight:p,endHeight:g,averageItemHeight:c,visibleHeight:h,visibleItems:_}}function rA(e,t,n,r){let{rowIndex:i}=lA(e,t),a=0;for(let e=0;e<i;e++)a+=n[e]||r;return a}function iA(e,t){let n=Object.values(e);return u_(n)?t:n.reduce((e,t)=>e+t)/n.length}function aA(e,t){let{rowIndex:n,columnIndex:r}=lA(pC(t),e);return n>0?QS(uA({rowIndex:n-1,columnIndex:r},e)):t}function oA(e,t,n){let{rowIndex:r,columnIndex:i}=lA(pC(n),t);return r<e.length-1?QS(uA({rowIndex:r+1,columnIndex:i},t)):n}function sA(e,t){let{rowIndex:n,columnIndex:r}=lA(pC(t),e);return r>0?QS(uA({rowIndex:n,columnIndex:r-1},e)):t}function cA(e,t){let{rowIndex:n,columnIndex:r}=lA(pC(t),e);return r<e.length-1?QS(uA({rowIndex:n,columnIndex:r+1},e)):t}function lA(e,t){let[n,...r]=e,i=parseInt(n,10);return{rowIndex:isNaN(i)?-1:i,columnIndex:t.findIndex(e=>JS(r,e))}}function uA(e,t){let{rowIndex:n,columnIndex:r}=e;return[String(n),...t[r]]}function dA(e,t){let[n,r]=k_(e,e=>zo(e.path[0]));return{root:r,rows:g_(r_(n,pA),e=>{let n={row:[],columns:{}};return e.forEach(e=>{let r=mA(e,t);r===-1?n.row.push(e):(n.columns[r]===void 0&&(n.columns[r]=[]),n.columns[r].push(e))}),n})}}function fA(e,t){if(!(!t||t.length===0))return t.length===1?t[0]:{path:e,message:`Multiple validation issues: `+t.map(e=>iT(e.path)+` `+e.message).join(`, `),severity:Av.warning}}function pA(e){return parseInt(e.path[0],10)}function mA(e,t){let n=lA(e.path,t);return n.columnIndex===-1?-1:n.columnIndex}function hA(e,t,n){return t.some(t=>gA(e,t,n))?void 0:e}function gA(e,t,n){if(!e)return!1;if(t.op===`replace`){let{rowIndex:r,columnIndex:i}=lA(ka(t.path),n),a=n.findIndex(t=>f_(t,e.path));if(r!==-1&&i!==-1&&i!==a)return!1}return!0}function _A(e,t=2){let n=[];function r(e,i){ca(e)&&i.length<t&&Object.keys(e).forEach(t=>{r(e[t],i.concat(t))}),sa(e)&&n.push(i)}return r(e,[]),n}var vA=$i(`jsoneditor:actions`);async function yA({json:e,selection:t,indentation:n,readOnly:r,parser:i,onPatch:a}){if(r||e===void 0||!t||!oC(t))return;let o=rC(e,t,n,i);if(o===void 0)return;vA(`cut`,{selection:t,clipboard:o,indentation:n}),await Fk(o);let{operations:s,newSelection:c}=MC(e,t);a(s,(e,t)=>({state:t,selection:c}))}async function bA({json:e,selection:t,indentation:n,parser:r}){let i=rC(e,t,n,r);i!==void 0&&(vA(`copy`,{clipboard:i,indentation:n}),await Fk(i))}function xA({clipboardText:e,json:t,selection:n,readOnly:r,parser:i,onPatch:a,onChangeText:o,onPasteMultilineText:s,openRepairModal:c}){if(r)return;function l(r){if(t!==void 0){let o=n||QS([]),c=EC(t,o,r,i),l=SA(e,c,i);vA(`paste`,{pastedText:r,operations:c,ensureSelection:o,pasteMultilineText:l}),a(c,(e,n)=>{let r=n;return c.filter(e=>(la(e)||da(e))&&Ho(e.value)).forEach(n=>{let i=Ua(t,n.path);r=_S(e,r,i)}),{state:r}}),l&&s(r)}else vA(`paste text`,{pastedText:r}),o(e,(e,t)=>{if(e)return{state:_S(e,t,[])}})}try{l(e)}catch{c(e,e=>{vA(`repaired pasted text: `,e),l(e)})}}function SA(e,t,n,r=1048576){if(e.length>r||!/\n/.test(e))return!1;let i=t.some(e=>e.op===`replace`&&Array.isArray(e.value)),a=t.filter(e=>e.op===`add`).length>1;if(!(i||a))return!1;try{return av(e,n.parse),!1}catch{return!0}}function CA({json:e,text:t,selection:n,keepSelection:r,readOnly:i,onChange:a,onPatch:o}){if(i||!n)return;let s=e!==void 0&&(TS(n)||ES(n))?nC(n.path,n.path):n;if(u_(pC(n)))vA(`remove root`,{selection:n}),a&&a({text:``,json:void 0},e===void 0?{text:t||``,json:e}:{text:void 0,json:e},{contentErrors:void 0,patchResult:void 0});else if(e!==void 0){let{operations:t,newSelection:i}=MC(e,s);vA(`remove`,{operations:t,selection:n,newSelection:i}),o(t,(e,t)=>({state:t,selection:r?n:i}))}}function wA({json:e,selection:t,columns:n,readOnly:r,onPatch:i}){if(r||e===void 0||!t||!oC(t))return;let{rowIndex:a,columnIndex:o}=lA(pC(t),n);vA(`duplicate row`,{rowIndex:a}),i(wC(e,[[String(a)]]),(t,r)=>({state:r,selection:QS(uA({rowIndex:a<e.length?a+1:a,columnIndex:o},n))}))}function TA({json:e,selection:t,columns:n,readOnly:r,onPatch:i}){if(r||e===void 0||!t||!oC(t))return;let{rowIndex:a}=lA(pC(t),n);vA(`insert before row`,{rowIndex:a}),i(bC(e,[String(a)],[{key:``,value:ca(e[0])?{}:``}]))}function EA({json:e,selection:t,columns:n,readOnly:r,onPatch:i}){if(r||e===void 0||!t||!oC(t))return;let{rowIndex:a,columnIndex:o}=lA(pC(t),n);vA(`insert after row`,{rowIndex:a});let s=a+1,c=[String(s)],l=[{key:``,value:ca(e[0])?{}:``}];i(s<e.length?bC(e,c,l):xC(e,[],l),(e,t)=>({state:t,selection:QS(uA({rowIndex:s,columnIndex:o},n))}))}function DA({json:e,selection:t,columns:n,readOnly:r,onPatch:i}){if(r||e===void 0||!t||!oC(t))return;let{rowIndex:a,columnIndex:o}=lA(pC(t),n);vA(`remove row`,{rowIndex:a}),i(kC([[String(a)]]),(e,t)=>{let r=a<e.length?a:a>0?a-1:void 0,i=r===void 0?void 0:QS(uA({rowIndex:r,columnIndex:o},n));return vA(`remove row new selection`,{rowIndex:a,newRowIndex:r,newSelection:i}),{state:t,selection:i}})}function OA({insertType:e,selectInside:t,initialValue:n,json:r,selection:i,readOnly:a,parser:o,onPatch:s,onReplaceJson:c}){if(a)return;let l=OC(r,i,e);if(r!==void 0){let a=o.stringify(l),c=EC(r,i,a,o);vA(`onInsert`,{insertType:e,operations:c,newValue:l,data:a});let u=Bg(c.filter(e=>e.op===`add`||e.op===`replace`));s(c,(e,r,i)=>{if(u){let a=Ua(e,u.path);if(Ho(l))return{state:Kx(e,r,a,xS),selection:t?eC(a):i};if(l===``){let t=u_(a)?void 0:Sa(e,a_(a));return{state:Kx(e,r,a,SS),selection:Vo(t)?ZS(a,n):$S(a,n)}}}}),vA(`after patch`)}else{vA(`onInsert`,{insertType:e,newValue:l});let t=[];c(l,(e,n)=>({state:_S(e,n,t),selection:Ho(l)?eC(t):$S(t)}))}}async function kA({char:e,selectInside:t,json:n,selection:r,readOnly:i,parser:a,onPatch:o,onReplaceJson:s,onSelect:c}){if(!i){if(TS(r)){c({...r,edit:!0,initialValue:e});return}e===`{`?OA({insertType:`object`,selectInside:t,initialValue:void 0,json:n,selection:r,readOnly:i,parser:a,onPatch:o,onReplaceJson:s}):e===`[`?OA({insertType:`array`,selectInside:t,initialValue:void 0,json:n,selection:r,readOnly:i,parser:a,onPatch:o,onReplaceJson:s}):ES(r)&&n!==void 0?Ho(Sa(n,r.path))||c({...r,edit:!0,initialValue:e}):(vA(`onInsertValueWithCharacter`,{char:e}),await AA({char:e,json:n,selection:r,readOnly:i,parser:a,onPatch:o,onReplaceJson:s}))}}async function AA({char:e,json:t,selection:n,readOnly:r,parser:i,onPatch:a,onReplaceJson:o}){r||OA({insertType:`value`,selectInside:!1,initialValue:e,json:t,selection:n,readOnly:r,parser:i,onPatch:a,onReplaceJson:o})}var jA=J(`<div class="jse-json-preview svelte-6s14j1"> </div>`);function MA(e,t){Re(t,!1);let n=R(),r=R(),i=Z(t,`text`,8),a=Z(t,`json`,8),o=Z(t,`indentation`,8),s=Z(t,`parser`,8);H(()=>(K(a()),K(i())),()=>{z(n,a()===void 0?{text:i()||``}:{json:a()})}),H(()=>(W(n),K(o()),K(s()),$b),()=>{z(r,nb(vv(W(n),o(),s()),$b))}),gn(),Li();var c=jA(),l=B(c,!0);I(c),U(()=>jr(l,W(r))),Y(e,c),ze()}var NA=J(`<button type="button"><!> <!></button>`);function PA(e,t){Re(t,!1);let n=Z(t,`item`,8),r=Z(t,`className`,8,void 0),i=Z(t,`onRequestClose`,8);Li();var a=NA(),o=B(a),s=e=>{bb(e,{get data(){return K(n()),G(()=>n().icon)}})};X(o,e=>{K(n()),G(()=>n().icon)&&e(s)});var c=V(o,2),l=e=>{var t=kr();U(()=>jr(t,(K(n()),G(()=>n().text)))),Y(e,t)};X(c,e=>{K(n()),G(()=>n().text)&&e(l)}),I(a),U(e=>{li(a,1,e,`svelte-1nv9wlw`),Si(a,`title`,(K(n()),G(()=>n().title))),a.disabled=(K(n()),G(()=>n().disabled||!1))},[()=>ri((K(hC),K(r()),K(n()),G(()=>hC(`jse-context-menu-button`,r(),n().className))))]),q(`click`,a,e=>{i()(),n().onClick(e)}),Y(e,a),ze()}var FA=J(`<li class="svelte-1i0a0jw"><button type="button"><!> </button></li>`),IA=J(`<div role="button" tabindex="0" class="jse-dropdown-button svelte-1i0a0jw"><!> <button type="button" data-type="jse-open-dropdown"><!></button> <div><ul class="svelte-1i0a0jw"></ul></div></div>`);function LA(e,t){Re(t,!1);let n=R(void 0,!0),r=Z(t,`items`,25,()=>[]),i=Z(t,`title`,9,void 0),a=Z(t,`width`,9,`120px`),o=R(!1,!0);function s(){let e=W(o);setTimeout(()=>z(o,!e))}function c(){z(o,!1)}function l(e){ly(e)===`Escape`&&(e.preventDefault(),z(o,!1))}qi(()=>{document.addEventListener(`click`,c),document.addEventListener(`keydown`,l)}),Ji(()=>{document.removeEventListener(`click`,c),document.removeEventListener(`keydown`,l)}),H(()=>K(r()),()=>{z(n,r().every(e=>e.disabled===!0))}),gn(),Li(!0);var u=IA(),d=B(u);Jr(d,t,`defaultItem`,{},null);var f=V(d,2);let p;bb(B(f),{get data(){return eT}}),I(f);var m=V(f,2);let h;var g=B(m);Hr(g,5,r,Rr,(e,t)=>{var n=FA(),r=B(n),i=B(r),a=e=>{bb(e,{get data(){return W(t),G(()=>W(t).icon)}})};X(i,e=>{W(t),G(()=>W(t).icon)&&e(a)});var o=V(i);I(r),I(n),U(()=>{Si(r,`title`,(W(t),G(()=>W(t).title))),r.disabled=(W(t),G(()=>W(t).disabled)),li(r,1,ri((W(t),G(()=>W(t).className))),`svelte-1i0a0jw`),jr(o,` ${(W(t),G(()=>W(t).text))??``}`)}),q(`click`,r,e=>W(t).onClick(e)),Y(e,n)}),I(g),I(m),I(u),U(()=>{Si(u,`title`,i()),p=li(f,1,`jse-open-dropdown svelte-1i0a0jw`,null,p,{"jse-visible":W(o)}),f.disabled=W(n),h=li(m,1,`jse-dropdown-items svelte-1i0a0jw`,null,h,{"jse-visible":W(o)}),di(m,`width: ${a()??``};`)}),q(`click`,f,s),q(`click`,u,c),Y(e,u),ze()}var RA=J(`<button type="button" slot="defaultItem"><!> </button>`);function zA(e,t){Re(t,!1);let n=R(),r=Z(t,`item`,8),i=Z(t,`className`,8,void 0),a=Z(t,`onRequestClose`,8);H(()=>(K(r()),K(a())),()=>{z(n,r().items.map(e=>({...e,onClick:t=>{a()(),e.onClick(t)}})))}),gn(),Li(),LA(e,{get width(){return K(r()),G(()=>r().width)},get items(){return W(n)},$$slots:{defaultItem:(e,t)=>{var n=RA(),o=B(n),s=e=>{bb(e,{get data(){return K(r()),G(()=>r().main.icon)}})};X(o,e=>{K(r()),G(()=>r().main.icon)&&e(s)});var c=V(o);I(n),U(e=>{li(n,1,e,`svelte-16zcttp`),Si(n,`title`,(K(r()),G(()=>r().main.title))),n.disabled=(K(r()),G(()=>r().main.disabled||!1)),jr(c,` ${(K(r()),G(()=>r().main.text))??``}`)},[()=>ri((K(hC),K(i()),K(r()),G(()=>hC(`jse-context-menu-button`,i(),r().main.className))))]),q(`click`,n,e=>{a()(),r().main.onClick(e)}),Y(e,n)}}}),ze()}var BA=J(`<div class="jse-separator svelte-196mxz0"></div>`),VA=J(`<div class="jse-label svelte-196mxz0"> </div>`),HA=J(`<div class="jse-column svelte-196mxz0"></div>`),UA=J(`<div class="jse-separator svelte-196mxz0"></div>`),WA=J(`<div class="jse-row svelte-196mxz0"></div>`),GA=J(`<div class="jse-separator svelte-196mxz0"></div>`),KA=J(`<div class="jse-row svelte-196mxz0"><div class="jse-tip svelte-196mxz0"><div class="jse-tip-icon svelte-196mxz0"><!></div> <div class="jse-tip-text"> </div></div></div>`),qA=J(`<div role="menu" tabindex="-1" class="jse-contextmenu svelte-196mxz0"><!> <!></div>`);function JA(e,t){Re(t,!1);let n=Z(t,`items`,9),r=Z(t,`onRequestClose`,9),i=Z(t,`tip`,9),a=R(void 0,!0);qi(()=>{let e=Array.from(W(a).querySelectorAll(`button`)).find(e=>!e.disabled);e&&e.focus()});let o={ArrowUp:`Up`,ArrowDown:`Down`,ArrowLeft:`Left`,ArrowRight:`Right`};function s(e){let t=o[ly(e)];if(t&&e.target){e.preventDefault();let n=sy({allElements:Array.from(W(a).querySelectorAll(`button:not([disabled])`)),currentElement:e.target,direction:t,hasPrio:e=>e.getAttribute(`data-type`)!==`jse-open-dropdown`});n&&n.focus()}}function c(e){return console.error(`Unknown type of context menu item`,e),`???`}Li(!0);var l=qA(),u=B(l);Hr(u,1,n,Rr,(e,t)=>{var n=Ar(),i=Xt(n),a=e=>{PA(e,{get item(){return W(t)},get onRequestClose(){return r()}})},o=e=>{var n=Ar(),i=Xt(n),a=e=>{zA(e,{get item(){return W(t)},get onRequestClose(){return r()}})},o=e=>{var n=Ar(),i=Xt(n),a=e=>{var n=WA();Hr(n,5,()=>(W(t),G(()=>W(t).items)),Rr,(e,t)=>{var n=Ar(),i=Xt(n),a=e=>{PA(e,{get item(){return W(t)},get onRequestClose(){return r()}})},o=e=>{var n=Ar(),i=Xt(n),a=e=>{zA(e,{get item(){return W(t)},get onRequestClose(){return r()}})},o=e=>{var n=Ar(),i=Xt(n),a=e=>{var n=HA();Hr(n,5,()=>(W(t),G(()=>W(t).items)),Rr,(e,t)=>{var n=Ar(),i=Xt(n),a=e=>{PA(e,{className:`left`,get item(){return W(t)},get onRequestClose(){return r()}})},o=e=>{var n=Ar(),i=Xt(n),a=e=>{zA(e,{className:`left`,get item(){return W(t)},get onRequestClose(){return r()}})},o=e=>{var n=Ar(),r=Xt(n),i=e=>{Y(e,BA())},a=e=>{var n=Ar(),r=Xt(n),i=e=>{var n=VA(),r=B(n,!0);I(n),U(()=>jr(r,(W(t),G(()=>W(t).text)))),Y(e,n)},a=e=>{var n=kr();U(e=>jr(n,e),[()=>(W(t),G(()=>c(W(t))))]),Y(e,n)};X(r,e=>{K(gx),W(t),G(()=>gx(W(t)))?e(i):e(a,!1)},!0),Y(e,n)};X(r,e=>{K(hx),W(t),G(()=>hx(W(t)))?e(i):e(a,!1)},!0),Y(e,n)};X(i,e=>{K(vx),W(t),G(()=>vx(W(t)))?e(a):e(o,!1)},!0),Y(e,n)};X(i,e=>{K(_x),W(t),G(()=>_x(W(t)))?e(a):e(o,!1)}),Y(e,n)}),I(n),Y(e,n)},o=e=>{var n=Ar(),r=Xt(n),i=e=>{Y(e,UA())},a=e=>{var n=kr();U(e=>jr(n,e),[()=>(W(t),G(()=>c(W(t))))]),Y(e,n)};X(r,e=>{K(hx),W(t),G(()=>hx(W(t)))?e(i):e(a,!1)},!0),Y(e,n)};X(i,e=>{K(bx),W(t),G(()=>bx(W(t)))?e(a):e(o,!1)},!0),Y(e,n)};X(i,e=>{K(vx),W(t),G(()=>vx(W(t)))?e(a):e(o,!1)},!0),Y(e,n)};X(i,e=>{K(_x),W(t),G(()=>_x(W(t)))?e(a):e(o,!1)}),Y(e,n)}),I(n),Y(e,n)},o=e=>{var n=Ar(),r=Xt(n),i=e=>{Y(e,GA())},a=e=>{var n=kr();U(e=>jr(n,e),[()=>(W(t),G(()=>c(W(t))))]),Y(e,n)};X(r,e=>{K(hx),W(t),G(()=>hx(W(t)))?e(i):e(a,!1)},!0),Y(e,n)};X(i,e=>{K(yx),W(t),G(()=>yx(W(t)))?e(a):e(o,!1)},!0),Y(e,n)};X(i,e=>{K(vx),W(t),G(()=>vx(W(t)))?e(a):e(o,!1)},!0),Y(e,n)};X(i,e=>{K(_x),W(t),G(()=>_x(W(t)))?e(a):e(o,!1)}),Y(e,n)});var d=V(u,2),f=e=>{var t=KA(),n=B(t),r=B(n);bb(B(r),{get data(){return db}}),I(r);var a=V(r,2),o=B(a,!0);I(a),I(n),I(t),U(()=>jr(o,i())),Y(e,t)};X(d,e=>{i()&&e(f)}),I(l),Ni(l,e=>z(a,e),()=>W(a)),q(`keydown`,l,s),Y(e,l),ze()}function YA({json:e,documentState:t,selection:n,readOnly:r,onEditKey:i,onEditValue:a,onToggleEnforceString:o,onCut:s,onCopy:c,onPaste:l,onRemove:u,onDuplicate:d,onExtract:f,onInsertBefore:p,onInsert:m,onConvert:h,onInsertAfter:g,onSort:_,onTransform:v}){let y=e!==void 0,b=!!n,x=n?u_(pC(n)):!1,S=n?Sa(e,pC(n)):void 0,C=Array.isArray(S)?`Edit array`:Vo(S)?`Edit object`:`Edit value`,w=y&&(DS(n)||TS(n)||ES(n)),T=n&&!x?Sa(e,a_(pC(n))):void 0,ee=!r&&y&&KS(n)&&!x&&!Array.isArray(T),te=!r&&y&&n!==void 0&&KS(n),E=te&&!Ho(S),ne=!r&&w,re=w,ie=!r&&b,ae=!r&&y&&w&&!x,D=!r&&y&&n!==void 0&&(DS(n)||ES(n))&&!x,oe=w,O=oe?`Convert to:`:`Insert:`,se=!r&&(wS(n)&&Array.isArray(S)||CS(n)&&Array.isArray(T)),ce=!r&&(oe?sC(n)&&!Vo(S):b),le=!r&&(oe?sC(n)&&!Array.isArray(S):b),ue=!r&&(oe?sC(n)&&Ho(S):b),de=n===void 0?!1:dS(e,t,pC(n));function fe(e){w?e!==`structure`&&h(e):m(e)}return[{type:`row`,items:[{type:`button`,onClick:()=>i(),icon:Hw,text:`Edit key`,title:`Edit the key (Double-click on the key)`,disabled:!ee},{type:`dropdown-button`,main:{type:`button`,onClick:()=>a(),icon:Hw,text:C,title:`Edit the value (Double-click on the value)`,disabled:!te},width:`11em`,items:[{type:`button`,icon:Hw,text:C,title:`Edit the value (Double-click on the value)`,onClick:()=>a(),disabled:!te},{type:`button`,icon:de?Aw:nT,text:`Enforce string`,title:`Enforce keeping the value as string when it contains a numeric value`,onClick:()=>o(),disabled:!E}]}]},{type:`separator`},{type:`row`,items:[{type:`dropdown-button`,main:{type:`button`,onClick:()=>s(!0),icon:qw,text:`Cut`,title:`Cut selected contents, formatted with indentation (Ctrl+X)`,disabled:!ne},width:`10em`,items:[{type:`button`,icon:qw,text:`Cut formatted`,title:`Cut selected contents, formatted with indentation (Ctrl+X)`,onClick:()=>s(!0),disabled:!ne},{type:`button`,icon:qw,text:`Cut compacted`,title:`Cut selected contents, without indentation (Ctrl+Shift+X)`,onClick:()=>s(!1),disabled:!ne}]},{type:`dropdown-button`,main:{type:`button`,onClick:()=>c(!0),icon:Qw,text:`Copy`,title:`Copy selected contents, formatted with indentation (Ctrl+C)`,disabled:!re},width:`12em`,items:[{type:`button`,icon:Qw,text:`Copy formatted`,title:`Copy selected contents, formatted with indentation (Ctrl+C)`,onClick:()=>c(!0),disabled:!re},{type:`button`,icon:Qw,text:`Copy compacted`,title:`Copy selected contents, without indentation (Ctrl+Shift+C)`,onClick:()=>c(!1),disabled:!re}]},{type:`button`,onClick:()=>l(),icon:_w,text:`Paste`,title:`Paste clipboard contents (Ctrl+V)`,disabled:!ie}]},{type:`separator`},{type:`row`,items:[{type:`column`,items:[{type:`button`,onClick:()=>d(),icon:kw,text:`Duplicate`,title:`Duplicate selected contents (Ctrl+D)`,disabled:!ae},{type:`button`,onClick:()=>f(),icon:vw,text:`Extract`,title:`Extract selected contents`,disabled:!D},{type:`button`,onClick:()=>_(),icon:Gw,text:`Sort`,title:`Sort array or object contents`,disabled:r||!w},{type:`button`,onClick:()=>v(),icon:yw,text:`Transform`,title:`Transform array or object contents (filter, sort, project)`,disabled:r||!w},{type:`button`,onClick:()=>u(),icon:Lw,text:`Remove`,title:`Remove selected contents (Delete)`,disabled:r||!w}]},{type:`column`,items:[{type:`label`,text:O},{type:`button`,onClick:()=>fe(`structure`),icon:oe?Jw:Zw,text:`Structure`,title:O+` structure like the first item in the array`,disabled:!se},{type:`button`,onClick:()=>fe(`object`),icon:oe?Jw:Zw,text:`Object`,title:O+` object`,disabled:!ce},{type:`button`,onClick:()=>fe(`array`),icon:oe?Jw:Zw,text:`Array`,title:O+` array`,disabled:!le},{type:`button`,onClick:()=>fe(`value`),icon:oe?Jw:Zw,text:`Value`,title:O+` value`,disabled:!ue}]}]},{type:`separator`},{type:`row`,items:[{type:`button`,onClick:()=>p(),icon:jw,text:`Insert before`,title:`Select area before current entry to insert or paste contents`,disabled:r||!w||x},{type:`button`,onClick:()=>g(),icon:bw,text:`Insert after`,title:`Select area after current entry to insert or paste contents`,disabled:r||!w||x}]}]}var XA=J(`<!> <!>`,1),ZA=J(`<div class="jse-search-box-background svelte-8301w6"></div>`),QA=J(`<div class="jse-search-box-container svelte-8301w6"><!></div> <div class="jse-contents svelte-8301w6"><!> <!></div> <!> <!> <!> <!>`,1),$A=J(`<label class="jse-hidden-input-label svelte-8301w6"><input type="text" tabindex="-1" class="jse-hidden-input svelte-8301w6"/></label> <!>`,1),ej=J(`<div class="jse-contents svelte-8301w6"><div class="jse-loading-space svelte-8301w6"></div> <div class="jse-loading svelte-8301w6">loading...</div></div>`),tj=J(`<div role="tree" tabindex="-1"><!> <!> <!></div> <!> <!>`,1);function nj(e,t){Re(t,!1);let n=R(void 0,!0),r=$i(`jsoneditor:TreeMode`),i=typeof window>`u`;r(`isSSR:`,i);let a=W_(),o=W_(),{openAbsolutePopup:s,closeAbsolutePopup:c}=Ie(`absolute-popup`),l=R(void 0,!0),u=R(void 0,!0),d=R(void 0,!0),f=!1,p=zD(),m=Z(t,`readOnly`,9),h=Z(t,`externalContent`,9),g=Z(t,`externalSelection`,9),_=Z(t,`history`,9),v=Z(t,`truncateTextSize`,9),y=Z(t,`mainMenuBar`,9),b=Z(t,`navigationBar`,9),x=Z(t,`escapeControlCharacters`,9),S=Z(t,`escapeUnicodeCharacters`,9),C=Z(t,`parser`,9),w=Z(t,`parseMemoizeOne`,9),T=Z(t,`validator`,9),ee=Z(t,`validationParser`,9),te=Z(t,`pathParser`,9),E=Z(t,`indentation`,9),ne=Z(t,`onError`,9),re=Z(t,`onChange`,9),ie=Z(t,`onChangeMode`,9),ae=Z(t,`onSelect`,9),D=Z(t,`onUndo`,9),oe=Z(t,`onRedo`,9),O=Z(t,`onRenderValue`,9),se=Z(t,`onRenderMenu`,9),ce=Z(t,`onRenderContextMenu`,9),le=Z(t,`onClassName`,9),ue=Z(t,`onFocus`,9),de=Z(t,`onBlur`,9),fe=Z(t,`onSortModal`,9),pe=Z(t,`onTransformModal`,9),me=Z(t,`onJSONEditorModal`,9),k=!1,he=R(!1,!0),ge=R(void 0,!0);YD({onMount:qi,onDestroy:Ji,getWindow:()=>ey(W(d)),hasFocus:()=>k&&document.hasFocus()||ty(W(d)),onFocus:()=>{f=!0,ue()&&ue()()},onBlur:()=>{f=!1,de()&&de()()}});let A=R(void 0,!0),j=R(void 0,!0),_e,ve=!1,M=R(Fx({json:W(A)}),!0),N=R(kS(g())?g():void 0,!0);qi(()=>{if(W(N)){let e=pC(W(N));z(M,Kx(W(A),W(M),e,SS)),setTimeout(()=>Nt(e))}});function ye(e){z(N,e)}function be(e){f_(e,g())||(r(`onSelect`,e),ae()(e))}let xe=R(void 0,!0),Se=R(void 0,!0),Ce=R(void 0,!0),P,we=R(void 0,!0),F=R(!1,!0),Te=R(!1,!0);function Ee(e){W(l)&&e&&W(l).scrollTop===0&&(Mt(l,W(l).style.overflowAnchor=`none`),Mt(l,W(l).scrollTop+=100),setTimeout(()=>{W(l)&&Mt(l,W(l).style.overflowAnchor=``)}))}function De(e){P=e,z(we,P?tw(W(A),P.items):void 0)}async function Oe(e,t){z(M,Kx(W(A),W(M),e,SS)),await kt(e,{element:jt(t)})}function ke(){z(F,!1),z(Te,!1),an()}function Ae(e){r(`select validation error`,e),z(N,QS(e.path)),kt(e.path)}function je(e,t=bS){r(`expand`),z(M,Kx(W(A),W(M),e,t))}function Me(e,t){z(M,Jx(W(A),W(M),e,t)),W(N)&&IS(W(N),e)&&z(N,void 0)}let Ne=R(!1,!0),Pe=R([],!0),L=R(void 0,!0),Fe=Xk(GD);function Le(e,t,n,i){BD(()=>{let a;try{a=Fe(e,t,n,i)}catch(e){a=[{path:[],message:`Failed to validate: `+e.message,severity:Av.warning}]}f_(a,W(Pe))||(r(`validationErrors changed:`,a),z(Pe,a),z(L,WD(e,W(Pe))))},e=>r(`validationErrors updated in ${e} ms`))}function Be(){return r(`validate`),_e?{parseError:_e,isRepairable:!1}:(Le(W(A),T(),C(),ee()),u_(W(Pe))?void 0:{validationErrors:W(Pe)})}function Ve(){return W(A)}function He(){return W(M)}function Ue(){return W(N)}function We(e){r(`applyExternalContent`,{updatedContent:e}),hv(e)?Ge(e.json):mv(e)&&Ke(e.text)}function Ge(e){if(e===void 0)return;let t=!f_(W(A),e);if(r(`update external json`,{isChanged:t,currentlyText:W(A)===void 0}),!t)return;let n={documentState:W(M),selection:W(N),json:W(A),text:W(j),textIsRepaired:W(Ne)};z(A,e),z(M,Vx(e,W(M))),Je(W(A)),z(j,void 0),z(Ne,!1),_e=void 0,Ye(W(A)),Xe(n)}function Ke(e){if(e===void 0||hv(h()))return;let t=e!==W(j);if(r(`update external text`,{isChanged:t}),!t)return;let n={documentState:W(M),selection:W(N),json:W(A),text:W(j),textIsRepaired:W(Ne)};try{z(A,w()(e)),z(M,Vx(W(A),W(M))),Je(W(A)),z(j,e),z(Ne,!1),_e=void 0}catch(t){try{z(A,w()(Io(e))),z(M,Vx(W(A),W(M))),Je(W(A)),z(j,e),z(Ne,!0),_e=void 0,Ye(W(A))}catch{z(A,void 0),z(M,void 0),z(j,h().text),z(Ne,!1),_e=W(j)!==void 0&&W(j)!==``?cv(W(j),t.message||String(t)):void 0}}Ye(W(A)),Xe(n)}function qe(e){f_(W(N),e)||(r(`applyExternalSelection`,{selection:W(N),externalSelection:e}),kS(e)&&z(N,e))}function Je(e){ve||(ve=!0,z(M,_S(e,W(M),[])))}function Ye(e){W(N)&&(Oa(e,mC(W(N)))&&Oa(e,pC(W(N)))||(r(`clearing selection: path does not exist anymore`,W(N)),z(N,US(e,W(M)))))}function Xe(e){if(e.json===void 0&&e.text===void 0)return;let t=W(A)!==void 0&&e.json!==void 0;_().add({type:`tree`,undo:{patch:t?[{op:`replace`,path:``,value:e.json}]:void 0,json:e.json,text:e.text,documentState:e.documentState,textIsRepaired:e.textIsRepaired,selection:YS(e.selection),sortedColumn:void 0},redo:{patch:t?[{op:`replace`,path:``,value:W(A)}]:void 0,json:W(A),text:W(j),documentState:W(M),textIsRepaired:W(Ne),selection:YS(W(N)),sortedColumn:void 0}})}function Ze(){r(`createDefaultSelection`),z(N,QS([]))}function Qe(e,t){if(r(`patch`,e,t),W(A)===void 0)throw Error(`Cannot apply patch: no JSON`);let n=W(A),i={json:void 0,text:W(j),documentState:W(M),selection:YS(W(N)),textIsRepaired:W(Ne),sortedColumn:void 0},a=NC(W(A),e),o=Qx(W(A),W(M),e),s=WS(W(A),e)??W(N),c=typeof t==`function`?t(o.json,o.documentState,s):void 0;return z(A,c?.json===void 0?o.json:c.json),z(M,c?.state===void 0?o.documentState:c.state),z(N,c?.selection===void 0?s:c.selection),z(j,void 0),z(Ne,!1),z(Se,void 0),z(Ce,void 0),_e=void 0,Ye(W(A)),_().add({type:`tree`,undo:{patch:a,...i},redo:{patch:e,json:void 0,text:W(j),documentState:W(M),selection:YS(W(N)),sortedColumn:void 0,textIsRepaired:W(Ne)}}),{json:W(A),previousJson:n,undo:a,redo:e}}function $e(){m()||!W(N)||z(N,ZS(pC(W(N))))}function et(){if(m()||!W(N))return;let e=pC(W(N)),t=Sa(W(A),e);Ho(t)?Ot(e,t):z(N,$S(e))}function tt(){if(m()||!ES(W(N)))return;let e=pC(W(N)),t=Aa(e),n=Sa(W(A),e),i=!dS(W(A),W(M),e),a=i?String(n):Zo(String(n),C());r(`handleToggleEnforceString`,{enforceString:i,value:n,updatedValue:a}),Ft([{op:`replace`,path:t,value:a}],(t,n)=>({state:rS(W(A),n,e,{type:`value`,enforceString:i})}))}function nt(){return W(Ne)&&W(A)!==void 0&&It(W(A)),W(A)===void 0?{text:W(j)||``}:{json:W(A)}}async function rt(e=!0){await yA({json:W(A),selection:W(N),indentation:e?E():void 0,readOnly:m(),parser:C(),onPatch:Ft})}async function at(e=!0){W(A)!==void 0&&await bA({json:W(A),selection:W(N),indentation:e?E():void 0,parser:C()})}function ot(e){e.preventDefault();let t=e.clipboardData?.getData(`text/plain`);ct(t)}async function st(){try{ct(await navigator.clipboard.readText())}catch(e){console.error(e),z(he,!0)}}function ct(e){e!==void 0&&xA({clipboardText:e,json:W(A),selection:W(N),readOnly:m(),parser:C(),onPatch:Ft,onChangeText:Lt,onPasteMultilineText:Gt,openRepairModal:lt})}function lt(e,t){z(ge,{text:e,onParse:e=>av(e,e=>rv(e,C())),onRepair:ov,onApply:t,onClose:an})}function ut(){CA({json:W(A),text:W(j),selection:W(N),keepSelection:!1,readOnly:m(),onChange:re(),onPatch:Ft})}function dt(){m()||W(A)===void 0||!W(N)||!oC||u_(pC(W(N)))||(r(`duplicate`,{selection:W(N)}),Ft(wC(W(A),jS(W(A),W(N)))))}function ft(){m()||!W(N)||!DS(W(N))&&!ES(W(N))||u_(pC(W(N)))||(r(`extract`,{selection:W(N)}),Ft(TC(W(A),W(N)),(e,t)=>{if(Ho(e))return{state:vS(e,t,[])}}))}function pt(e){OA({insertType:e,selectInside:!0,initialValue:void 0,json:W(A),selection:W(N),readOnly:m(),parser:C(),onPatch:Ft,onReplaceJson:It})}function mt(e){TS(W(N))&&z(N,QS(W(N).path)),W(N)||z(N,US(W(A),W(M))),pt(e)}function ht(e){if(!(m()||!W(N))){if(!sC(W(N))){ne()(Error(`Cannot convert current selection to ${e}`));return}try{let t=mC(W(N)),n=Sa(W(A),t),i=fv(n,e,C());if(i===n)return;let a=[{op:`replace`,path:Aa(t),value:i}];r(`handleConvert`,{selection:W(N),path:t,type:e,operations:a}),Ft(a,(e,t)=>({state:W(N)?_S(e,t,pC(W(N))):W(M)}))}catch(e){ne()(e)}}}function gt(){if(!W(N))return;let e=LS(W(A),W(M),W(N),!1),t=a_(pC(W(N)));e&&!u_(pC(e))&&f_(t,a_(pC(e)))?z(N,tC(pC(e))):z(N,eC(t)),r(`insert before`,{selection:W(N),selectionBefore:e,parentPath:t}),it(),Yt()}function _t(){if(!W(N))return;let e=FS(W(A),W(N));r(`insert after`,e),z(N,tC(e)),it(),Yt()}async function vt(e){await kA({char:e,selectInside:!0,json:W(A),selection:W(N),readOnly:m(),parser:C(),onPatch:Ft,onReplaceJson:It,onSelect:ye})}function yt(){if(m()||!_().canUndo)return;let e=_().undo();if(!jx(e)){D()(e);return}let t={json:W(A),text:W(j)};z(A,e.undo.patch?Na(W(A),e.undo.patch):e.undo.json),z(M,e.undo.documentState),z(N,e.undo.selection),z(j,e.undo.text),z(Ne,e.undo.textIsRepaired),_e=void 0,r(`undo`,{item:e,json:W(A),documentState:W(M),selection:W(N)}),Pt(t,e.undo.patch&&e.redo.patch?{json:W(A),previousJson:t.json,redo:e.undo.patch,undo:e.redo.patch}:void 0),an(),W(N)&&kt(pC(W(N)),{scrollToWhenVisible:!1})}function bt(){if(m()||!_().canRedo)return;let e=_().redo();if(!jx(e)){oe()(e);return}let t={json:W(A),text:W(j)};z(A,e.redo.patch?Na(W(A),e.redo.patch):e.redo.json),z(M,e.redo.documentState),z(N,e.redo.selection),z(j,e.redo.text),z(Ne,e.redo.textIsRepaired),_e=void 0,r(`redo`,{item:e,json:W(A),documentState:W(M),selection:W(N)}),Pt(t,e.undo.patch&&e.redo.patch?{json:W(A),previousJson:t.json,redo:e.redo.patch,undo:e.undo.patch}:void 0),an(),W(N)&&kt(pC(W(N)),{scrollToWhenVisible:!1})}function xt(e){m()||W(A)===void 0||(k=!0,fe()({id:a,json:W(A),rootPath:e,onSort:async({operations:t})=>{r(`onSort`,e,t),Ft(t,(t,n)=>({state:vS(t,n,e),selection:QS(e)}))},onClose:()=>{k=!1,setTimeout(an)}}))}function Ct(){W(N)&&xt(qS(W(A),W(N)))}function wt(){xt([])}function Tt(e){if(W(A)===void 0)return;let{id:t,onTransform:n,onClose:i}=e,a=e.rootPath||[];k=!0,pe()({id:t||o,json:W(A),rootPath:a,onTransform:e=>{n?n({operations:e,json:W(A),transformedJson:Na(W(A),e)}):(r(`onTransform`,a,e),Ft(e,(e,t)=>({state:vS(e,t,a),selection:QS(a)})))},onClose:()=>{k=!1,setTimeout(an),i&&i()}})}function Et(){W(N)&&Tt({rootPath:qS(W(A),W(N))})}function Dt(){Tt({rootPath:[]})}function Ot(e,t){r(`openJSONEditorModal`,{path:e,value:t}),k=!0,me()({content:{json:t},path:e,onPatch:W(un).onPatch,onClose:()=>{k=!1,setTimeout(an)}})}async function kt(e,{scrollToWhenVisible:t=!0,element:n}={}){z(M,Kx(W(A),W(M),e,SS));let i=n??At(e);if(r(`scrollTo`,{path:e,elem:i,refContents:W(l)}),!i||!W(l))return Promise.resolve();let a=W(l).getBoundingClientRect(),o=i.getBoundingClientRect();if(!t&&o.bottom>a.top&&o.top<a.bottom)return Promise.resolve();let s=-(a.height/4);return new Promise(e=>{p(i,{container:W(l),offset:s,duration:300,callback:()=>e()})})}function At(e){return it(),W(l)?.querySelector(`div[data-path="${iy(e)}"]`)??void 0}function jt(e){return it(),W(l)?.querySelector(`span[data-search-result-index="${e}"]`)??void 0}function Nt(e){let t=At(e);if(!t||!W(l))return;let n=W(l).getBoundingClientRect(),r=t.getBoundingClientRect(),i=Ho(Sa(W(A),e))?20:r.height;r.top<n.top+20?p(t,{container:W(l),offset:-20,duration:0}):r.top+i>n.bottom-20&&p(t,{container:W(l),offset:-(n.height-i-20),duration:0})}function Pt(e,t){if(!(e.json===void 0&&e?.text===void 0)){if(W(j)!==void 0){let n={text:W(j),json:void 0};re()?.(n,e,{contentErrors:Be(),patchResult:t})}else if(W(A)!==void 0){let n={text:void 0,json:W(A)};re()?.(n,e,{contentErrors:Be(),patchResult:t})}}}function Ft(e,t){r(`handlePatch`,e,t);let n={json:W(A),text:W(j)},i=Qe(e,t);return Pt(n,i),i}function It(e,t){let n={json:W(A),text:W(j)},r={documentState:W(M),selection:W(N),json:W(A),text:W(j),textIsRepaired:W(Ne)},i=Kx(W(A),Vx(e,W(M)),[],yS),a=typeof t==`function`?t(e,i,W(N)):void 0;z(A,a?.json===void 0?e:a.json),z(M,a?.state===void 0?i:a.state),z(N,a?.selection===void 0?W(N):a.selection),z(j,void 0),z(Ne,!1),_e=void 0,Ye(W(A)),Xe(r),Pt(n,void 0)}function Lt(e,t){r(`handleChangeText`);let n={json:W(A),text:W(j)},i={documentState:W(M),selection:W(N),json:W(A),text:W(j),textIsRepaired:W(Ne)};try{z(A,w()(e)),z(M,Kx(W(A),Vx(W(A),W(M)),[],yS)),z(j,void 0),z(Ne,!1),_e=void 0}catch(t){try{z(A,w()(Io(e))),z(M,Kx(W(A),Vx(W(A),W(M)),[],yS)),z(j,e),z(Ne,!0),_e=void 0}catch{z(A,void 0),z(M,Fx({json:W(A),expand:yS})),z(j,e),z(Ne,!1),_e=W(j)===``?void 0:cv(W(j),t.message||String(t))}}if(typeof t==`function`){let e=t(W(A),W(M),W(N));z(A,e?.json===void 0?W(A):e.json),z(M,e?.state===void 0?W(M):e.state),z(N,e?.selection===void 0?W(N):e.selection)}Ye(W(A)),Xe(i),Pt(n,void 0)}function Rt(e,t,n=!1){r(`handleExpand`,{path:e,expanded:t,recursive:n}),t?je(e,n?xS:bS):Me(e,n),an()}function zt(){Rt([],!0,!0)}function Bt(){Rt([],!1,!0)}function Ht(e){r(`openFind`,{findAndReplace:e}),z(F,!1),z(Te,!1),it(),z(F,!0),z(Te,e)}function Ut(e,t){r(`handleExpandSection`,e,t),z(M,Zx(W(A),W(M),e,t))}function Wt(e){r(`pasted json as text`,e),z(Se,e)}function Gt(e){r(`pasted multiline text`,{pastedText:e}),z(Ce,e)}function Kt(e){let t=ly(e),n=e.shiftKey;if(r(`keydown`,{combo:t,key:e.key}),t===`Ctrl+X`&&(e.preventDefault(),rt(!0)),t===`Ctrl+Shift+X`&&(e.preventDefault(),rt(!1)),t===`Ctrl+C`&&(e.preventDefault(),at(!0)),t===`Ctrl+Shift+C`&&(e.preventDefault(),at(!1)),t===`Ctrl+D`&&(e.preventDefault(),dt()),(t===`Delete`||t===`Backspace`)&&(e.preventDefault(),ut()),t===`Insert`&&(e.preventDefault(),pt(`structure`)),t===`Ctrl+A`&&(e.preventDefault(),z(N,aC())),t===`Ctrl+Q`&&Yt(e),t===`ArrowUp`||t===`Shift+ArrowUp`){e.preventDefault();let t=W(N)?LS(W(A),W(M),W(N),n)||W(N):US(W(A),W(M));z(N,t),Nt(pC(t))}if(t===`ArrowDown`||t===`Shift+ArrowDown`){e.preventDefault();let t=W(N)?RS(W(A),W(M),W(N),n)||W(N):US(W(A),W(M));z(N,t),Nt(pC(t))}if(t===`ArrowLeft`||t===`Shift+ArrowLeft`){e.preventDefault();let t=W(N)?VS(W(A),W(M),W(N),n,!m())||W(N):US(W(A),W(M));z(N,t),Nt(pC(t))}if(t===`ArrowRight`||t===`Shift+ArrowRight`){e.preventDefault();let t=W(N)&&W(A)!==void 0?HS(W(A),W(M),W(N),n,!m())||W(N):US(W(A),W(M));z(N,t),Nt(pC(t))}if(t===`Enter`&&W(N)){if(OS(W(N))){let t=W(N).focusPath,n=Sa(W(A),a_(t));Array.isArray(n)&&(e.preventDefault(),z(N,QS(t)))}TS(W(N))&&(e.preventDefault(),z(N,{...W(N),edit:!0})),ES(W(N))&&(e.preventDefault(),Ho(Sa(W(A),W(N).path))?Rt(W(N).path,!0):z(N,{...W(N),edit:!0}))}if(t.replace(/^Shift\+/,``).length===1&&W(N)){e.preventDefault(),vt(e.key);return}if(t===`Enter`&&(CS(W(N))||wS(W(N)))){e.preventDefault(),vt(``);return}if(t===`Ctrl+Enter`&&ES(W(N))){let e=Sa(W(A),W(N).path);Xo(e)&&window.open(String(e),`_blank`)}t===`Escape`&&W(N)&&(e.preventDefault(),z(N,void 0)),t===`Ctrl+F`&&(e.preventDefault(),Ht(!1)),t===`Ctrl+H`&&(e.preventDefault(),Ht(!0)),t===`Ctrl+Z`&&(e.preventDefault(),yt()),t===`Ctrl+Shift+Z`&&(e.preventDefault(),bt())}function qt(e){r(`handleMouseDown`,e);let t=e.target;!qv(t,`BUTTON`)&&!t.isContentEditable&&(an(),!W(N)&&W(A)===void 0&&(W(j)===``||W(j)===void 0)&&Ze())}function Jt({anchor:e,left:t,top:n,width:r,height:i,offsetTop:a,offsetLeft:o,showTip:l}){let u=YA({json:W(A),documentState:W(M),selection:W(N),readOnly:m(),onEditKey:$e,onEditValue:et,onToggleEnforceString:tt,onCut:rt,onCopy:at,onPaste:st,onRemove:ut,onDuplicate:dt,onExtract:ft,onInsertBefore:gt,onInsert:mt,onInsertAfter:_t,onConvert:ht,onSort:Ct,onTransform:Et}),d=ce()(u)??u;if(d===!1)return;let f={tip:l?`Tip: you can open this context menu via right-click or with Ctrl+Q`:void 0,items:d,onRequestClose:()=>c(h)},p={left:t,top:n,offsetTop:a,offsetLeft:o,width:r,height:i,anchor:e,closeOnOuterClick:!0,onClose:()=>{k=!1,an()}};k=!0;let h=s(JA,f,p)}function Yt(e){if(!iC(W(N)))if(e&&(e.stopPropagation(),e.preventDefault()),e&&e.type===`contextmenu`&&e.target!==W(u))Jt({left:e.clientX,top:e.clientY,width:260,height:336,showTip:!1});else{let e=W(l)?.querySelector(`.jse-context-menu-pointer.jse-selected`);if(e)Jt({anchor:e,offsetTop:2,width:260,height:336,showTip:!1});else{let e=W(l)?.getBoundingClientRect();e&&Jt({top:e.top+2,left:e.left+2,width:260,height:336,showTip:!1})}}}function Zt(e){Jt({anchor:ny(e.target,`BUTTON`),offsetTop:0,width:260,height:336,showTip:!0})}async function Qt(){if(r(`apply pasted json`,W(Se)),!W(Se))return;let{onPasteAsJson:e}=W(Se);z(Se,void 0),e(),setTimeout(an)}async function $t(){r(`apply pasted multiline text`,W(Ce)),W(Ce)&&(ct(JSON.stringify(W(Ce))),setTimeout(an))}function en(){r(`clear pasted json`),z(Se,void 0),an()}function tn(){r(`clear pasted multiline text`),z(Ce,void 0),an()}function nn(){ie()(Dv.text)}function rn(e){z(N,e),an(),kt(pC(e))}function an(){r(`focus`),W(u)&&(W(u).focus(),W(u).select())}function on(e){Zv(e.target,e=>e===W(d))||iC(W(N))&&(r(`click outside the editor, exit edit mode`),z(N,YS(W(N))),f&&W(u)&&(W(u).focus(),W(u).blur()),r(`blur (outside editor)`),W(u)&&W(u).blur())}function sn(e){return zS(W(A),W(M),e)}function cn(e){W(n)&&W(n).onDrag(e)}function ln(){W(n)&&W(n).onDragEnd()}let un=R(void 0,!0);H(()=>W(N),()=>{be(W(N))}),H(()=>(K(x()),K(S())),()=>{z(xe,Pv({escapeControlCharacters:x(),escapeUnicodeCharacters:S()}))}),H(()=>W(F),()=>{Ee(W(F))}),H(()=>K(h()),()=>{We(h())}),H(()=>K(g()),()=>{qe(g())}),H(()=>(W(A),K(T()),K(C()),K(ee())),()=>{Le(W(A),T(),C(),ee())}),H(()=>(W(l),LD),()=>{z(n,W(l)?LD(W(l)):void 0)}),H(()=>(K(m()),K(v()),K(C()),W(xe),K(O()),K(le())),()=>{z(un,{mode:Dv.tree,readOnly:m(),truncateTextSize:v(),parser:C(),normalization:W(xe),getJson:Ve,getDocumentState:He,getSelection:Ue,findElement:At,findNextInside:sn,focus:an,onPatch:Ft,onInsert:pt,onExpand:Rt,onSelect:ye,onFind:Ht,onExpandSection:Ut,onPasteJson:Wt,onRenderValue:O(),onContextMenu:Jt,onClassName:le()||(()=>void 0),onDrag:cn,onDragEnd:ln})}),H(()=>W(un),()=>{r(`context changed`,W(un))}),gn();var dn={expand:je,collapse:Me,validate:Be,getJson:Ve,patch:Qe,acceptAutoRepair:nt,openTransformModal:Tt,scrollTo:kt,findElement:At,findSearchResult:jt,focus:an};Li(!0);var fn=tj();q(`mousedown`,Vt,on);var pn=Xt(fn);let mn;var hn=B(pn),_n=e=>{vk(e,{get json(){return W(A)},get selection(){return W(N)},get readOnly(){return m()},get history(){return _()},onExpandAll:zt,onCollapseAll:Bt,onUndo:yt,onRedo:bt,onSort:wt,onTransform:Dt,onContextMenu:Zt,onCopy:at,get onRenderMenu(){return se()},get showSearch(){return W(F)},set showSearch(e){z(F,e)},$$legacy:!0})};X(hn,e=>{y()&&e(_n)});var vn=V(hn,2),yn=e=>{Hk(e,{get json(){return W(A)},get selection(){return W(N)},onSelect:rn,get onError(){return ne()},get pathParser(){return te()}})};X(vn,e=>{b()&&e(yn)});var bn=V(vn,2),xn=e=>{var t=$A(),n=Xt(t),r=B(n);r.readOnly=!0,Ni(r,e=>z(u,e),()=>W(u)),I(n);var i=V(n,2),a=e=>{var t=Ar(),n=Xt(t),r=e=>{xk(e,{get readOnly(){return m()},onCreateObject:()=>{an(),vt(`{`)},onCreateArray:()=>{an(),vt(`[`)},onClick:()=>{an()}})},i=e=>{var t=XA(),n=Xt(t);{let e=St(()=>m()?[]:[{icon:Mw,text:`Repair manually`,title:`Open the document in "code" mode and repair it manually`,onClick:nn}]);QD(n,{type:`error`,message:`The loaded JSON document is invalid and could not be repaired automatically.`,get actions(){return W(e)}})}MA(V(n,2),{get text(){return W(j)},get json(){return W(A)},get indentation(){return E()},get parser(){return C()}}),Y(e,t)};X(n,e=>{W(j)===``||W(j)===void 0?e(r):e(i,!1)}),Y(e,t)},o=e=>{var t=QA(),n=Xt(t);Kk(B(n),{get json(){return W(A)},get documentState(){return W(M)},get parser(){return C()},get showSearch(){return W(F)},get showReplace(){return W(Te)},get readOnly(){return m()},columns:void 0,onSearch:De,onFocus:Oe,onPatch:Ft,onClose:ke}),I(n);var r=V(n,2);Si(r,`data-jsoneditor-scrollable-contents`,!0);var i=B(r),a=e=>{Y(e,ZA())};X(i,e=>{W(F)&&e(a)}),pk(V(i,2),{get value(){return W(A)},pointer:``,get state(){return W(M)},get validationErrors(){return W(L)},get searchResults(){return W(we)},get selection(){return W(N)},get context(){return W(un)},get onDragSelectionStart(){return jc}}),I(r),Ni(r,e=>z(l,e),()=>W(l));var o=V(r,2),s=e=>{{let t=St(()=>(W(Se),G(()=>`You pasted a JSON ${Array.isArray(W(Se).contents)?`array`:`object`} as text`))),n=St(()=>[{icon:Iw,text:`Paste as JSON instead`,title:`Replace the value with the pasted JSON`,onMouseDown:Qt},{text:`Leave as is`,title:`Keep the JSON embedded in the value`,onClick:en}]);QD(e,{type:`info`,get message(){return W(t)},get actions(){return W(n)}})}};X(o,e=>{W(Se)&&e(s)});var c=V(o,2),u=e=>{{let t=St(()=>[{icon:Iw,text:`Paste as string instead`,title:`Paste the clipboard data as a single string value instead of an array`,onClick:$t},{text:`Leave as is`,title:`Keep the pasted array`,onClick:tn}]);QD(e,{type:`info`,message:`Multiline text was pasted as array`,get actions(){return W(t)}})}};X(c,e=>{W(Ce)&&e(u)});var d=V(c,2),f=e=>{{let t=St(()=>m()?[]:[{icon:Rw,text:`Ok`,title:`Accept the repaired document`,onClick:nt},{icon:Mw,text:`Repair manually instead`,title:`Leave the document unchanged and repair it manually instead`,onClick:nn}]);QD(e,{type:`success`,message:`The loaded JSON document was invalid but is successfully repaired.`,get actions(){return W(t)},onClose:an})}};X(d,e=>{W(Ne)&&e(f)}),aO(V(d,2),{get validationErrors(){return W(Pe)},selectError:Ae}),Y(e,t)};X(i,e=>{W(A)===void 0?e(a):e(o,!1)}),q(`paste`,r,ot),Y(e,t)},Sn=e=>{Y(e,ej())};X(bn,e=>{i?e(Sn,!1):e(xn)}),I(pn),Ni(pn,e=>z(d,e),()=>W(d));var Cn=V(pn,2),wn=e=>{uO(e,{onClose:()=>z(he,!1)})};X(Cn,e=>{W(he)&&e(wn)});var Tn=V(Cn,2),En=e=>{yO(e,Ki(()=>W(ge),{onClose:()=>{W(ge)?.onClose(),z(ge,void 0)}}))};return X(Tn,e=>{W(ge)&&e(En)}),U(()=>mn=li(pn,1,`jse-tree-mode svelte-8301w6`,null,mn,{"no-main-menu":!y()})),q(`keydown`,pn,Kt),q(`mousedown`,pn,qt),q(`contextmenu`,pn,Yt),Y(e,fn),ji(t,`expand`,je),ji(t,`collapse`,Me),ji(t,`validate`,Be),ji(t,`getJson`,Ve),ji(t,`patch`,Qe),ji(t,`acceptAutoRepair`,nt),ji(t,`openTransformModal`,Tt),ji(t,`scrollTo`,kt),ji(t,`findElement`,At),ji(t,`findSearchResult`,jt),ji(t,`focus`,an),ze(dn)}function rj(e){return ij(e)?new Proxy(e,{get(e,t,n){return rj(Reflect.get(e,t,n))},set(){return!1},deleteProperty(){return!1}}):e}function ij(e){return typeof e==`object`&&!!e}var aj=1e3,oj=$i(`jsoneditor:History`);function sj(e={}){let t=e.maxItems||aj,n=[],r=0;function i(){return r<n.length}function a(){return r>0}function o(){return{canUndo:i(),canRedo:a(),items:()=>n.slice().reverse(),add:c,undo:u,redo:d,clear:l}}function s(){e.onChange&&e.onChange(o())}function c(e){oj(`add`,e),n=[e].concat(n.slice(r)).slice(0,t),r=0,s()}function l(){oj(`clear`),n=[],r=0,s()}function u(){if(i()){let e=n[r];return r+=1,oj(`undo`,e),s(),e}}function d(){if(a())return--r,oj(`redo`,n[r]),s(),n[r]}return{get:o}}var cj=zi(()=>lT),lj=zi(()=>uT),uj=J(`<div class="query-error svelte-co0e1w"> </div>`),dj=J(`<!> <!>`,1),fj=J(`<div class="jse-preview jse-error svelte-co0e1w"> </div>`),pj=J(`<!> <div class="jse-modal-contents svelte-co0e1w"><div class="jse-main-contents svelte-co0e1w"><div class="jse-query-contents svelte-co0e1w"><div class="jse-label svelte-co0e1w"><div class="jse-label-inner svelte-co0e1w">Language</div></div> <div class="jse-description svelte-co0e1w"><!></div> <div class="jse-label svelte-co0e1w"><div class="jse-label-inner svelte-co0e1w">Path</div></div> <input class="jse-path svelte-co0e1w" type="text" readonly="" title="Selected path"/> <div class="jse-label svelte-co0e1w"><div class="jse-label-inner svelte-co0e1w"><button type="button" class="svelte-co0e1w"><!> Wizard</button></div></div> <!> <div class="jse-label svelte-co0e1w"><div class="jse-label-inner svelte-co0e1w">Query</div></div> <textarea class="jse-query svelte-co0e1w" spellcheck="false"></textarea></div> <div><div><div class="jse-label svelte-co0e1w"><div class="jse-label-inner svelte-co0e1w"><button type="button" class="svelte-co0e1w"><!> Original</button></div></div> <!></div> <div class="jse-preview-data svelte-co0e1w"><div class="jse-label svelte-co0e1w"><div class="jse-label-inner svelte-co0e1w">Preview</div></div> <!></div></div></div> <div class="jse-actions svelte-co0e1w"><button type="button" class="jse-primary svelte-co0e1w">Transform</button></div></div>`,1),mj=J(`<div class="jse-transform-modal-inner svelte-co0e1w"><!></div>`);function hj(e,t){Re(t,!1);let n=$i(`jsoneditor:TransformModal`),r=Z(t,`id`,25,()=>`transform-modal-`+oa()),i=Z(t,`json`,9),a=Z(t,`rootPath`,25,()=>[]),o=Z(t,`indentation`,9),s=Z(t,`truncateTextSize`,9),c=Z(t,`escapeControlCharacters`,9),l=Z(t,`escapeUnicodeCharacters`,9),u=Z(t,`parser`,9),d=Z(t,`parseMemoizeOne`,9),f=Z(t,`validationParser`,9),p=Z(t,`pathParser`,9),m=Z(t,`queryLanguages`,9),h=Z(t,`queryLanguageId`,13),g=Z(t,`onChangeQueryLanguage`,9),_=Z(t,`onRenderValue`,9),v=Z(t,`onRenderMenu`,9),y=Z(t,`onRenderContextMenu`,9),b=Z(t,`onClassName`,9),x=Z(t,`onTransform`,9),S=Z(t,`onClose`,9),C=R(void 0,!0),w=R(sj({onChange:e=>z(w,e)}).get(),!0),T=R(void 0,!0),ee=R(void 0,!0),te=R(!1,!0),E=`${r()}:${Aa(a())}`,ne=cj()[E]??{},re=R(lj().showWizard!==!1,!0),ie=R(lj().showOriginal!==!1,!0),ae=R(ne.queryOptions??{},!0),D=R(h()===ne.queryLanguageId&&ne.query?ne.query:``,!0),oe=R(ne.isManual??!1,!0),O=R(void 0,!0),se=R(void 0,!0),ce=R({text:``},!0);W(oe)||ue(W(ae)),qi(()=>{W(C)?.focus()});function le(e){return m().find(t=>t.id===e)??m()[0]}function ue(e){try{z(ae,e),z(D,le(h()).createQuery(W(T),e)),z(O,void 0),z(oe,!1),n(`updateQueryByWizard`,{queryOptions:W(ae),query:W(D),isManual:W(oe)})}catch(e){z(O,String(e))}}function de(e){z(D,e.target.value),z(oe,!0),n(`handleChangeQuery`,{query:W(D),isManual:W(oe)})}function fe(e,t){if(e===void 0){z(ce,{text:``}),z(se,`Error: No JSON`);return}if(t.trim()===``){z(ce,{json:e});return}try{n(`previewTransform`,{query:t}),z(ce,{json:le(h()).executeQuery(e,t,u())}),z(se,void 0)}catch(e){z(ce,{text:``}),z(se,String(e))}}let pe=Rg(fe,300);function me(){if(W(T)===void 0){z(ce,{text:``}),z(se,`Error: No JSON`);return}try{n(`handleTransform`,{query:W(D)});let e=le(h()).executeQuery(W(T),W(D),u());x()([{op:`replace`,path:Aa(a()),value:e}]),S()()}catch(e){console.error(e),z(ce,{text:``}),z(se,String(e))}}function k(){z(re,!W(re)),lj(lj().showWizard=W(re))}function he(){z(ie,!W(ie)),lj(lj().showOriginal=W(ie))}function ge(e){e.focus()}function A(e){n(`handleChangeQueryLanguage`,e),h(e),g()(e),ue(W(ae))}function j(){W(te)?z(te,!W(te)):S()()}H(()=>(K(i()),K(a())),()=>{z(T,rj(Sa(i(),a())))}),H(()=>W(T),()=>{z(ee,W(T)?{json:W(T)}:{text:``})}),H(()=>(W(T),W(D)),()=>{pe(W(T),W(D))}),H(()=>(cj(),W(ae),W(D),K(h()),W(oe)),()=>{cj(cj()[E]={queryOptions:W(ae),query:W(D),queryLanguageId:h(),isManual:W(oe)}),n(`store state in memory`,E,cj()[E])}),gn(),Li(!0),cO(e,{get onClose(){return S()},className:`jse-transform-modal`,get fullscreen(){return W(te)},children:(e,t)=>{var n=mj();gy(B(n),{children:(e,t)=>{var n=pj(),r=Xt(n);FD(r,{get queryLanguages(){return m()},get queryLanguageId(){return h()},onChangeQueryLanguage:A,get onClose(){return S()},get fullscreen(){return W(te)},set fullscreen(e){z(te,e)},$$legacy:!0});var i=V(r,2),g=B(i),x=B(g),E=V(B(x),2);qr(B(E),()=>(K(h()),G(()=>le(h()).description))),I(E);var ne=V(E,4);yi(ne);var oe=V(ne,2),fe=B(oe),pe=B(fe),j=B(pe);{let e=St(()=>W(re)?eT:xw);bb(j,{get data(){return W(e)}})}De(),I(pe),I(fe),I(oe);var _e=V(oe,2),ve=e=>{var t=Ar(),n=Xt(t),r=e=>{var t=dj(),n=Xt(t);DD(n,{get queryOptions(){return W(ae)},get json(){return W(T)},onChange:ue});var r=V(n,2),i=e=>{var t=uj(),n=B(t,!0);I(t),U(()=>jr(n,W(O))),Y(e,t)};X(r,e=>{W(O)&&e(i)}),Y(e,t)},i=e=>{Y(e,kr(`(Only available for arrays, not for objects)`))};X(n,e=>{W(T),G(()=>Array.isArray(W(T)))?e(r):e(i,!1)}),Y(e,t)};X(_e,e=>{W(re)&&e(ve)});var M=V(_e,4);en(M),Ni(M,e=>z(C,e),()=>W(C)),I(x);var N=V(x,2);let ye;var be=B(N);let xe;var Se=B(be),Ce=B(Se),P=B(Ce),we=B(P);{let e=St(()=>W(ie)?eT:xw);bb(we,{get data(){return W(e)}})}De(),I(P),I(Ce),I(Se);var F=V(Se,2),Te=e=>{nj(e,{get externalContent(){return W(ee)},externalSelection:void 0,get history(){return W(w)},readOnly:!0,get truncateTextSize(){return s()},mainMenuBar:!1,navigationBar:!1,get indentation(){return o()},get escapeControlCharacters(){return c()},get escapeUnicodeCharacters(){return l()},get parser(){return u()},get parseMemoizeOne(){return d()},get onRenderValue(){return _()},get onRenderMenu(){return v()},get onRenderContextMenu(){return y()},onError:G(()=>console.error),get onChange(){return jc},get onChangeMode(){return jc},get onSelect(){return jc},get onUndo(){return jc},get onRedo(){return jc},get onFocus(){return jc},get onBlur(){return jc},get onSortModal(){return jc},get onTransformModal(){return jc},get onJSONEditorModal(){return jc},get onClassName(){return b()},validator:void 0,get validationParser(){return f()},get pathParser(){return p()}})};X(F,e=>{W(ie)&&e(Te)}),I(be);var Ee=V(be,2),Oe=V(B(Ee),2),ke=e=>{nj(e,{get externalContent(){return W(ce)},externalSelection:void 0,get history(){return W(w)},readOnly:!0,get truncateTextSize(){return s()},mainMenuBar:!1,navigationBar:!1,get indentation(){return o()},get escapeControlCharacters(){return c()},get escapeUnicodeCharacters(){return l()},get parser(){return u()},get parseMemoizeOne(){return d()},get onRenderValue(){return _()},get onRenderMenu(){return v()},get onRenderContextMenu(){return y()},onError:G(()=>console.error),get onChange(){return jc},get onChangeMode(){return jc},get onSelect(){return jc},get onUndo(){return jc},get onRedo(){return jc},get onFocus(){return jc},get onBlur(){return jc},get onSortModal(){return jc},get onTransformModal(){return jc},get onJSONEditorModal(){return jc},get onClassName(){return b()},validator:void 0,get validationParser(){return f()},get pathParser(){return p()}})},Ae=e=>{var t=fj(),n=B(t,!0);I(t),U(()=>jr(n,W(se))),Y(e,t)};X(Oe,e=>{W(se)?e(Ae,!1):e(ke)}),I(Ee),I(N),I(g);var je=V(g,2),Me=B(je);hn(()=>q(`click`,Me,me)),$r(Me,e=>ge?.(e)),I(je),I(i),U(e=>{bi(ne,e),bi(M,W(D)),ye=li(N,1,`jse-data-contents svelte-co0e1w`,null,ye,{"jse-hide-original-data":!W(ie)}),xe=li(be,1,`jse-original-data svelte-co0e1w`,null,xe,{"jse-hide":!W(ie)}),Me.disabled=!!W(se)},[()=>(K(u_),K(a()),K(iT),G(()=>u_(a())?`(document root)`:iT(a())))]),q(`click`,pe,k),q(`input`,M,de),q(`click`,P,he),Y(e,n)},$$slots:{default:!0}}),I(n),$r(n,(e,t)=>oO?.(e,t),()=>j),Y(e,n)},$$slots:{default:!0}}),ze()}function gj(){}var _j=1024,vj=0,yj=class{constructor(e,t){this.from=e,this.to=t}},bj=class{constructor(e={}){this.id=vj++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw Error(`This node type doesn't define a deserialize function`)}),this.combine=e.combine||null}add(e){if(this.perNode)throw RangeError(`Can't add per-node props to node types`);return typeof e!=`function`&&(e=Cj.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}};bj.closedBy=new bj({deserialize:e=>e.split(` `)}),bj.openedBy=new bj({deserialize:e=>e.split(` `)}),bj.group=new bj({deserialize:e=>e.split(` `)}),bj.isolate=new bj({deserialize:e=>{if(e&&e!=`rtl`&&e!=`ltr`&&e!=`auto`)throw RangeError(`Invalid value for isolate: `+e);return e||`auto`}}),bj.contextHash=new bj({perNode:!0}),bj.lookAhead=new bj({perNode:!0}),bj.mounted=new bj({perNode:!0});var xj=class{constructor(e,t,n,r=!1){this.tree=e,this.overlay=t,this.parser=n,this.bracketed=r}static get(e){return e&&e.props&&e.props[bj.mounted.id]}},Sj=Object.create(null),Cj=class e{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(t){let n=t.props&&t.props.length?Object.create(null):Sj,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new e(t.name||``,n,t.id,r);if(t.props){for(let e of t.props)if(Array.isArray(e)||(e=e(i)),e){if(e[0].perNode)throw RangeError(`Can't store a per-node prop on a node type`);n[e[0].id]=e[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e==`string`){if(this.name==e)return!0;let t=this.prop(bj.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(` `))t[r]=e[n];return e=>{for(let n=e.prop(bj.group),r=-1;r<(n?n.length:0);r++){let i=t[r<0?e.name:n[r]];if(i)return i}}}};Cj.none=new Cj(``,Object.create(null),0,8);var wj=class e{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw RangeError(`Node type ids should correspond to array positions when creating a node set`)}extend(...t){let n=[];for(let e of this.types){let r=null;for(let n of t){let t=n(e);if(t){r||=Object.assign({},e.props);let n=t[1],i=t[0];i.combine&&i.id in r&&(n=i.combine(r[i.id],n)),r[i.id]=n}}n.push(r?new Cj(e.name,r,e.id,e.flags):e)}return new e(n)}},Tj=new WeakMap,Ej=new WeakMap,Dj;(function(e){e[e.ExcludeBuffers=1]=`ExcludeBuffers`,e[e.IncludeAnonymous=2]=`IncludeAnonymous`,e[e.IgnoreMounts=4]=`IgnoreMounts`,e[e.IgnoreOverlays=8]=`IgnoreOverlays`,e[e.EnterBracketed=16]=`EnterBracketed`})(Dj||={});var Oj=class e{constructor(e,t,n,r,i){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props[typeof e==`number`?e:e.id]=t}}toString(){let e=xj.get(this);if(e&&!e.overlay)return e.tree.toString();let t=``;for(let e of this.children){let n=e.toString();n&&(t&&(t+=`,`),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?`(`+t+`)`:``):t}cursor(e=0){return new Hj(this.topNode,e)}cursorAt(e,t=0,n=0){let r=new Hj(Tj.get(this)||this.topNode);return r.moveTo(e,t),Tj.set(this,r._tree),r}get topNode(){return new Pj(this,0,0,null)}resolve(e,t=0){let n=Mj(Tj.get(this)||this.topNode,e,t,!1);return Tj.set(this,n),n}resolveInner(e,t=0){let n=Mj(Ej.get(this)||this.topNode,e,t,!0);return Ej.set(this,n),n}resolveStack(e,t=0){return Vj(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:i=this.length}=e,a=e.mode||0,o=(a&Dj.IncludeAnonymous)>0;for(let e=this.cursor(a|Dj.IncludeAnonymous);;){let a=!1;if(e.from<=i&&e.to>=r&&(!o&&e.type.isAnonymous||t(e)!==!1)){if(e.firstChild())continue;a=!0}for(;a&&n&&(o||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(t={}){return this.children.length<=8?this:qj(Cj.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,r)=>new e(this.type,t,n,r,this.propValues),t.makeTree||((t,n,r)=>new e(Cj.none,t,n,r)))}static build(e){return Wj(e)}};Oj.empty=new Oj(Cj.none,[],[],0);var kj=class e{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new e(this.buffer,this.index)}},Aj=class e{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Cj.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(`,`)}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),e+=4,n==e)return i;let a=[];for(;e<n;)a.push(this.childString(e)),e=this.buffer[e+3];return i+`(`+a.join(`,`)+`)`}findChild(e,t,n,r,i){let{buffer:a}=this,o=-1;for(let s=e;s!=t&&!(jj(i,r,a[s+1],a[s+2])&&(o=s,n>0));s=a[s+3]);return o}slice(t,n,r){let i=this.buffer,a=new Uint16Array(n-t),o=0;for(let e=t,s=0;e<n;){a[s++]=i[e++],a[s++]=i[e++]-r;let n=a[s++]=i[e++]-r;a[s++]=i[e++]-t,o=Math.max(o,n)}return new e(a,o,this.set)}};function jj(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function Mj(e,t,n,r){for(;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof Pj&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=r?0:Dj.IgnoreOverlays;if(r)for(let r=e,a=r.parent;a;r=a,a=r.parent)r instanceof Pj&&r.index<0&&a.enter(t,n,i)?.from!=r.from&&(e=a);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}var Nj=class{cursor(e=0){return new Hj(this,e)}getChild(e,t=null,n=null){let r=Fj(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return Fj(this,e,t,n)}resolve(e,t=0){return Mj(this,e,t,!1)}resolveInner(e,t=0){return Mj(this,e,t,!0)}matchContext(e){return Ij(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}},Pj=class e extends Nj{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,n,r,i,a=0){for(let o=this;;){for(let{children:s,positions:c}=o._tree,l=n>0?s.length:-1;t!=l;t+=n){let l=s[t],u=c[t]+o.from;if(!(!(a&Dj.EnterBracketed&&l instanceof Oj&&xj.get(l)?.overlay===null&&(u>=r||u+l.length<=r))&&!jj(i,r,u,u+l.length))){if(l instanceof Aj){if(a&Dj.ExcludeBuffers)continue;let e=l.findChild(0,l.buffer.length,n,r-u,i);if(e>-1)return new Rj(new Lj(o,l,t,u),null,e)}else if(a&Dj.IncludeAnonymous||!l.type.isAnonymous||Uj(l)){let s;if(!(a&Dj.IgnoreMounts)&&(s=xj.get(l))&&!s.overlay)return new e(s.tree,u,t,o);let c=new e(l,u,t,o);return a&Dj.IncludeAnonymous||!c.type.isAnonymous?c:c.nextChild(n<0?l.children.length-1:0,n,r,i,a)}}}if(a&Dj.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+n:n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(t,n,r=0){let i;if(!(r&Dj.IgnoreOverlays)&&(i=xj.get(this._tree))&&i.overlay){let a=t-this.from,o=r&Dj.EnterBracketed&&i.bracketed;for(let{from:t,to:r}of i.overlay)if((n>0||o?t<=a:t<a)&&(n<0||o?r>=a:r>a))return new e(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function Fj(e,t,n,r){let i=e.cursor(),a=[];if(!i.firstChild())return a;if(n!=null){for(let e=!1;!e;)if(e=i.type.is(n),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(t)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function Ij(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}var Lj=class{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}},Rj=class e extends Nj{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(t,n,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return a<0?null:new e(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(t,n,r=0){if(r&Dj.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return a<0?null:new e(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:t}=this.context,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new e(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new e(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let a=n.buffer[this.index+1];e.push(n.slice(r,i,a)),t.push(0)}return new Oj(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function zj(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let i=e[r];(i.from>n.from||i.to<n.to)&&(n=i,t=r)}let r=n instanceof Pj&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new Bj(i,n)}var Bj=class{constructor(e,t){this.heads=e,this.node=t}get next(){return zj(this.heads)}};function Vj(e,t,n){let r=e.resolveInner(t,n),i=null;for(let e=r instanceof Pj?r:r.context.parent;e;e=e.parent)if(e.index<0){let a=e.parent;(i||=[r]).push(a.resolve(t,n)),e=a}else{let a=xj.get(e.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let o=new Pj(a.tree,a.overlay[0].from+e.from,-1,e);(i||=[r]).push(Mj(o,t,n,!1))}}return i?zj(i):r}var Hj=class{get name(){return this.type.name}constructor(e,t=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=t&~Dj.EnterBracketed,e instanceof Pj)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof Pj?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Dj.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Dj.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Dj.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else ({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let r=t+e,i=e<0?-1:n._tree.children.length;r!=i;r+=e){let e=n._tree.children[r];if(this.mode&Dj.IncludeAnonymous||e instanceof Aj||!e.type.isAnonymous||Uj(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)scan:for(let r=this.index,i=this.stack.length;i>=0;){for(let a=e;a;a=a._parent)if(a.index==r){if(r==this.index)return a;t=a,n=i+1;break scan}r=this.stack[--i]}for(let e=n;e<this.stack.length;e++)t=new Rj(this.buffer,t,this.stack[e]);return this.bufferNode=new Rj(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return Ij(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Ij(this._tree,e,r);let a=n[t.buffer[this.stack[i]]];if(!a.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}};function Uj(e){return e.children.some(e=>e instanceof Aj||!e.type.isAnonymous||Uj(e))}function Wj(e){let{buffer:t,nodeSet:n,maxBufferLength:r=_j,reused:i=[],minRepeatType:a=n.types.length}=e,o=Array.isArray(t)?new kj(t,t.length):t,s=n.types,c=0,l=0;function u(e,t,_,v,y,b){let{id:x,start:S,end:C,size:w}=o,T=l,ee=c;if(w<0)if(o.next(),w==-1){let t=i[x];_.push(t),v.push(S-e);return}else if(w==-3){c=x;return}else if(w==-4){l=x;return}else throw RangeError(`Unrecognized record size: ${w}`);let te=s[x],E,ne,re=S-e;if(C-S<=r&&(ne=h(o.pos-t,y))){let t=new Uint16Array(ne.size-ne.skip),r=o.pos-ne.size,i=t.length;for(;o.pos>r;)i=g(ne.start,t,i);E=new Aj(t,C-ne.start,n),re=ne.start-e}else{let e=o.pos-w;o.next();let t=[],n=[],i=x>=a?x:-1,s=0,c=C;for(;o.pos>e;)i>=0&&o.id==i&&o.size>=0?(o.end<=c-r&&(p(t,n,S,s,o.end,c,i,T,ee),s=t.length,c=o.end),o.next()):b>2500?d(S,e,t,n):u(S,e,t,n,i,b+1);if(i>=0&&s>0&&s<t.length&&p(t,n,S,s,S,c,i,T,ee),t.reverse(),n.reverse(),i>-1&&s>0){let e=f(te,ee);E=qj(te,t,n,0,t.length,0,C-S,e,e)}else E=m(te,t,n,C-S,T-C,ee)}_.push(E),v.push(re)}function d(e,t,i,a){let s=[],c=0,l=-1;for(;o.pos>t;){let{id:e,start:t,end:n,size:i}=o;if(i>4)o.next();else if(l>-1&&t<l)break;else l<0&&(l=n-r),s.push(e,t,n),c++,o.next()}if(c){let t=new Uint16Array(c*4),r=s[s.length-2];for(let e=s.length-3,n=0;e>=0;e-=3)t[n++]=s[e],t[n++]=s[e+1]-r,t[n++]=s[e+2]-r,t[n++]=n;i.push(new Aj(t,s[2]-r,n)),a.push(r-e)}}function f(e,t){return(n,r,i)=>{let a=0,o=n.length-1,s,c;if(o>=0&&(s=n[o])instanceof Oj){if(!o&&s.type==e&&s.length==i)return s;(c=s.prop(bj.lookAhead))&&(a=r[o]+s.length+c)}return m(e,n,r,i,a,t)}}function p(e,t,r,i,a,o,s,c,l){let u=[],d=[];for(;e.length>i;)u.push(e.pop()),d.push(t.pop()+r-a);e.push(m(n.types[s],u,d,o-a,c-o,l)),t.push(a-r)}function m(e,t,n,r,i,a,o){if(a){let e=[bj.contextHash,a];o=o?[e].concat(o):[e]}if(i>25){let e=[bj.lookAhead,i];o=o?[e].concat(o):[e]}return new Oj(e,t,n,r,o)}function h(e,t){let n=o.fork(),i=0,s=0,c=0,l=n.end-r,u={size:0,start:0,skip:0};scan:for(let r=n.pos-e;n.pos>r;){let e=n.size;if(n.id==t&&e>=0){u.size=i,u.start=s,u.skip=c,c+=4,i+=4,n.next();continue}let o=n.pos-e;if(e<0||o<r||n.start<l)break;let d=n.id>=a?4:0,f=n.start;for(n.next();n.pos>o;){if(n.size<0)if(n.size==-3||n.size==-4)d+=4;else break scan;else n.id>=a&&(d+=4);n.next()}s=f,i+=e,c+=d}return(t<0||i==e)&&(u.size=i,u.start=s,u.skip=c),u.size>4?u:void 0}function g(e,t,n){let{id:r,start:i,end:s,size:u}=o;if(o.next(),u>=0&&r<a){let a=n;if(u>4){let r=o.pos-(u-4);for(;o.pos>r;)n=g(e,t,n)}t[--n]=a,t[--n]=s-e,t[--n]=i-e,t[--n]=r}else u==-3?c=r:u==-4&&(l=r);return n}let _=[],v=[];for(;o.pos>0;)u(e.start||0,e.bufferStart||0,_,v,-1,0);let y=e.length??(_.length?v[0]+_[0].length:0);return new Oj(s[e.topID],_.reverse(),v.reverse(),y)}var Gj=new WeakMap;function Kj(e,t){if(!e.isAnonymous||t instanceof Aj||t.type!=e)return 1;let n=Gj.get(t);if(n==null){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Oj)){n=1;break}n+=Kj(e,r)}Gj.set(t,n)}return n}function qj(e,t,n,r,i,a,o,s,c){let l=0;for(let n=r;n<i;n++)l+=Kj(e,t[n]);let u=Math.ceil(l*1.5/8),d=[],f=[];function p(t,n,r,i,o){for(let s=r;s<i;){let r=s,l=n[s],m=Kj(e,t[s]);for(s++;s<i;s++){let n=Kj(e,t[s]);if(m+n>=u)break;m+=n}if(s==r+1){if(m>u){let e=t[r];p(e.children,e.positions,0,e.children.length,n[r]+o);continue}d.push(t[r])}else{let i=n[s-1]+t[s-1].length-l;d.push(qj(e,t,n,r,s,l,i,null,c))}f.push(l+o-a)}}return p(t,n,r,i,0),(s||c)(d,f,o)}var Jj=class e{constructor(e,t,n,r,i=!1,a=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(i?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,n=[],r=!1){let i=[new e(0,t.length,t,0,!1,r)];for(let e of n)e.to>t.length&&i.push(e);return i}static applyChanges(t,n,r=128){if(!n.length)return t;let i=[],a=1,o=t.length?t[0]:null;for(let s=0,c=0,l=0;;s++){let u=s<n.length?n[s]:null,d=u?u.fromA:1e9;if(d-c>=r)for(;o&&o.from<d;){let n=o;if(c>=n.from||d<=n.to||l){let t=Math.max(n.from,c)-l,r=Math.min(n.to,d)-l;n=t>=r?null:new e(t,r,n.tree,n.offset+l,s>0,!!u)}if(n&&i.push(n),o.to>d)break;o=a<t.length?t[a++]:null}if(!u)break;c=u.toA,l=u.toA-u.toB}return i}},Yj=class{startParse(e,t,n){return typeof e==`string`&&(e=new Xj(e)),n=n?n.length?n.map(e=>new yj(e.from,e.to)):[new yj(0,0)]:[new yj(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}},Xj=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new bj({perNode:!0});function Zj(e,t){Re(t,!1);let n=R(void 0,!0),r=Z(t,`readOnly`,9,!1),i=Z(t,`onExpandAll`,9),a=Z(t,`onCollapseAll`,9),o=Z(t,`onFormat`,9),s=Z(t,`onCompact`,9),c=Z(t,`onSort`,9),l=Z(t,`onTransform`,9),u=Z(t,`onToggleSearch`,9),d=Z(t,`onUndo`,9),f=Z(t,`onRedo`,9),p=Z(t,`canExpandAll`,9),m=Z(t,`canCollapseAll`,9),h=Z(t,`canUndo`,9),g=Z(t,`canRedo`,9),_=Z(t,`canFormat`,9),v=Z(t,`canCompact`,9),y=Z(t,`canSort`,9),b=Z(t,`canTransform`,9),x=Z(t,`onRenderMenu`,9),S=R(void 0,!0),C=R(void 0,!0),w={type:`button`,icon:Sw,title:`Search (Ctrl+F)`,className:`jse-search`,onClick:u()},T=R(void 0,!0);H(()=>(K(i()),K(p())),()=>{z(S,{type:`button`,icon:mk,title:`Expand all`,className:`jse-expand-all`,onClick:i(),disabled:!p()})}),H(()=>(K(a()),K(m())),()=>{z(C,{type:`button`,icon:hk,title:`Collapse all`,className:`jse-collapse-all`,onClick:a(),disabled:!m()})}),H(()=>(K(r()),W(S),W(C),K(o()),K(_()),K(s()),K(v()),K(c()),K(y()),K(l()),K(b()),K(d()),K(h()),K(f()),K(g())),()=>{z(T,r()?[W(S),W(C),{type:`separator`},w,{type:`space`}]:[W(S),W(C),{type:`separator`},{type:`button`,icon:gk,title:`Format JSON: add proper indentation and new lines (Ctrl+I)`,className:`jse-format`,onClick:o(),disabled:r()||!_()},{type:`button`,icon:_k,title:`Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)`,className:`jse-compact`,onClick:s(),disabled:r()||!v()},{type:`separator`},{type:`button`,icon:Gw,title:`Sort`,className:`jse-sort`,onClick:c(),disabled:r()||!y()},{type:`button`,icon:yw,title:`Transform contents (filter, sort, project)`,className:`jse-transform`,onClick:l(),disabled:r()||!b()},w,{type:`separator`},{type:`button`,icon:tT,title:`Undo (Ctrl+Z)`,className:`jse-undo`,onClick:d(),disabled:!h()},{type:`button`,icon:$w,title:`Redo (Ctrl+Shift+Z)`,className:`jse-redo`,onClick:f(),disabled:!g()},{type:`space`}])}),H(()=>(K(x()),W(T)),()=>{z(n,x()(W(T))||W(T))}),gn(),Li(!0),hO(e,{get items(){return W(n)}}),ze()}var Qj=[],$j=[];(()=>{let e=`lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o`.split(`,`).map(e=>e?parseInt(e,36):1);for(let t=0,n=0;t<e.length;t++)(t%2?$j:Qj).push(n+=e[t])})();function eM(e){if(e<768)return!1;for(let t=0,n=Qj.length;;){let r=t+n>>1;if(e<Qj[r])n=r;else if(e>=$j[r])t=r+1;else return!0;if(t==n)return!1}}function tM(e){return e>=127462&&e<=127487}var nM=8205;function rM(e,t,n=!0,r=!0){return(n?iM:aM)(e,t,r)}function iM(e,t,n){if(t==e.length)return t;t&&sM(e.charCodeAt(t))&&cM(e.charCodeAt(t-1))&&t--;let r=oM(e,t);for(t+=lM(r);t<e.length;){let i=oM(e,t);if(r==nM||i==nM||n&&eM(i))t+=lM(i),r=i;else if(tM(i)){let n=0,r=t-2;for(;r>=0&&tM(oM(e,r));)n++,r-=2;if(n%2==0)break;t+=2}else break}return t}function aM(e,t,n){for(;t>0;){let r=iM(e,t-2,n);if(r<t)return r;t--}return 0}function oM(e,t){let n=e.charCodeAt(t);if(!cM(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return sM(r)?(n-55296<<10)+(r-56320)+65536:n}function sM(e){return e>=56320&&e<57344}function cM(e){return e>=55296&&e<56320}function lM(e){return e<65536?1:2}var uM=class e{lineAt(e){if(e<0||e>this.length)throw RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=bM(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),fM.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=bM(this,e,t);let n=[];return this.decompose(e,t,n,0),fM.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new gM(this),i=new gM(e);for(let e=t,a=t;;){if(r.next(e),i.next(e),e=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}iter(e=1){return new gM(this,e)}iterRange(e,t=this.length){return new _M(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t??=this.lines+1;let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new vM(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(t){if(t.length==0)throw RangeError(`A document must have at least one line`);return t.length==1&&!t[0]?e.empty:t.length<=32?new dM(t):fM.from(dM.split(t,[]))}},dM=class e extends uM{constructor(e,t=pM(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let i=0;;i++){let a=this.text[i],o=r+a.length;if((t?n:o)>=e)return new yM(r,o,n,a);r=o+1,n++}}decompose(t,n,r,i){let a=t<=0&&n>=this.length?this:new e(hM(this.text,t,n),Math.min(n,this.length)-Math.max(0,t));if(i&1){let t=r.pop(),n=mM(a.text,t.text.slice(),0,a.length);if(n.length<=32)r.push(new e(n,t.length+a.length));else{let t=n.length>>1;r.push(new e(n.slice(0,t)),new e(n.slice(t)))}}else r.push(a)}replace(t,n,r){if(!(r instanceof e))return super.replace(t,n,r);[t,n]=bM(this,t,n);let i=mM(this.text,mM(r.text,hM(this.text,0,t)),n),a=this.length+r.length-(n-t);return i.length<=32?new e(i,a):fM.from(e.split(i,[]),a)}sliceString(e,t=this.length,n=`
`){[e,t]=bM(this,e,t);let r=``;for(let i=0,a=0;i<=t&&a<this.text.length;a++){let o=this.text[a],s=i+o.length;i>e&&a&&(r+=n),e<s&&t>i&&(r+=o.slice(Math.max(0,e-i),t-i)),i=s+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(t,n){let r=[],i=-1;for(let a of t)r.push(a),i+=a.length+1,r.length==32&&(n.push(new e(r,i)),r=[],i=-1);return i>-1&&n.push(new e(r,i)),n}},fM=class e extends uM{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let i=0;;i++){let a=this.children[i],o=r+a.length,s=n+a.lines-1;if((t?s:o)>=e)return a.lineInner(e,t,n,r);r=o+1,n=s+1}}decompose(e,t,n,r){for(let i=0,a=0;a<=t&&i<this.children.length;i++){let o=this.children[i],s=a+o.length;if(e<=s&&t>=a){let i=r&((a<=e?1:0)|(s>=t?2:0));a>=e&&s<=t&&!i?n.push(o):o.decompose(e-a,t-a,n,i)}a=s+1}}replace(t,n,r){if([t,n]=bM(this,t,n),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let o=this.children[i],s=a+o.length;if(t>=a&&n<=s){let c=o.replace(t-a,n-a,r),l=this.lines-o.lines+c.lines;if(c.lines<l>>4&&c.lines>l>>6){let a=this.children.slice();return a[i]=c,new e(a,this.length-(n-t)+r.length)}return super.replace(a,s,c)}a=s+1}return super.replace(t,n,r)}sliceString(e,t=this.length,n=`
`){[e,t]=bM(this,e,t);let r=``;for(let i=0,a=0;i<this.children.length&&a<=t;i++){let o=this.children[i],s=a+o.length;a>e&&i&&(r+=n),e<s&&t>a&&(r+=o.sliceString(e-a,t-a,n)),a=s+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(t,n){if(!(t instanceof e))return 0;let r=0,[i,a,o,s]=n>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=n,a+=n){if(i==o||a==s)return r;let e=this.children[i],c=t.children[a];if(e!=c)return r+e.scanIdentical(c,n);r+=e.length+1}}static from(t,n=t.reduce((e,t)=>e+t.length+1,-1)){let r=0;for(let e of t)r+=e.lines;if(r<32){let e=[];for(let n of t)n.flatten(e);return new dM(e,n)}let i=Math.max(32,r>>5),a=i<<1,o=i>>1,s=[],c=0,l=-1,u=[];function d(t){let n;if(t.lines>a&&t instanceof e)for(let e of t.children)d(e);else t.lines>o&&(c>o||!c)?(f(),s.push(t)):t instanceof dM&&c&&(n=u[u.length-1])instanceof dM&&t.lines+n.lines<=32?(c+=t.lines,l+=t.length+1,u[u.length-1]=new dM(n.text.concat(t.text),n.length+1+t.length)):(c+t.lines>i&&f(),c+=t.lines,l+=t.length+1,u.push(t))}function f(){c!=0&&(s.push(u.length==1?u[0]:e.from(u,l)),l=-1,c=u.length=0)}for(let e of t)d(e);return f(),s.length==1?s[0]:new e(s,n)}};uM.empty=new dM([``],0);function pM(e){let t=-1;for(let n of e)t+=n.length+1;return t}function mM(e,t,n=0,r=1e9){for(let i=0,a=0,o=!0;a<e.length&&i<=r;a++){let s=e[a],c=i+s.length;c>=n&&(c>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),o?(t[t.length-1]+=s,o=!1):t.push(s)),i=c+1}return t}function hM(e,t,n){return mM(e,[``],t,n)}var gM=class{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value=``,this.nodes=[e],this.offsets=[t>0?1:(e instanceof dM?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],a=i>>1,o=r instanceof dM?r.text.length:r.children.length;if(a==(t>0?o:0)){if(n==0)return this.done=!0,this.value=``,this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof dM){let i=r.text[a+(t<0?-1:0)];if(this.offsets[n]+=t,i.length>Math.max(0,e))return this.value=e==0?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let i=r.children[a+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof dM?i.text.length:i.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},_M=class{constructor(e,t,n){this.value=``,this.done=!1,this.cursor=new gM(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value=``,this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=``}},vM=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value=``,this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value=``,this.afterBreak=!1):t?(this.done=!0,this.value=``):n?this.afterBreak?this.value=``:(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<`u`&&(uM.prototype[Symbol.iterator]=function(){return this.iter()},gM.prototype[Symbol.iterator]=_M.prototype[Symbol.iterator]=vM.prototype[Symbol.iterator]=function(){return this});var yM=class{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}};function bM(e,t,n){return t=Math.max(0,Math.min(e.length,t)),[t,Math.max(t,Math.min(e.length,n))]}function xM(e,t,n=!0,r=!0){return rM(e,t,n,r)}function SM(e){return e>=56320&&e<57344}function CM(e){return e>=55296&&e<56320}function wM(e,t){let n=e.charCodeAt(t);if(!CM(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return SM(r)?(n-55296<<10)+(r-56320)+65536:n}function TM(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}function EM(e){return e<65536?1:2}var DM=/\r\n?|\n/,OM=(function(e){return e[e.Simple=0]=`Simple`,e[e.TrackDel=1]=`TrackDel`,e[e.TrackBefore=2]=`TrackBefore`,e[e.TrackAfter=3]=`TrackAfter`,e})(OM||={}),kM=class e{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let i=this.sections[t++],a=this.sections[t++];a<0?(e(n,r,i),r+=i):r+=a,n+=i}}iterChangedRanges(e,t=!1){NM(this,e,t)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new e(t)}composeDesc(e){return this.empty?e:e.empty?this:FM(this,e)}mapDesc(e,t=!1){return e.empty?this:PM(this,e,t)}mapPos(e,t=-1,n=OM.Simple){let r=0,i=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],s=this.sections[a++],c=r+o;if(s<0){if(c>e)return i+(e-r);i+=o}else{if(n!=OM.Simple&&c>=e&&(n==OM.TrackDel&&r<e&&c>e||n==OM.TrackBefore&&r<e||n==OM.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!o)return e==r||t<0?i:i+s;i+=s}r=c}if(e>r)throw RangeError(`Position ${e} is out of range for changeset of length ${r}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let i=this.sections[n++],a=this.sections[n++],o=r+i;if(a>=0&&r<=t&&o>=e)return r<e&&o>t?`cover`:!0;r=o}return!1}toString(){let e=``;for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?` `:``)+n+(r>=0?`:`+r:``)}return e}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!=`number`))throw RangeError(`Invalid JSON representation of ChangeDesc`);return new e(t)}static create(t){return new e(t)}},AM=class e extends kM{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw RangeError(`Applying change set to a document with the wrong length`);return NM(this,(t,n,r,i,a)=>e=e.replace(r,r+(n-t),a),!1),e}mapDesc(e,t=!1){return PM(this,e,t,!0)}invert(t){let n=this.sections.slice(),r=[];for(let e=0,i=0;e<n.length;e+=2){let a=n[e],o=n[e+1];if(o>=0){n[e]=o,n[e+1]=a;let s=e>>1;for(;r.length<s;)r.push(uM.empty);r.push(a?t.slice(i,i+a):uM.empty)}i+=a}return new e(n,r)}compose(e){return this.empty?e:e.empty?this:FM(this,e,!0)}map(e,t=!1){return e.empty?this:PM(this,e,t,!0)}iterChanges(e,t=!1){NM(this,e,t)}get desc(){return kM.create(this.sections)}filter(t){let n=[],r=[],i=[],a=new IM(this);done:for(let e=0,o=0;;){let s=e==t.length?1e9:t[e++];for(;o<s||o==s&&a.len==0;){if(a.done)break done;let e=Math.min(a.len,s-o);jM(i,e,-1);let t=a.ins==-1?-1:a.off==0?a.ins:0;jM(n,e,t),t>0&&MM(r,n,a.text),a.forward(e),o+=e}let c=t[e++];for(;o<c;){if(a.done)break done;let e=Math.min(a.len,c-o);jM(n,e,-1),jM(i,e,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(e),o+=e}}return{changes:new e(n,r),filtered:kM.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):r==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(t,n,r){let i=[],a=[],o=0,s=null;function c(t=!1){if(!t&&!i.length)return;o<n&&jM(i,n-o,-1);let r=new e(i,a);s=s?s.compose(r.map(s)):r,i=[],a=[],o=0}function l(t){if(Array.isArray(t))for(let e of t)l(e);else if(t instanceof e){if(t.length!=n)throw RangeError(`Mismatched change set length (got ${t.length}, expected ${n})`);c(),s=s?s.compose(t.map(s)):t}else{let{from:e,to:s=e,insert:l}=t;if(e>s||e<0||s>n)throw RangeError(`Invalid change range ${e} to ${s} (in doc of length ${n})`);let u=l?typeof l==`string`?uM.of(l.split(r||DM)):l:uM.empty,d=u.length;if(e==s&&d==0)return;e<o&&c(),e>o&&jM(i,e-o,-1),jM(i,s-e,d),MM(a,i,u),o=s}}return l(t),c(!s),s}static empty(t){return new e(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw RangeError(`Invalid JSON representation of ChangeSet`);let n=[],r=[];for(let e=0;e<t.length;e++){let i=t[e];if(typeof i==`number`)n.push(i,-1);else if(!Array.isArray(i)||typeof i[0]!=`number`||i.some((e,t)=>t&&typeof e!=`string`))throw RangeError(`Invalid JSON representation of ChangeSet`);else if(i.length==1)n.push(i[0],0);else{for(;r.length<e;)r.push(uM.empty);r[e]=uM.of(i.slice(1)),n.push(i[0],r[e].length)}}return new e(n,r)}static createSet(t,n){return new e(t,n)}};function jM(e,t,n,r=!1){if(t==0&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:i>=0&&t==0&&e[i]==0?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function MM(e,t,n){if(n.length==0)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(uM.empty);e.push(n)}}function NM(e,t,n){let r=e.inserted;for(let i=0,a=0,o=0;o<e.sections.length;){let s=e.sections[o++],c=e.sections[o++];if(c<0)i+=s,a+=s;else{let l=i,u=a,d=uM.empty;for(;l+=s,u+=c,c&&r&&(d=d.append(r[o-2>>1])),!(n||o==e.sections.length||e.sections[o+1]<0);)s=e.sections[o++],c=e.sections[o++];t(i,l,a,u,d),i=l,a=u}}}function PM(e,t,n,r=!1){let i=[],a=r?[]:null,o=new IM(e),s=new IM(t);for(let e=-1;;)if(o.done&&s.len||s.done&&o.len)throw Error(`Mismatched change set lengths`);else if(o.ins==-1&&s.ins==-1){let e=Math.min(o.len,s.len);jM(i,e,-1),o.forward(e),s.forward(e)}else if(s.ins>=0&&(o.ins<0||e==o.i||o.off==0&&(s.len<o.len||s.len==o.len&&!n))){let t=s.len;for(jM(i,s.ins,-1);t;){let n=Math.min(o.len,t);o.ins>=0&&e<o.i&&o.len<=n&&(jM(i,0,o.ins),a&&MM(a,i,o.text),e=o.i),o.forward(n),t-=n}s.next()}else if(o.ins>=0){let t=0,n=o.len;for(;n;)if(s.ins==-1){let e=Math.min(n,s.len);t+=e,n-=e,s.forward(e)}else if(s.ins==0&&s.len<n)n-=s.len,s.next();else break;jM(i,t,e<o.i?o.ins:0),a&&e<o.i&&MM(a,i,o.text),e=o.i,o.forward(o.len-n)}else if(o.done&&s.done)return a?AM.createSet(i,a):kM.create(i);else throw Error(`Mismatched change set lengths`)}function FM(e,t,n=!1){let r=[],i=n?[]:null,a=new IM(e),o=new IM(t);for(let e=!1;;)if(a.done&&o.done)return i?AM.createSet(r,i):kM.create(r);else if(a.ins==0)jM(r,a.len,0,e),a.next();else if(o.len==0&&!o.done)jM(r,0,o.ins,e),i&&MM(i,r,o.text),o.next();else if(a.done||o.done)throw Error(`Mismatched change set lengths`);else{let t=Math.min(a.len2,o.len),n=r.length;if(a.ins==-1){let n=o.ins==-1?-1:o.off?0:o.ins;jM(r,t,n,e),i&&n&&MM(i,r,o.text)}else o.ins==-1?(jM(r,a.off?0:a.len,t,e),i&&MM(i,r,a.textBit(t))):(jM(r,a.off?0:a.len,o.off?0:o.ins,e),i&&!o.off&&MM(i,r,o.text));e=(a.ins>t||o.ins>=0&&o.len>t)&&(e||r.length>n),a.forward2(t),o.forward(t)}}var IM=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?uM.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?uM.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},LM=class e{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(t,n=-1){let r,i;return this.empty?r=i=t.mapPos(this.from,n):(r=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new e(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Q.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Q.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!=`number`||typeof e.head!=`number`)throw RangeError(`Invalid JSON representation for SelectionRange`);return Q.range(e.anchor,e.head)}static create(t,n,r){return new e(t,n,r)}},Q=class e{constructor(e,t){this.ranges=e,this.mainIndex=t}map(t,n=-1){return t.empty?this:e.create(this.ranges.map(e=>e.map(t,n)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new e([this.main],0)}addRange(t,n=!0){return e.create([t].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(t,n=this.mainIndex){let r=this.ranges.slice();return r[n]=t,e.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!=`number`||t.main>=t.ranges.length)throw RangeError(`Invalid JSON representation for EditorSelection`);return new e(t.ranges.map(e=>LM.fromJSON(e)),t.main)}static single(t,n=t){return new e([e.range(t,n)],0)}static create(t,n=0){if(t.length==0)throw RangeError(`A selection needs at least one range`);for(let r=0,i=0;i<t.length;i++){let a=t[i];if(a.empty?a.from<=r:a.from<r)return e.normalized(t.slice(),n);r=a.to}return new e(t,n)}static cursor(e,t=0,n,r){return LM.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(r??16777215)<<6)}static range(e,t,n,r){let i=(n??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?LM.create(t,e,48|i):LM.create(e,t,(t>e?8:0)|i)}static normalized(t,n=0){let r=t[n];t.sort((e,t)=>e.from-t.from),n=t.indexOf(r);for(let r=1;r<t.length;r++){let i=t[r],a=t[r-1];if(i.empty?i.from<=a.to:i.from<a.to){let o=a.from,s=Math.max(i.to,a.to);r<=n&&n--,t.splice(--r,2,i.anchor>i.head?e.range(s,o):e.range(o,s))}}return new e(t,n)}};function RM(e,t){for(let n of e.ranges)if(n.to>t)throw RangeError(`Selection points outside of document`)}var zM=0,BM=class e{constructor(e,t,n,r,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=zM++,this.default=e([]),this.extensions=typeof i==`function`?i(this):i}get reader(){return this}static define(t={}){return new e(t.combine||(e=>e),t.compareInput||((e,t)=>e===t),t.compare||(t.combine?(e,t)=>e===t:VM),!!t.static,t.enables)}of(e){return new HM([],this,0,e)}compute(e,t){if(this.isStatic)throw Error(`Can't compute a static facet`);return new HM(e,this,1,t)}computeN(e,t){if(this.isStatic)throw Error(`Can't compute a static facet`);return new HM(e,this,2,t)}from(e,t){return t||=e=>e,this.compute([e],n=>t(n.field(e)))}};function VM(e,t){return e==t||e.length==t.length&&e.every((e,n)=>e===t[n])}var HM=class{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=zM++}dynamicSlot(e){let t=this.value,n=this.facet.compareInput,r=this.id,i=e[r]>>1,a=this.type==2,o=!1,s=!1,c=[];for(let t of this.dependencies)t==`doc`?o=!0:t==`selection`?s=!0:(e[t.id]??1)&1||c.push(e[t.id]);return{create(e){return e.values[i]=t(e),1},update(e,r){if(o&&r.docChanged||s&&(r.docChanged||r.selection)||WM(e,c)){let r=t(e);if(a?!UM(r,e.values[i],n):!n(r,e.values[i]))return e.values[i]=r,1}return 0},reconfigure:(e,o)=>{let s,c=o.config.address[r];if(c!=null){let r=rN(o,c);if(this.dependencies.every(t=>t instanceof BM?o.facet(t)===e.facet(t):t instanceof qM?o.field(t,!1)==e.field(t,!1):!0)||(a?UM(s=t(e),r,n):n(s=t(e),r)))return e.values[i]=r,0}else s=t(e);return e.values[i]=s,1}}}};function UM(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function WM(e,t){let n=!1;for(let r of t)nN(e,r)&1&&(n=!0);return n}function GM(e,t,n){let r=n.map(t=>e[t.id]),i=n.map(e=>e.type),a=r.filter(e=>!(e&1)),o=e[t.id]>>1;function s(e){let n=[];for(let t=0;t<r.length;t++){let a=rN(e,r[t]);if(i[t]==2)for(let e of a)n.push(e);else n.push(a)}return t.combine(n)}return{create(e){for(let t of r)nN(e,t);return e.values[o]=s(e),1},update(e,n){if(!WM(e,a))return 0;let r=s(e);return t.compare(r,e.values[o])?0:(e.values[o]=r,1)},reconfigure(e,i){let a=WM(e,r),c=i.config.facets[t.id],l=i.facet(t);if(c&&!a&&VM(n,c))return e.values[o]=l,0;let u=s(e);return t.compare(u,l)?(e.values[o]=l,0):(e.values[o]=u,1)}}}var KM=BM.define({static:!0}),qM=class e{constructor(e,t,n,r,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let n=new e(zM++,t.create,t.update,t.compare||((e,t)=>e===t),t);return t.provide&&(n.provides=t.provide(n)),n}create(e){return(e.facet(KM).find(e=>e.field==this)?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],i=this.updateF(r,n);return this.compareF(r,i)?0:(e.values[t]=i,1)},reconfigure:(e,n)=>{let r=e.facet(KM),i=n.facet(KM),a;return(a=r.find(e=>e.field==this))&&a!=i.find(e=>e.field==this)?(e.values[t]=a.create(e),1):n.config.address[this.id]==null?(e.values[t]=this.create(e),1):(e.values[t]=n.field(this),0)}}}init(e){return[this,KM.of({field:this,create:e})]}get extension(){return this}},JM={lowest:4,low:3,default:2,high:1,highest:0};function YM(e){return t=>new ZM(t,e)}var XM={highest:YM(JM.highest),high:YM(JM.high),default:YM(JM.default),low:YM(JM.low),lowest:YM(JM.lowest)},ZM=class{constructor(e,t){this.inner=e,this.prec=t}},QM=class e{of(e){return new $M(this,e)}reconfigure(t){return e.reconfigure.of({compartment:this,extension:t})}get(e){return e.config.compartments.get(this)}},$M=class{constructor(e,t){this.compartment=e,this.inner=t}},eN=class e{constructor(e,t,n,r,i,a){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(t,n,r){let i=[],a=Object.create(null),o=new Map;for(let e of tN(t,n,o))e instanceof qM?i.push(e):(a[e.facet.id]||(a[e.facet.id]=[])).push(e);let s=Object.create(null),c=[],l=[];for(let e of i)s[e.id]=l.length<<1,l.push(t=>e.slot(t));let u=r?.config.facets;for(let e in a){let t=a[e],n=t[0].facet,i=u&&u[e]||[];if(t.every(e=>e.type==0))if(s[n.id]=c.length<<1|1,VM(i,t))c.push(r.facet(n));else{let e=n.combine(t.map(e=>e.value));c.push(r&&n.compare(e,r.facet(n))?r.facet(n):e)}else{for(let e of t)e.type==0?(s[e.id]=c.length<<1|1,c.push(e.value)):(s[e.id]=l.length<<1,l.push(t=>e.dynamicSlot(t)));s[n.id]=l.length<<1,l.push(e=>GM(e,n,t))}}return new e(t,o,l.map(e=>e(s)),s,c,a)}};function tN(e,t,n){let r=[[],[],[],[],[]],i=new Map;function a(e,o){let s=i.get(e);if(s!=null){if(s<=o)return;let t=r[s].indexOf(e);t>-1&&r[s].splice(t,1),e instanceof $M&&n.delete(e.compartment)}if(i.set(e,o),Array.isArray(e))for(let t of e)a(t,o);else if(e instanceof $M){if(n.has(e.compartment))throw RangeError(`Duplicate use of compartment in extensions`);let r=t.get(e.compartment)||e.inner;n.set(e.compartment,r),a(r,o)}else if(e instanceof ZM)a(e.inner,e.prec);else if(e instanceof qM)r[o].push(e),e.provides&&a(e.provides,o);else if(e instanceof HM)r[o].push(e),e.facet.extensions&&a(e.facet.extensions,JM.default);else{let t=e.extension;if(!t)throw Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(t,o)}}return a(e,JM.default),r.reduce((e,t)=>e.concat(t))}function nN(e,t){if(t&1)return 2;let n=t>>1,r=e.status[n];if(r==4)throw Error(`Cyclic dependency between fields and/or facets`);if(r&2)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function rN(e,t){return t&1?e.config.staticValues[t>>1]:e.values[t>>1]}var iN=BM.define(),aN=BM.define({combine:e=>e.some(e=>e),static:!0}),oN=BM.define({combine:e=>e.length?e[0]:void 0,static:!0}),sN=BM.define(),cN=BM.define(),lN=BM.define(),uN=BM.define({combine:e=>e.length?e[0]:!1}),dN=class{constructor(e,t){this.type=e,this.value=t}static define(){return new fN}},fN=class{of(e){return new dN(this,e)}},pN=class{constructor(e){this.map=e}of(e){return new mN(this,e)}},mN=class e{constructor(e,t){this.type=e,this.value=t}map(t){let n=this.type.map(this.value,t);return n===void 0?void 0:n==this.value?this:new e(this.type,n)}is(e){return this.type==e}static define(e={}){return new pN(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}};mN.reconfigure=mN.define(),mN.appendConfig=mN.define();var hN=class e{constructor(t,n,r,i,a,o){this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,r&&RM(r,n.newLength),a.some(t=>t.type==e.time)||(this.annotations=a.concat(e.time.of(Date.now())))}static create(t,n,r,i,a,o){return new e(t,n,r,i,a,o)}get newDoc(){return this._doc||=this.changes.apply(this.startState.doc)}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let n=this.annotation(e.userEvent);return!!(n&&(n==t||n.length>t.length&&n.slice(0,t.length)==t&&n[t.length]==`.`))}};hN.time=dN.define(),hN.userEvent=dN.define(),hN.addToHistory=dN.define(),hN.remote=dN.define();function gN(e,t){let n=[];for(let r=0,i=0;;){let a,o;if(r<e.length&&(i==t.length||t[i]>=e[r]))a=e[r++],o=e[r++];else if(i<t.length)a=t[i++],o=t[i++];else return n;!n.length||n[n.length-1]<a?n.push(a,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function _N(e,t,n){let r,i,a;return n?(r=t.changes,i=AM.empty(t.changes.length),a=e.changes.compose(t.changes)):(r=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(r)),{changes:a,selection:t.selection?t.selection.map(i):e.selection?.map(r),effects:mN.mapEffects(e.effects,r).concat(mN.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function vN(e,t,n){let r=t.selection,i=CN(t.annotations);return t.userEvent&&(i=i.concat(hN.userEvent.of(t.userEvent))),{changes:t.changes instanceof AM?t.changes:AM.of(t.changes||[],n,e.facet(oN)),selection:r&&(r instanceof Q?r:Q.single(r.anchor,r.head)),effects:CN(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function yN(e,t,n){let r=vN(e,t.length?t[0]:{},e.doc.length);t.length&&t[0].filter===!1&&(n=!1);for(let i=1;i<t.length;i++){t[i].filter===!1&&(n=!1);let a=!!t[i].sequential;r=_N(r,vN(e,t[i],a?r.changes.newLength:e.doc.length),a)}let i=hN.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return xN(n?bN(i):i)}function bN(e){let t=e.startState,n=!0;for(let r of t.facet(sN)){let t=r(e);if(t===!1){n=!1;break}Array.isArray(t)&&(n=n===!0?t:gN(n,t))}if(n!==!0){let r,i;if(n===!1)i=e.changes.invertedDesc,r=AM.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=hN.create(t,r,e.selection&&e.selection.map(i),mN.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let r=t.facet(cN);for(let n=r.length-1;n>=0;n--){let i=r[n](e);e=i instanceof hN?i:Array.isArray(i)&&i.length==1&&i[0]instanceof hN?i[0]:yN(t,CN(i),!1)}return e}function xN(e){let t=e.startState,n=t.facet(lN),r=e;for(let i=n.length-1;i>=0;i--){let a=n[i](e);a&&Object.keys(a).length&&(r=_N(r,vN(t,a,e.changes.newLength),!0))}return r==e?e:hN.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}var SN=[];function CN(e){return e==null?SN:Array.isArray(e)?e:[e]}var wN=(function(e){return e[e.Word=0]=`Word`,e[e.Space=1]=`Space`,e[e.Other=2]=`Other`,e})(wN||={}),TN=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,EN;try{EN=RegExp(`[\\p{Alphabetic}\\p{Number}_]`,`u`)}catch{}function DN(e){if(EN)return EN.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>`Â`&&(n.toUpperCase()!=n.toLowerCase()||TN.test(n)))return!0}return!1}function ON(e){return t=>{if(!/\S/.test(t))return wN.Space;if(DN(t))return wN.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return wN.Word;return wN.Other}}var kN=class e{constructor(e,t,n,r,i,a){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=i,a&&(a._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)nN(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw RangeError(`Field is not present in this state`);return}return nN(this,n),rN(this,n)}update(...e){return yN(this,e,!0)}applyTransaction(t){let n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(QM.reconfigure)?(n&&=(i=new Map,n.compartments.forEach((e,t)=>i.set(t,e)),null),i.set(e.value.compartment,e.value.extension)):e.is(mN.reconfigure)?(n=null,r=e.value):e.is(mN.appendConfig)&&(n=null,r=CN(r).concat(e.value));let a;n?a=t.startState.values.slice():(n=eN.resolve(r,i,this),a=new e(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(e,t)=>t.reconfigure(e,this),null).values);let o=t.startState.facet(aN)?t.newSelection:t.newSelection.asSingle();new e(n,t.newDoc,o,a,(e,n)=>n.update(e,t),t)}replaceSelection(e){return typeof e==`string`&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Q.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],a=CN(n.effects);for(let n=1;n<t.ranges.length;n++){let o=e(t.ranges[n]),s=this.changes(o.changes),c=s.map(r);for(let e=0;e<n;e++)i[e]=i[e].map(c);let l=r.mapDesc(s,!0);i.push(o.range.map(l)),r=r.compose(c),a=mN.mapEffects(a,c).concat(mN.mapEffects(CN(o.effects),l))}return{changes:r,selection:Q.create(i,t.mainIndex),effects:a}}changes(t=[]){return t instanceof AM?t:AM.of(t,this.doc.length,this.facet(e.lineSeparator))}toText(t){return uM.of(t.split(this.facet(e.lineSeparator)||DM))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(nN(this,t),rN(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof qM&&this.config.address[r.id]!=null&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(t,n={},r){if(!t||typeof t.doc!=`string`)throw RangeError(`Invalid JSON representation for EditorState`);let i=[];if(r){for(let e in r)if(Object.prototype.hasOwnProperty.call(t,e)){let n=r[e],a=t[e];i.push(n.init(e=>n.spec.fromJSON(a,e)))}}return e.create({doc:t.doc,selection:Q.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(t={}){let n=eN.resolve(t.extensions||[],new Map),r=t.doc instanceof uM?t.doc:uM.of((t.doc||``).split(n.staticFacet(e.lineSeparator)||DM)),i=t.selection?t.selection instanceof Q?t.selection:Q.single(t.selection.anchor,t.selection.head):Q.single(0);return RM(i,r.length),n.staticFacet(aN)||(i=i.asSingle()),new e(n,r,i,n.dynamicSlots.map(()=>null),(e,t)=>t.create(e),null)}get tabSize(){return this.facet(e.tabSize)}get lineBreak(){return this.facet(e.lineSeparator)||`
`}get readOnly(){return this.facet(uN)}phrase(t,...n){for(let n of this.facet(e.phrases))if(Object.prototype.hasOwnProperty.call(n,t)){t=n[t];break}return n.length&&(t=t.replace(/\$(\$|\d*)/g,(e,t)=>{if(t==`$`)return`$`;let r=+(t||1);return!r||r>n.length?e:n[r-1]})),t}languageDataAt(e,t,n=-1){let r=[];for(let i of this.facet(iN))for(let a of i(this,t,n))Object.prototype.hasOwnProperty.call(a,e)&&r.push(a[e]);return r}charCategorizer(e){let t=this.languageDataAt(`wordChars`,e);return ON(t.length?t[0]:``)}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),i=this.charCategorizer(e),a=e-n,o=e-n;for(;a>0;){let e=xM(t,a,!1);if(i(t.slice(e,a))!=wN.Word)break;a=e}for(;o<r;){let e=xM(t,o);if(i(t.slice(o,e))!=wN.Word)break;o=e}return a==o?null:Q.range(a+n,o+n)}};kN.allowMultipleSelections=aN,kN.tabSize=BM.define({combine:e=>e.length?e[0]:4}),kN.lineSeparator=oN,kN.readOnly=uN,kN.phrases=BM.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every(n=>e[n]==t[n])}}),kN.languageData=iN,kN.changeFilter=sN,kN.transactionFilter=cN,kN.transactionExtender=lN,QM.reconfigure=mN.define();function AN(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let i=t[e],a=r[e];if(a===void 0)r[e]=i;else if(!(a===i||i===void 0))if(Object.hasOwnProperty.call(n,e))r[e]=n[e](a,i);else throw Error(`Config merge conflict for field `+e)}for(let e in t)r[e]===void 0&&(r[e]=t[e]);return r}var jN=class{eq(e){return this==e}range(e,t=e){return NN.create(e,t,this)}};jN.prototype.startSide=jN.prototype.endSide=0,jN.prototype.point=!1,jN.prototype.mapMode=OM.TrackDel;function MN(e,t){return e==t||e.constructor==t.constructor&&e.eq(t)}var NN=class e{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(t,n,r){return new e(t,n,r)}};function PN(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}var FN=class e{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let i=n?this.to:this.from;for(let a=r,o=i.length;;){if(a==o)return a;let r=a+o>>1,s=i[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==a)return s>=0?a:o;s>=0?o=r:a=r+1}}between(e,t,n,r){for(let i=this.findIndex(t,-1e9,!0),a=this.findIndex(n,1e9,!1,i);i<a;i++)if(r(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(t,n){let r=[],i=[],a=[],o=-1,s=-1;for(let e=0;e<this.value.length;e++){let c=this.value[e],l=this.from[e]+t,u=this.to[e]+t,d,f;if(l==u){let e=n.mapPos(l,c.startSide,c.mapMode);if(e==null||(d=f=e,c.startSide!=c.endSide&&(f=n.mapPos(l,c.endSide),f<d)))continue}else if(d=n.mapPos(l,c.startSide),f=n.mapPos(u,c.endSide),d>f||d==f&&c.startSide>0&&c.endSide<=0)continue;(f-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(s=Math.max(s,f-d)),r.push(c),i.push(d-o),a.push(f-o))}return{mapped:r.length?new e(i,a,r,s):null,pos:o}}},IN=class e{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(t,n,r,i){return new e(t,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(t){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=t,o=t.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(PN)),this.isEmpty)return n.length?e.of(n):this;let s=new BN(this,null,-1).goto(0),c=0,l=[],u=new RN;for(;s.value||c<n.length;)if(c<n.length&&(s.from-n[c].from||s.startSide-n[c].value.startSide)>=0){let e=n[c++];u.addInner(e.from,e.to,e.value)||l.push(e)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(s.chunkIndex)<n[c].from)&&(!o||i>this.chunkEnd(s.chunkIndex)||a<this.chunkPos[s.chunkIndex])&&u.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||i>s.to||a<s.from||o(s.from,s.to,s.value))&&(u.addInner(s.from,s.to,s.value)||l.push(NN.create(s.from,s.to,s.value))),s.next());return u.finishInner(this.nextLayer.isEmpty&&!l.length?e.empty:this.nextLayer.update({add:l,filter:o,filterFrom:i,filterTo:a}))}map(t){if(t.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let e=0;e<this.chunk.length;e++){let a=this.chunkPos[e],o=this.chunk[e],s=t.touchesRange(a,a+o.length);if(s===!1)i=Math.max(i,o.maxPoint),n.push(o),r.push(t.mapPos(a));else if(s===!0){let{mapped:e,pos:s}=o.map(a,t);e&&(i=Math.max(i,e.maxPoint),n.push(e),r.push(s))}}let a=this.nextLayer.map(t);return n.length==0?a:new e(r,n,a||e.empty,i)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],a=this.chunk[r];if(t>=i&&e<=i+a.length&&a.between(i,e-i,t-i,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return VN.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return VN.from(e).goto(t)}static compare(e,t,n,r,i=-1){let a=e.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i),o=t.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i),s=zN(a,o,n),c=new UN(a,s,i),l=new UN(o,s,i);n.iterGaps((e,t,n)=>WN(c,e,l,t,n,r)),n.empty&&n.length==0&&WN(c,0,l,0,0,r)}static eq(e,t,n=0,r){r??=999999999;let i=e.filter(e=>!e.isEmpty&&t.indexOf(e)<0),a=t.filter(t=>!t.isEmpty&&e.indexOf(t)<0);if(i.length!=a.length)return!1;if(!i.length)return!0;let o=zN(i,a),s=new UN(i,o,0).goto(n),c=new UN(a,o,0).goto(n);for(;;){if(s.to!=c.to||!GN(s.active,c.active)||s.point&&(!c.point||!MN(s.point,c.point)))return!1;if(s.to>r)return!0;s.next(),c.next()}}static spans(e,t,n,r,i=-1){let a=new UN(e,null,i).goto(t),o=t,s=a.openStart;for(;;){let e=Math.min(a.to,n);if(a.point){let n=a.activeForPoint(a.to),i=a.pointFrom<t?n.length+1:a.point.startSide<0?n.length:Math.min(n.length,s);r.point(o,e,a.point,n,i,a.pointRank),s=Math.min(a.openEnd(e),n.length)}else e>o&&(r.span(o,e,a.active,s),s=a.openEnd(e));if(a.to>n)return s+(a.point&&a.to>n?1:0);o=a.to,a.next()}}static of(e,t=!1){let n=new RN;for(let r of e instanceof NN?[e]:t?LN(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(t){if(!t.length)return e.empty;let n=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let i=t[r];i!=e.empty;i=i.nextLayer)n=new e(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}};IN.empty=new IN([],[],null,-1);function LN(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(PN(t,r)>0)return e.slice().sort(PN);t=r}return e}IN.empty.nextLayer=IN.empty;var RN=class e{finishChunk(e){this.chunks.push(new FN(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,n,r){this.addInner(t,n,r)||(this.nextLayer||=new e).add(t,n,r)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(IN.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=IN.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}};function zN(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let i=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let a=r.get(e.chunk[t]);a!=null&&(n?n.mapPos(a):a)==e.chunkPos[t]&&!n?.touchesRange(a,a+e.chunk[t].length)&&i.add(e.chunk[t])}return i}var BN=class{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex];if(this.from=e+t.from[this.rangeIndex],this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},VN=class e{constructor(e){this.heap=e}static from(t,n=null,r=-1){let i=[];for(let e=0;e<t.length;e++)for(let a=t[e];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new BN(a,n,r,e));return i.length==1?i[0]:new e(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)HN(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)HN(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),HN(this.heap,0)}}};function HN(e,t){for(let n=e[t];;){let r=(t<<1)+1;if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}var UN=class{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=VN.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){KN(this.active,e),KN(this.activeTo,e),KN(this.activeRank,e),this.minActive=JN(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:i}=this.cursor;for(;t<this.activeRank.length&&(i-this.activeRank[t]||r-this.activeTo[t])>0;)t++;qN(this.active,t,n),qN(this.activeTo,t,r),qN(this.activeRank,t,i),e&&qN(e,t,this.cursor.from),this.minActive=JN(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&KN(n,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let e=this.cursor.value;if(!e.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}};function WN(e,t,n,r,i,a){e.goto(t),n.goto(r);let o=r+i,s=r,c=r-t,l=!!a.boundChange;for(let t=!1;;){let r=e.to+c-n.to,i=r||e.endSide-n.endSide,u=i<0?e.to+c:n.to,d=Math.min(u,o);if(e.point||n.point?(e.point&&n.point&&MN(e.point,n.point)&&GN(e.activeForPoint(e.to),n.activeForPoint(n.to))||a.comparePoint(s,d,e.point,n.point),t=!1):(t&&a.boundChange(s),d>s&&!GN(e.active,n.active)&&a.compareRange(s,d,e.active,n.active),l&&d<o&&(r||e.openEnd(u)!=n.openEnd(u))&&(t=!0)),u>o)break;s=u,i<=0&&e.next(),i>=0&&n.next()}}function GN(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!MN(e[n],t[n]))return!1;return!0}function KN(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function qN(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function JN(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function YN(e,t,n=e.length){let r=0;for(let i=0;i<n&&i<e.length;)e.charCodeAt(i)==9?(r+=t-r%t,i++):(r++,i=xM(e,i));return r}function XN(e,t,n,r){for(let r=0,i=0;;){if(i>=t)return r;if(r==e.length)break;i+=e.charCodeAt(r)==9?n-i%n:1,r=xM(e,r)}return r===!0?-1:e.length}for(var ZN=`Í¼`,QN=typeof Symbol>`u`?`__`+ZN:Symbol.for(ZN),$N=typeof Symbol>`u`?`__styleSet`+Math.floor(Math.random()*1e8):Symbol(`styleSet`),eP=typeof globalThis<`u`?globalThis:typeof window<`u`?window:{},tP=class{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,a,o){let s=[],c=/^@(\w+)\b/.exec(e[0]),l=c&&c[1]==`keyframes`;if(c&&t==null)return a.push(e[0]+`;`);for(let n in t){let o=t[n];if(/&/.test(n))i(n.split(/,\s*/).map(t=>e.map(e=>t.replace(/&/,e))).reduce((e,t)=>e.concat(t)),o,a);else if(o&&typeof o==`object`){if(!c)throw RangeError(`The value of a property (`+n+`) should be a primitive value.`);i(r(n),o,s,l)}else o!=null&&s.push(n.replace(/_.*/,``).replace(/[A-Z]/g,e=>`-`+e.toLowerCase())+`: `+o+`;`)}(s.length||l)&&a.push((n&&!c&&!o?e.map(n):e).join(`, `)+` {`+s.join(` `)+`}`)}for(let t in e)i(r(t),e[t],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=eP[QN]||1;return eP[QN]=e+1,ZN+e.toString(36)}static mount(e,t,n){let r=e[$N],i=n&&n.nonce;r?i&&r.setNonce(i):r=new rP(e,i),r.mount(Array.isArray(t)?t:[t],e)}},nP=new Map,rP=class{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=nP.get(n);if(t)return e[$N]=t;this.sheet=new r.CSSStyleSheet,nP.set(n,this)}else this.styleTag=n.createElement(`style`),t&&this.styleTag.setAttribute(`nonce`,t);this.modules=[],e[$N]=this}mount(e,t){let n=this.sheet,r=0,i=0;for(let t=0;t<e.length;t++){let a=e[t],o=this.modules.indexOf(a);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),o==-1){if(this.modules.splice(i++,0,a),n)for(let e=0;e<a.rules.length;e++)n.insertRule(a.rules[e],r++)}else{for(;i<o;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e=``;for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+`
`;this.styleTag.textContent=e;let n=t.head||t;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute(`nonce`)!=e&&this.styleTag.setAttribute(`nonce`,e)}},iP={8:`Backspace`,9:`Tab`,10:`Enter`,12:`NumLock`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,44:`PrintScreen`,45:`Insert`,46:`Delete`,59:`;`,61:`=`,91:`Meta`,92:`Meta`,106:`*`,107:`+`,108:`,`,109:`-`,110:`.`,111:`/`,144:`NumLock`,145:`ScrollLock`,160:`Shift`,161:`Shift`,162:`Control`,163:`Control`,164:`Alt`,165:`Alt`,173:`-`,186:`;`,187:`=`,188:`,`,189:`-`,190:`.`,191:`/`,192:"`",219:`[`,220:`\\`,221:`]`,222:`'`},aP={48:`)`,49:`!`,50:`@`,51:`#`,52:`$`,53:`%`,54:`^`,55:`&`,56:`*`,57:`(`,59:`:`,61:`+`,173:`_`,186:`:`,187:`+`,188:`<`,189:`_`,190:`>`,191:`?`,192:`~`,219:`{`,220:`|`,221:`}`,222:`"`},oP=typeof navigator<`u`&&/Mac/.test(navigator.platform),sP=typeof navigator<`u`&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),cP=0;cP<10;cP++)iP[48+cP]=iP[96+cP]=String(cP);for(var cP=1;cP<=24;cP++)iP[cP+111]=`F`+cP;for(var cP=65;cP<=90;cP++)iP[cP]=String.fromCharCode(cP+32),aP[cP]=String.fromCharCode(cP);for(var lP in iP)aP.hasOwnProperty(lP)||(aP[lP]=iP[lP]);function uP(e){var t=!(oP&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||sP&&e.shiftKey&&e.key&&e.key.length==1||e.key==`Unidentified`)&&e.key||(e.shiftKey?aP:iP)[e.keyCode]||e.key||`Unidentified`;return t==`Esc`&&(t=`Escape`),t==`Del`&&(t=`Delete`),t==`Left`&&(t=`ArrowLeft`),t==`Up`&&(t=`ArrowUp`),t==`Right`&&(t=`ArrowRight`),t==`Down`&&(t=`ArrowDown`),t}function dP(){var e=arguments[0];typeof e==`string`&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&typeof n==`object`&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i==`string`?e.setAttribute(r,i):i!=null&&(e[r]=i)}t++}for(;t<arguments.length;t++)fP(e,arguments[t]);return e}function fP(e,t){if(typeof t==`string`)e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var n=0;n<t.length;n++)fP(e,t[n]);else throw RangeError(`Unsupported child node: `+t)}var pP=typeof navigator<`u`?navigator:{userAgent:``,vendor:``,platform:``},mP=typeof document<`u`?document:{documentElement:{style:{}}},hP=/Edge\/(\d+)/.exec(pP.userAgent),gP=/MSIE \d/.test(pP.userAgent),_P=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pP.userAgent),vP=!!(gP||_P||hP),yP=!vP&&/gecko\/(\d+)/i.test(pP.userAgent),bP=!vP&&/Chrome\/(\d+)/.exec(pP.userAgent),xP=`webkitFontSmoothing`in mP.documentElement.style,SP=!vP&&/Apple Computer/.test(pP.vendor),CP=SP&&(/Mobile\/\w+/.test(pP.userAgent)||pP.maxTouchPoints>2),wP={mac:CP||/Mac/.test(pP.platform),windows:/Win/.test(pP.platform),linux:/Linux|X11/.test(pP.platform),ie:vP,ie_version:gP?mP.documentMode||6:_P?+_P[1]:hP?+hP[1]:0,gecko:yP,gecko_version:yP?+(/Firefox\/(\d+)/.exec(pP.userAgent)||[0,0])[1]:0,chrome:!!bP,chrome_version:bP?+bP[1]:0,ios:CP,android:/Android\b/.test(pP.userAgent),webkit:xP,webkit_version:xP?+(/\bAppleWebKit\/(\d+)/.exec(pP.userAgent)||[0,0])[1]:0,safari:SP,safari_version:SP?+(/\bVersion\/(\d+(\.\d+)?)/.exec(pP.userAgent)||[0,0])[1]:0,tabSize:mP.documentElement.style.tabSize==null?`-moz-tab-size`:`tab-size`};function TP(e,t){for(let n in e)n==`class`&&t.class?t.class+=` `+e.class:n==`style`&&t.style?t.style+=`;`+e.style:t[n]=e[n];return t}var EP=Object.create(null);function DP(e,t,n){if(e==t)return!0;e||=EP,t||=EP;let r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let a of r)if(a!=n&&(i.indexOf(a)==-1||e[a]!==t[a]))return!1;return!0}function OP(e,t){for(let n=e.attributes.length-1;n>=0;n--){let r=e.attributes[n].name;t[r]??e.removeAttribute(r)}for(let n in t){let r=t[n];n==`style`?e.style.cssText=r:e.getAttribute(n)!=r&&e.setAttribute(n,r)}}function kP(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,i==`style`?e.style.cssText=``:e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,i==`style`?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function AP(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}var jP=class{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}},MP=(function(e){return e[e.Text=0]=`Text`,e[e.WidgetBefore=1]=`WidgetBefore`,e[e.WidgetAfter=2]=`WidgetAfter`,e[e.WidgetRange=3]=`WidgetRange`,e})(MP||={}),NP=class extends jN{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new PP(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new IP(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,r;if(e.isBlockGap)n=-5e8,r=4e8;else{let{start:i,end:a}=LP(e,t);n=(i?t?-3e8:-1:5e8)-1,r=(a?t?2e8:1:-6e8)+1}return new IP(e,n,r,t,e.widget||null,!0)}static line(e){return new FP(e)}static set(e,t=!1){return IN.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};NP.none=IN.empty;var PP=class e extends NP{constructor(e){let{start:t,end:n}=LP(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||`span`,this.attrs=e.class&&e.attributes?TP(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||EP}eq(t){return this==t||t instanceof e&&this.tagName==t.tagName&&DP(this.attrs,t.attrs)}range(e,t=e){if(e>=t)throw RangeError(`Mark decorations may not be empty`);return super.range(e,t)}};PP.prototype.point=!1;var FP=class e extends NP{constructor(e){super(-2e8,-2e8,null,e)}eq(t){return t instanceof e&&this.spec.class==t.spec.class&&DP(this.spec.attributes,t.spec.attributes)}range(e,t=e){if(t!=e)throw RangeError(`Line decoration ranges must be zero-length`);return super.range(e,t)}};FP.prototype.mapMode=OM.TrackBefore,FP.prototype.point=!0;var IP=class e extends NP{constructor(e,t,n,r,i,a){super(t,n,i,e),this.block=r,this.isReplace=a,this.mapMode=r?t<=0?OM.TrackBefore:OM.TrackAfter:OM.TrackDel}get type(){return this.startSide==this.endSide?this.startSide<=0?MP.WidgetBefore:MP.WidgetAfter:MP.WidgetRange}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof e&&RP(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw RangeError(`Invalid range for replacement decoration`);if(!this.isReplace&&t!=e)throw RangeError(`Widget decorations can only have zero-length ranges`);return super.range(e,t)}};IP.prototype.point=!0;function LP(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return n??=e.inclusive,r??=e.inclusive,{start:n??t,end:r??t}}function RP(e,t){return e==t||!!(e&&t&&e.compare(t))}function zP(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}var BP=class e extends jN{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(t){return t==this||t instanceof e&&this.tagName==t.tagName&&DP(this.attributes,t.attributes)}static create(t){return new e(t.tagName,t.attributes||EP)}static set(e,t=!1){return IN.of(e,t)}};BP.prototype.startSide=BP.prototype.endSide=-1;function VP(e){let t;return t=e.nodeType==11?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function HP(e,t){return t?e==t||e.contains(t.nodeType==1?t:t.parentNode):!1}function UP(e,t){if(!t.anchorNode)return!1;try{return HP(e,t.anchorNode)}catch{return!1}}function WP(e){return e.nodeType==3?aF(e,0,e.nodeValue.length).getClientRects():e.nodeType==1?e.getClientRects():[]}function GP(e,t,n,r){return n?JP(e,t,n,r,-1)||JP(e,t,n,r,1):!1}function KP(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t}function qP(e){return e.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function JP(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:YP(e))){if(e.nodeName==`DIV`)return!1;let n=e.parentNode;if(!n||n.nodeType!=1)return!1;t=KP(e)+(i<0?0:1),e=n}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.nodeType==1&&e.contentEditable==`false`)return!1;t=i<0?YP(e):0}else return!1}}function YP(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function XP(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function ZP(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function QP(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function $P(e,t,n,r,i,a,o,s){let c=e.ownerDocument,l=c.defaultView||window;for(let u=e,d=!1;u&&!d;)if(u.nodeType==1){let e,f=u==c.body,p=1,m=1;if(f)e=ZP(l);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:p,scaleY:m}=QP(u,t)),e={left:t.left,right:t.left+u.clientWidth*p,top:t.top,bottom:t.top+u.clientHeight*m}}let h=0,g=0;if(i==`nearest`)t.top<e.top?(g=t.top-(e.top+o),n>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+o)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+o,n<0&&t.top-g<e.top&&(g=t.top-(e.top+o)));else{let r=t.bottom-t.top,a=e.bottom-e.top;g=(i==`center`&&r<=a?t.top+r/2-a/2:i==`start`||i==`center`&&n<0?t.top-o:t.bottom-a+o)-e.top}if(r==`nearest`?t.left<e.left?(h=t.left-(e.left+a),n>0&&t.right>e.right+h&&(h=t.right-e.right+a)):t.right>e.right&&(h=t.right-e.right+a,n<0&&t.left<e.left+h&&(h=t.left-(e.left+a))):h=(r==`center`?t.left+(t.right-t.left)/2-(e.right-e.left)/2:r==`start`==s?t.left-a:t.right-(e.right-e.left)+a)-e.left,h||g)if(f)l.scrollBy(h,g);else{let e=0,n=0;if(g){let e=u.scrollTop;u.scrollTop+=g/m,n=(u.scrollTop-e)*m}if(h){let t=u.scrollLeft;u.scrollLeft+=h/p,e=(u.scrollLeft-t)*p}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-h)<1&&(r=`nearest`),n&&Math.abs(n-g)<1&&(i=`nearest`)}if(f)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function eF(e){let t=e.ownerDocument,n,r;for(let i=e.parentNode;i&&!(i==t.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}var tF=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?YP(t):0),n,Math.min(e.focusOffset,n?YP(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}},nF=null;wP.safari&&wP.safari_version>=26&&(nF=!1);function rF(e){if(e.setActive)return e.setActive();if(nF)return e.focus(nF);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(nF==null?{get preventScroll(){return nF={preventScroll:!0},!0}}:void 0),!nF){nF=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],i=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}var iF;function aF(e,t,n=t){let r=iF||=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r}function oF(e,t,n,r){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent(`keydown`,i);a.synthetic=!0,e.dispatchEvent(a);let o=new KeyboardEvent(`keyup`,i);return o.synthetic=!0,e.dispatchEvent(o),a.defaultPrevented||o.defaultPrevented}function sF(e){for(;e;){if(e&&(e.nodeType==9||e.nodeType==11&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function cF(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,YP(n));;)if(r){if(n.nodeType!=1)return!1;let e=n.childNodes[r-1];e.contentEditable==`false`?r--:(n=e,r=YP(n))}else if(n==e)return!0;else r=KP(n),n=n.parentNode}function lF(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function uF(e,t){for(let n=e,r=t;;)if(n.nodeType==3&&r>0)return{node:n,offset:r};else if(n.nodeType==1&&r>0){if(n.contentEditable==`false`)return null;n=n.childNodes[r-1],r=YP(n)}else if(n.parentNode&&!qP(n))r=KP(n),n=n.parentNode;else return null}function dF(e,t){for(let n=e,r=t;;)if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};else if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable==`false`)return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!qP(n))r=KP(n)+1,n=n.parentNode;else return null}var fF=class e{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(t,n){return new e(t.parentNode,KP(t),n)}static after(t,n){return new e(t.parentNode,KP(t)+1,n)}},pF=(function(e){return e[e.LTR=0]=`LTR`,e[e.RTL=1]=`RTL`,e})(pF||={}),mF=pF.LTR,hF=pF.RTL;function gF(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<e[n]);return t}var _F=gF(`88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008`),vF=gF(`4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333`),yF=Object.create(null),bF=[];for(let e of[`()`,`[]`,`{}`]){let t=e.charCodeAt(0),n=e.charCodeAt(1);yF[t]=n,yF[n]=-t}function xF(e){return e<=247?_F[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?vF[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}var SF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,CF=class{get dir(){return this.level%2?hF:mF}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let i=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=t&&o.to>=t){if(o.level==n)return a;(i<0||(r==0?e[i].level>o.level:r<0?o.from<t:o.to>t))&&(i=a)}}if(i<0)throw RangeError(`Index out of range`);return i}};function wF(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!wF(r.inner,i.inner))return!1}return!0}var TF=[];function EF(e,t,n,r,i){for(let a=0;a<=r.length;a++){let o=a?r[a-1].to:t,s=a<r.length?r[a].from:n,c=a?256:i;for(let t=o,n=c,r=c;t<s;t++){let i=xF(e.charCodeAt(t));i==512?i=n:i==8&&r==4&&(i=16),TF[t]=i==4?2:i,i&7&&(r=i),n=i}for(let e=o,t=c,r=c;e<s;e++){let i=TF[e];if(i==128)e<s-1&&t==TF[e+1]&&t&24?i=TF[e]=t:TF[e]=256;else if(i==64){let i=e+1;for(;i<s&&TF[i]==64;)i++;let a=e&&t==8||i<n&&TF[i]==8?r==1?1:8:256;for(let t=e;t<i;t++)TF[t]=a;e=i-1}else i==8&&r==1&&(TF[e]=1);t=i,i&7&&(r=i)}}}function DF(e,t,n,r,i){let a=i==1?2:1;for(let o=0,s=0,c=0;o<=r.length;o++){let l=o?r[o-1].to:t,u=o<r.length?r[o].from:n;for(let t=l,n,r,o;t<u;t++)if(r=yF[n=e.charCodeAt(t)])if(r<0){for(let e=s-3;e>=0;e-=3)if(bF[e+1]==-r){let n=bF[e+2],r=n&2?i:n&4?n&1?a:i:0;r&&(TF[t]=TF[bF[e]]=r),s=e;break}}else if(bF.length==189)break;else bF[s++]=t,bF[s++]=n,bF[s++]=c;else if((o=TF[t])==2||o==1){let e=o==i;c=e?0:1;for(let t=s-3;t>=0;t-=3){let n=bF[t+2];if(n&2)break;if(e)bF[t+2]|=2;else{if(n&4)break;bF[t+2]|=4}}}}}function OF(e,t,n,r){for(let i=0,a=r;i<=n.length;i++){let o=i?n[i-1].to:e,s=i<n.length?n[i].from:t;for(let c=o;c<s;){let o=TF[c];if(o==256){let o=c+1;for(;;)if(o==s){if(i==n.length)break;o=n[i++].to,s=i<n.length?n[i].from:t}else if(TF[o]==256)o++;else break;let l=a==1,u=l==((o<t?TF[o]:r)==1)?l?1:2:r;for(let t=o,r=i,a=r?n[r-1].to:e;t>c;)t==a&&(t=n[--r].from,a=r?n[r-1].to:e),TF[--t]=u;c=o}else a=o,c++}}}function kF(e,t,n,r,i,a,o){let s=r%2?2:1;if(r%2==i%2)for(let c=t,l=0;c<n;){let t=!0,u=!1;if(l==a.length||c<a[l].from){let e=TF[c];e!=s&&(t=!1,u=e==16)}let d=!t&&s==1?[]:null,f=t?r:r+1,p=c;run:for(;;)if(l<a.length&&p==a[l].from){if(u)break run;let m=a[l];if(!t)for(let e=m.to,t=l+1;;){if(e==n)break run;if(t<a.length&&a[t].from==e)e=a[t++].to;else if(TF[e]==s)break run;else break}l++,d?d.push(m):(m.from>c&&o.push(new CF(c,m.from,f)),AF(e,m.direction==mF==!(f%2)?r:r+1,i,m.inner,m.from,m.to,o),c=m.to),p=m.to}else if(p==n||(t?TF[p]!=s:TF[p]==s))break;else p++;d?kF(e,c,p,r+1,i,d,o):c<p&&o.push(new CF(c,p,f)),c=p}else for(let c=n,l=a.length;c>t;){let n=!0,u=!1;if(!l||c>a[l-1].to){let e=TF[c-1];e!=s&&(n=!1,u=e==16)}let d=!n&&s==1?[]:null,f=n?r:r+1,p=c;run:for(;;)if(l&&p==a[l-1].to){if(u)break run;let m=a[--l];if(!n)for(let e=m.from,n=l;;){if(e==t)break run;if(n&&a[n-1].to==e)e=a[--n].from;else if(TF[e-1]==s)break run;else break}d?d.push(m):(m.to<c&&o.push(new CF(m.to,c,f)),AF(e,m.direction==mF==!(f%2)?r:r+1,i,m.inner,m.from,m.to,o),c=m.from),p=m.from}else if(p==t||(n?TF[p-1]!=s:TF[p-1]==s))break;else p--;d?kF(e,p,c,r+1,i,d,o):p<c&&o.push(new CF(p,c,f)),c=p}}function AF(e,t,n,r,i,a,o){let s=t%2?2:1;EF(e,i,a,r,s),DF(e,i,a,r,s),OF(i,a,r,s),kF(e,i,a,t,n,r,o)}function jF(e,t,n){if(!e)return[new CF(0,0,t==hF?1:0)];if(t==mF&&!n.length&&!SF.test(e))return MF(e.length);if(n.length)for(;e.length>TF.length;)TF[TF.length]=256;let r=[],i=t==mF?0:1;return AF(e,i,i,n,0,e.length,r),r}function MF(e){return[new CF(0,e,0)]}var NF=``;function PF(e,t,n,r,i){let a=r.head-e.from,o=CF.find(t,a,r.bidiLevel??-1,r.assoc),s=t[o],c=s.side(i,n);if(a==c){let e=o+=i?1:-1;if(e<0||e>=t.length)return null;s=t[o=e],a=s.side(!i,n),c=s.side(i,n)}let l=xM(e.text,a,s.forward(i,n));(l<s.from||l>s.to)&&(l=c),NF=e.text.slice(Math.min(a,l),Math.max(a,l));let u=o==(i?t.length-1:0)?null:t[o+(i?1:-1)];return u&&l==c&&u.level+(i?0:1)<s.level?Q.cursor(u.side(!i,n)+e.from,u.forward(i,n)?1:-1,u.level):Q.cursor(l+e.from,s.forward(i,n)?-1:1,s.level)}function FF(e,t,n){for(let r=t;r<n;r++){let t=xF(e.charCodeAt(r));if(t==1)return mF;if(t==2||t==4)return hF}return mF}var IF=BM.define(),LF=BM.define(),RF=BM.define(),zF=BM.define(),BF=BM.define(),VF=BM.define(),HF=BM.define(),UF=BM.define(),WF=BM.define(),GF=BM.define({combine:e=>e.some(e=>e)}),KF=BM.define({combine:e=>e.some(e=>e)}),qF=BM.define(),JF=class e{constructor(e,t=`nearest`,n=`nearest`,r=5,i=5,a=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=a}map(t){return t.empty?this:new e(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new e(Q.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},YF=mN.define({map:(e,t)=>e.map(t)}),XF=mN.define();function ZF(e,t,n){let r=e.facet(zF);r.length?r[0](t):window.onerror&&window.onerror(String(t),n,void 0,void 0,t)||(n?console.error(n+`:`,t):console.error(t))}var QF=BM.define({combine:e=>e.length?e[0]:!0}),$F=0,eI=BM.define({combine(e){return e.filter((t,n)=>{for(let r=0;r<n;r++)if(e[r].plugin==t.plugin)return!1;return!0})}}),tI=class e{constructor(e,t,n,r,i){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.baseExtensions=i(this),this.extension=this.baseExtensions.concat(eI.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(eI.of({plugin:this,arg:e}))}static define(t,n){let{eventHandlers:r,eventObservers:i,provide:a,decorations:o}=n||{};return new e($F++,t,r,i,e=>{let t=[];return o&&t.push(aI.of(t=>{let n=t.plugin(e);return n?o(n):NP.none})),a&&t.push(a(e)),t})}static fromClass(t,n){return e.define((e,n)=>new t(e,n),n)}},nI=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(ZF(e.state,t,`CodeMirror plugin crashed`),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){ZF(e.state,t,`CodeMirror plugin crashed`),this.deactivate()}return this}destroy(e){if(this.value?.destroy)try{this.value.destroy()}catch(t){ZF(e.state,t,`CodeMirror plugin crashed`)}}deactivate(){this.spec=this.value=null}},rI=BM.define(),iI=BM.define(),aI=BM.define(),oI=BM.define(),sI=BM.define(),cI=BM.define(),lI=BM.define();function uI(e,t){let n=e.state.facet(lI);if(!n.length)return n;let r=n.map(t=>t instanceof Function?t(e):t),i=[];return IN.spans(r,t.from,t.to,{point(){},span(e,n,r,a){let o=e-t.from,s=n-t.from,c=i;for(let e=r.length-1;e>=0;e--,a--){let n=r[e].spec.bidiIsolate,i;if(n??=FF(t.text,o,s),a>0&&c.length&&(i=c[c.length-1]).to==o&&i.direction==n)i.to=s,c=i.inner;else{let e={from:o,to:s,direction:n,inner:[]};c.push(e),c=e.inner}}}}),i}var dI=BM.define();function fI(e){let t=0,n=0,r=0,i=0;for(let a of e.state.facet(dI)){let o=a(e);o&&(o.left!=null&&(t=Math.max(t,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:t,right:n,top:r,bottom:i}}var pI=BM.define(),mI=class e{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(t){return new e(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(t,n){if(n.length==0)return t;let r=[];for(let i=0,a=0,o=0;;){let s=i<t.length?t[i].fromB:1e9,c=a<n.length?n[a]:1e9,l=Math.min(s,c);if(l==1e9)break;let u=l+o,d=l,f=u;for(;;)if(a<n.length&&n[a]<=d){let e=n[a+1];a+=2,d=Math.max(d,e);for(let e=i;e<t.length&&t[e].fromB<=d;e++)o=t[e].toA-t[e].toB;f=Math.max(f,e+o)}else if(i<t.length&&t[i].fromB<=d){let e=t[i++];d=Math.max(d,e.toB),f=Math.max(f,e.toA),o=e.toA-e.toB}else break;r.push(new e(u,f,l,d))}return r}},hI=class e{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=AM.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges((e,t,n,i)=>r.push(new mI(e,t,n,i))),this.changedRanges=r}static create(t,n,r){return new e(t,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},gI=[],_I=class{constructor(e,t,n=0){this.dom=e,this.length=t,this.flags=n,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return gI}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let e=this.domAttrs;e&&OP(this.dom,e)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:``)+(this.breakAfter?`#`:``)}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let n=t;for(let t of this.children){if(t==e)return n;n+=t.length+t.breakAfter}throw RangeError(`Invalid child in posBefore`)}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let n=KP(this.dom),r=this.length?e>0:t>0;return new fF(this.parent.dom,n+(r?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof bI)return e;return null}static get(e){return e.cmTile}},vI=class extends _I{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,n=null,r,i=e?.node==t?e:null,a=0;for(let o of this.children){if(o.sync(e),a+=o.length+o.breakAfter,r=n?n.nextSibling:t.firstChild,i&&r!=o.dom&&(i.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=yI(r);else t.insertBefore(o.dom,r);n=o.dom}for(r=n?n.nextSibling:t.firstChild,i&&r&&(i.written=!0);r;)r=yI(r);this.length=a}};function yI(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}var bI=class extends vI{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=_I.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],n=this,r=0,i=0;;)if(r==n.children.length){if(!t.length)return;n=n.parent,n.breakAfter&&i++,r=t.pop()}else{let a=n.children[r++];if(a instanceof xI)t.push(r),n=a,r=0;else{let t=i+a.length,n=e(a,i);if(n!==void 0)return n;i=t+a.breakAfter}}}resolveBlock(e,t){let n,r=-1,i,a=-1;if(this.blockTiles((o,s)=>{let c=s+o.length;if(e>=s&&e<=c){if(o.isWidget()&&t>=-1&&t<=1){if(o.flags&32)return!0;o.flags&16&&(n=void 0)}(s<e||e==c&&(t<-1?o.length:o.covers(1)))&&(!n||!o.isWidget()&&n.isWidget())&&(n=o,r=e-s),(c>e||e==s&&(t>1?o.length:o.covers(-1)))&&(!i||!o.isWidget()&&i.isWidget())&&(i=o,a=e-s)}}),!n&&!i)throw Error(`No tile at position `+e);return n&&t<0||!i?{tile:n,offset:r}:{tile:i,offset:a}}},xI=class e extends vI{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(t,n){let r=new e(n||document.createElement(t.tagName),t);return n||(r.flags|=4),r}},SI=class e extends vI{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(t,n,r){let i=new e(n||document.createElement(`div`),t);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,t,n){let r=null,i=-1,a=null,o=-1;function s(e,c){for(let l=0,u=0;l<e.children.length&&u<=c;l++){let d=e.children[l],f=u+d.length;f>=c&&(d.isComposite()?s(d,c-u):(!a||a.isHidden&&(t>0||n&&wI(a,d)))&&(f>c||d.flags&32)?(a=d,o=c-u):(u<c||d.flags&16&&!d.isHidden)&&(r=d,i=c-u)),u=f}}s(this,e);let c=(t<0?r:a)||r||a;return c?{tile:c,offset:c==r?i:o}:null}coordsIn(e,t){let n=this.resolveInline(e,t,!0);return n?n.tile.coordsIn(Math.max(0,n.offset),t):CI(this)}domIn(e,t){let n=this.resolveInline(e,t);if(n){let{tile:e,offset:r}=n;if(this.dom.contains(e.dom))return e.isText()?new fF(e.dom,Math.min(e.dom.nodeValue.length,r)):e.domPosFor(r,e.flags&16?1:e.flags&32?-1:t);let i=n.tile.parent,a=!1;for(let e of i.children){if(a)return new fF(e.dom,0);e==n.tile&&(a=!0)}}return new fF(this.dom,0)}};function CI(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=WP(t);return n[n.length-1]||null}function wI(e,t){let n=e.coordsIn(0,1),r=t.coordsIn(0,1);return n&&r&&r.top<n.bottom}var TI=class e extends vI{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(t,n){let r=new e(n||document.createElement(t.tagName),t);return n||(r.flags|=4),r}},EI=class e extends _I{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let n=this.dom.nodeValue.length;e>n&&(e=n);let r=e,i=e,a=0;e==0&&t<0||e==n&&t>=0?wP.chrome||wP.gecko||(e?(r--,a=1):i<n&&(i++,a=-1)):t<0?r--:i<n&&i++;let o=aF(this.dom,r,i).getClientRects();if(!o.length)return null;let s=o[(a?a<0:t>=0)?0:o.length-1];return wP.safari&&!a&&s.width==0&&(s=Array.prototype.find.call(o,e=>e.width)||s),a?XP(s,a<0):s||null}static of(t,n){let r=new e(n||document.createTextNode(t),t);return n||(r.flags|=2),r}},DI=class e extends _I{constructor(e,t,n,r){super(e,t,r),this.widget=n}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,n){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;if(n)return XP(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let t=this.dom.getClientRects(),n=null;if(!t.length)return null;let r=this.flags&16?!0:this.flags&32?!1:e>0;for(let i=r?t.length-1:0;n=t[i],!(e>0?i==0:i==t.length-1||n.top<n.bottom);i+=r?-1:1);return XP(n,!r)}}get overrideDOMText(){if(!this.length)return uM.empty;let{root:e}=this;if(!e)return uM.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(t,n,r,i,a){return a||(a=t.toDOM(n),t.editable||(a.contentEditable=`false`)),new e(a,r,t,i)}},OI=class extends _I{constructor(e){let t=document.createElement(`img`);t.className=`cm-widgetBuffer`,t.setAttribute(`aria-hidden`,`true`),super(t,0,e)}get isHidden(){return!1}get overrideDOMText(){return uM.empty}coordsIn(e){return this.dom.getBoundingClientRect()}},kI=class{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,n){let{tile:r,index:i,beforeBreak:a,parents:o}=this;for(;e||t>0;)if(r.isComposite())if(a){if(!e)break;n&&n.break(),e--,a=!1}else if(i==r.children.length){if(!e&&!o.length)break;n&&n.leave(r),a=!!r.breakAfter,{tile:r,index:i}=o.pop(),i++}else{let s=r.children[i],c=s.breakAfter;(t>0?s.length<=e:s.length<e)&&(!n||n.skip(s,0,s.length)!==!1||!s.isComposite)?(a=!!c,i++,e-=s.length):(o.push({tile:r,index:i}),r=s,i=0,n&&s.isComposite()&&n.enter(s))}else if(i==r.length)a=!!r.breakAfter,{tile:r,index:i}=o.pop(),i++;else if(e){let t=Math.min(e,r.length-i);n&&n.skip(r,i,i+t),e-=t,i+=t}else break;return this.tile=r,this.index=i,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}},AI=class{constructor(e,t,n,r){this.from=e,this.to=t,this.wrapper=n,this.rank=r}},jI=class{constructor(e,t,n){this.cache=e,this.root=t,this.blockWrappers=n,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,n,r){this.flushBuffer();let i=this.ensureMarks(t,n),a=i.lastChild;if(a&&a.isText()&&!(a.flags&8)){this.cache.reused.set(a,2);let t=i.children[i.children.length-1]=new EI(a.dom,a.text+e);t.parent=i}else i.append(r||EI.of(e,this.cache.find(EI)?.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let n=this.curLine;n.dom!=t.line.dom&&(n.setDOM(this.cache.reused.has(t.line)?VI(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let r=n;for(let e=t.marks.length-1;e>=0;e--){let n=t.marks[e],i=r.lastChild;if(i instanceof TI&&i.mark.eq(n.mark))i.dom!=n.dom&&i.setDOM(VI(n.dom)),r=i;else{if(this.cache.reused.get(n)){let e=_I.get(n.dom);e&&e.setDOM(VI(n.dom))}let e=TI.of(n.mark,n.dom);r.append(e),r=e}this.cache.reused.set(n,2)}let i=new EI(e.text,e.text.nodeValue);i.flags|=8,r.append(i)}addInlineWidget(e,t,n){let r=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);r||this.flushBuffer();let i=this.ensureMarks(t,n);!r&&!(e.flags&16)&&i.append(this.getBuffer(1)),i.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,n){this.flushBuffer(),this.ensureMarks(t,n).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){e||=RI;let n=SI.start(e,t||this.cache.find(SI)?.dom,!!t);this.getBlockPos().append(this.lastBlock=this.curLine=n)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){let n=this.curLine;for(let r=e.length-1;r>=0;r--){let i=e[r],a;if(t>0&&(a=n.lastChild)&&a instanceof TI&&a.mark.eq(i))n=a,t--;else{let e=TI.of(i,this.cache.find(TI,e=>e.mark.eq(i))?.dom);n.append(e),n=e,t=0}}return n}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!II(this.curLine,!1)||e.dom.nodeName!=`BR`&&e.isWidget()&&!(wP.ios&&II(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(UI,0,32)||new DI(UI.toDOM(),0,UI,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new AI(e.from,e.to,e.value,e.rank),n=this.wrappers.length;for(;n>0&&(this.wrappers[n-1].rank-t.rank||this.wrappers[n-1].to-t.to)<0;)n--;this.wrappers.splice(n,0,t)}this.wrapperPos=this.pos}getBlockPos(){this.updateBlockWrappers();let e=this.root;for(let t of this.wrappers){let n=e.lastChild;if(t.from<this.pos&&n instanceof xI&&n.wrapper.eq(t.wrapper))e=n;else{let n=xI.of(t.wrapper,this.cache.find(xI,e=>e.wrapper.eq(t.wrapper))?.dom);e.append(n),e=n}}return e}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),n=this.cache.find(OI,void 0,1);return n&&(n.flags=t),n||new OI(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}},MI=class{constructor(e){this.skipCount=0,this.text=``,this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text=``,this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skipCount);if(this.skipCount=0,r)throw Error(`Ran out of text content when drawing inline views`);this.text=t;let i=this.textOff=Math.min(e,t.length);return n?null:t.slice(0,i)}let t=Math.min(this.text.length,this.textOff+e),n=this.text.slice(this.textOff,t);return this.textOff=t,n}},NI=[DI,SI,EI,TI,OI,xI,bI];for(let e=0;e<NI.length;e++)NI[e].bucket=e;var PI=class{constructor(e){this.view=e,this.buckets=NI.map(()=>[]),this.index=NI.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,n=this.buckets[t];n.length<6?n.push(e):n[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,n=2){let r=e.bucket,i=this.buckets[r],a=this.index[r];for(let e=i.length-1;e>=0;e--){let o=(e+a)%i.length,s=i[o];if((!t||t(s))&&!this.reused.has(s))return i.splice(o,1),o<a&&this.index[r]--,this.reused.set(s,n),s}return null}findWidget(e,t,n){let r=this.buckets[0];if(r.length)for(let i=0,a=0;;i++){if(i==r.length){if(a)return null;a=1,i=0}let o=r[i];if(!this.reused.has(o)&&(a==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return r.splice(i,1),i<this.index[0]&&this.index[0]--,this.reused.set(o,1),o.length=t,o.flags=o.flags&-498|n,o}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}},FI=class{constructor(e,t,n,r,i){this.view=e,this.decorations=r,this.disallowBlockEffectsFor=i,this.openWidget=!1,this.openMarks=0,this.cache=new PI(e),this.text=new MI(e.state.doc),this.builder=new jI(this.cache,new bI(e,e.contentDOM),IN.iter(n)),this.cache.reused.set(t,2),this.old=new kI(t),this.reuseWalker={skip:(e,t,n)=>{if(this.cache.add(e),e.isComposite())return!1},enter:e=>this.cache.add(e),leave:()=>{},break:()=>{}}}run(e,t){let n=t&&this.getCompositionContext(t.text);for(let r=0,i=0,a=0;;){let o=a<e.length?e[a++]:null,s=o?o.fromA:this.old.root.length;if(s>r){let e=s-r;this.preserve(e,!a,!o),r=s,i+=e}if(!o)break;this.forward(o.fromA,o.toA),t&&o.fromA<=t.range.fromA&&o.toA>=t.range.toA?(this.emit(i,t.range.fromB),this.builder.addComposition(t,n),this.text.skip(t.range.toB-t.range.fromB),this.emit(t.range.toB,o.toB)):this.emit(i,o.toB),i=o.toB,r=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,n){let r=BI(this.old),i=this.openMarks;this.old.advance(e,n?1:-1,{skip:(e,t,n)=>{if(e.isWidget())if(this.openWidget)this.builder.continueWidget(n-t);else{let a=n>0||t<e.length?DI.of(e.widget,this.view,n-t,e.flags&496,this.cache.maybeReuse(e)):this.cache.reuse(e);a.flags&256?(a.flags&=-2,this.builder.addBlockWidget(a)):(this.builder.ensureLine(null),this.builder.addInlineWidget(a,r,i),i=r.length)}else if(e.isText())this.builder.ensureLine(null),!t&&n==e.length?this.builder.addText(e.text,r,i,this.cache.reuse(e)):(this.cache.add(e),this.builder.addText(e.text.slice(t,n),r,i)),i=r.length;else if(e.isLine())e.flags&=-2,this.cache.reused.set(e,1),this.builder.addLine(e);else if(e instanceof OI)this.cache.add(e);else if(e instanceof TI)this.builder.ensureLine(null),this.builder.addMark(e,r,i),this.cache.reused.set(e,1),i=r.length;else return!1;this.openWidget=!1},enter:e=>{e.isLine()?this.builder.addLineStart(e.attrs,this.cache.maybeReuse(e)):(this.cache.add(e),e instanceof TI&&r.unshift(e.mark)),this.openWidget=!1},leave:e=>{e.isLine()?r.length&&=i=0:e instanceof TI&&(r.shift(),i=Math.min(i,r.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let n=null,r=this.builder,i=0,a=IN.spans(this.decorations,e,t,{point:(e,t,a,o,s,c)=>{if(a instanceof IP){if(this.disallowBlockEffectsFor[c]){if(a.block)throw RangeError(`Block decorations may not be specified via plugins`);if(t>this.view.state.doc.lineAt(e).to)throw RangeError(`Decorations that replace line breaks may not be specified via plugins`)}if(i=o.length,s>o.length)r.continueWidget(t-e);else{let i=a.widget||(a.block?HI.block:HI.inline),c=LI(a),l=this.cache.findWidget(i,t-e,c)||DI.of(i,this.view,t-e,c);a.block?(a.startSide>0&&r.addLineStartIfNotCovered(n),r.addBlockWidget(l)):(r.ensureLine(n),r.addInlineWidget(l,o,s))}n=null}else n=zI(n,a);t>e&&this.text.skip(t-e)},span:(e,t,i,a)=>{for(let o=e;o<t;){let e=this.text.next(Math.min(512,t-o));e==null?(r.addLineStartIfNotCovered(n),r.addBreak(),o++):(r.ensureLine(n),r.addText(e,i,a),o+=e.length),n=null}}});r.addLineStartIfNotCovered(n),this.openWidget=a>i,this.openMarks=a}forward(e,t){t-e<=10?this.old.advance(t-e,1,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(t-e-10,-1),this.old.advance(5,1,this.reuseWalker))}getCompositionContext(e){let t=[],n=null;for(let r=e.parentNode;;r=r.parentNode){let e=_I.get(r);if(r==this.view.contentDOM)break;e instanceof TI?t.push(e):e?.isLine()?n=e:r.nodeName==`DIV`&&!n&&r!=this.view.contentDOM?n=new SI(r,RI):t.push(TI.of(new PP({tagName:r.nodeName.toLowerCase(),attributes:AP(r)}),r))}return{line:n,marks:t}}};function II(e,t){let n=e=>{for(let r of e.children)if((t?r.isText():r.length)||n(r))return!0;return!1};return n(e)}function LI(e){let t=e.isReplace?(e.startSide<0?64:0)|(e.endSide>0?128:0):e.startSide>0?32:16;return e.block&&(t|=256),t}var RI={class:`cm-line`};function zI(e,t){let n=t.spec.attributes,r=t.spec.class;return!n&&!r?e:(e||={class:`cm-line`},n&&TP(n,e),r&&(e.class+=` `+r),e)}function BI(e){let t=[];for(let n=e.parents.length;n>1;n--){let r=n==e.parents.length?e.tile:e.parents[n].tile;r instanceof TI&&t.push(r.mark)}return t}function VI(e){let t=_I.get(e);return t&&t.setDOM(e.cloneNode()),e}var HI=class extends jP{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};HI.inline=new HI(`span`),HI.block=new HI(`div`);var UI=new class extends jP{toDOM(){return document.createElement(`br`)}get isHidden(){return!0}get editable(){return!0}},WI=class{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=NP.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new bI(e,e.contentDOM),this.updateInner([new mI(0,0,0,e.state.doc.length)],null)}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(this.domChanged?.newSel?n=this.domChanged.newSel.head:!tL(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let r=n>-1?JI(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){let{from:n,to:r}=this.hasComposition;t=new mI(n,r,e.changes.mapPos(n,-1),e.changes.mapPos(r,1)).addToSet(t.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(wP.ie||wP.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,a=this.blockWrappers;this.updateDeco();let o=ZI(i,this.decorations,e.changes);o.length&&(t=mI.extendWithRanges(t,o));let s=$I(a,this.blockWrappers,e.changes);return s.length&&(t=mI.extendWithRanges(t,s)),r&&!t.some(e=>e.fromA<=r.range.fromA&&e.toA>=r.range.toA)&&(t=r.range.addToSet(t.slice())),this.tile.flags&2&&t.length==0?!1:(this.updateInner(t,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:n}=this.view;n.ignore(()=>{if(t||e.length){let n=this.tile,r=new FI(this.view,n,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=r.run(e,t),GI(n,r.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+`px`,this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+`px`:``;let r=wP.chrome||wP.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(r),r&&(r.written||n.selectionRange.focusNode!=r.node||!this.tile.dom.contains(r.node))&&(this.forceSelection=!0),this.tile.dom.style.height=``});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.tile.children)e.isWidget()&&e.widget instanceof nL&&r.push(e.dom);n.updateGaps(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(XF)&&(this.editContextFormatting=e.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:n}=this.tile,r=this.view.root.activeElement,i=r==n,a=!i&&!(this.view.state.facet(QF)||n.tabIndex>-1)&&UP(n,this.view.observer.selectionRange)&&!(r&&n.contains(r));if(!(i||t||a))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,c,l;if(s.empty?l=c=this.inlineDOMNearPos(s.anchor,s.assoc||1):(l=this.inlineDOMNearPos(s.head,s.head==s.from?1:-1),c=this.inlineDOMNearPos(s.anchor,s.anchor==s.from?1:-1)),wP.gecko&&s.empty&&!this.hasComposition&&KI(c)){let e=document.createTextNode(``);this.view.observer.ignore(()=>c.node.insertBefore(e,c.node.childNodes[c.offset]||null)),c=l=new fF(e,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!GP(c.node,c.offset,u.anchorNode,u.anchorOffset)||!GP(l.node,l.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,s))&&(this.view.observer.ignore(()=>{wP.android&&wP.chrome&&n.contains(u.focusNode)&&eL(u.focusNode,n)&&(n.blur(),n.focus({preventScroll:!0}));let e=VP(this.view.root);if(e)if(s.empty){if(wP.gecko){let e=YI(c.node,c.offset);if(e&&e!=3){let t=(e==1?uF:dF)(c.node,c.offset);t&&(c=new fF(t.node,t.offset))}}e.collapse(c.node,c.offset),s.bidiLevel!=null&&e.caretBidiLevel!==void 0&&(e.caretBidiLevel=s.bidiLevel)}else if(e.extend){e.collapse(c.node,c.offset);try{e.extend(l.node,l.offset)}catch{}}else{let t=document.createRange();s.anchor>s.head&&([c,l]=[l,c]),t.setEnd(l.node,l.offset),t.setStart(c.node,c.offset),e.removeAllRanges(),e.addRange(t)}a&&this.view.root.activeElement==n&&(n.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,l)),this.impreciseAnchor=c.precise?null:new fF(u.anchorNode,u.anchorOffset),this.impreciseHead=l.precise?null:new fF(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&GP(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=VP(e.root),{anchorNode:r,anchorOffset:i}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let a=this.lineAt(t.head,t.assoc);if(!a)return;let o=a.posAtStart;if(t.head==o||t.head==o+a.length)return;let s=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!s||!c||s.bottom>c.top)return;let l=this.domAtPos(t.head+t.assoc,t.assoc);n.collapse(l.node,l.offset),n.modify(`move`,t.assoc<0?`forward`:`backward`,`lineboundary`),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,i)}posFromDOM(e,t){let n=this.tile.nearest(e);if(!n)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let r=n.posAtStart;if(n.isComposite()){let i;if(e==n.dom)i=n.dom.childNodes[t];else{let r=YP(e)==0?0:t==0?-1:1;for(;;){let t=e.parentNode;if(t==n.dom)break;r==0&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}i=r<0?e:e.nextSibling}if(i==n.dom.firstChild)return r;for(;i&&!_I.get(i);)i=i.nextSibling;if(!i)return r+n.length;for(let e=0,t=r;;e++){let r=n.children[e];if(r.dom==i)return t;t+=r.length+r.breakAfter}}else if(n.isText())return e==n.dom?r+t:r+(t?n.length:0);else return r}domAtPos(e,t){let{tile:n,offset:r}=this.tile.resolveBlock(e,t);return n.isWidget()?n.domPosFor(e,t):n.domIn(r,t)}inlineDOMNearPos(e,t){let n,r=-1,i=!1,a,o=-1,s=!1;return this.tile.blockTiles((t,c)=>{if(t.isWidget()){if(t.flags&32&&c>=e)return!0;t.flags&16&&(i=!0)}else{let l=c+t.length;if(c<=e&&(n=t,r=e-c,i=l<e),l>=e&&!a&&(a=t,o=e-c,s=c>e),c>e&&a)return!0}}),!n&&!a?this.domAtPos(e,t):(i&&a?n=null:s&&n&&(a=null),n&&t<0||!a?n.domIn(r,t):a.domIn(o,t))}coordsAt(e,t){let{tile:n,offset:r}=this.tile.resolveBlock(e,t);return n.isWidget()?n.widget instanceof nL?null:n.coordsInWidget(r,t,!0):n.coordsIn(r,t)}lineAt(e,t){let{tile:n}=this.tile.resolveBlock(e,t);return n.isLine()?n:null}coordsForChar(e){let{tile:t,offset:n}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function r(e,t){if(e.isComposite())for(let n of e.children){if(n.length>=t){let e=r(n,t);if(e)return e}if(t-=n.length,t<0)break}else if(e.isText()&&t<e.length){let n=xM(e.text,t);if(n==t)return null;let r=aF(e.dom,t,n).getClientRects();for(let e=0;e<r.length;e++){let t=r[e];if(e==r.length-1||t.top<t.bottom&&t.left<t.right)return t}}return null}return r(t,n)}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,i=this.view.contentDOM.clientWidth,a=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,s=this.view.textDirection==pF.LTR,c=0,l=(e,u,d)=>{for(let f=0;f<e.children.length&&!(u>r);f++){let r=e.children[f],p=u+r.length,m=r.dom.getBoundingClientRect(),{height:h}=m;if(d&&!f&&(c+=m.top-d.top),r instanceof xI)p>n&&l(r,u,m);else if(u>=n&&(c>0&&t.push(-c),t.push(h+c),c=0,a)){let e=r.dom.lastChild,t=e?WP(e):[];if(t.length){let e=t[t.length-1],n=s?e.right-m.left:m.right-e.left;n>o&&(o=n,this.minWidth=i,this.minWidthFrom=u,this.minWidthTo=p)}}d&&f==e.children.length-1&&(c+=d.bottom-m.bottom),u=p+r.breakAfter}};return l(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction==`rtl`?pF.RTL:pF.LTR}measureTextSize(){let e=this.tile.blockTiles(e=>{if(e.isLine()&&e.children.length&&e.length<=20){let t=0,n;for(let r of e.children){if(!r.isText()||/[^ -~]/.test(r.text))return;let e=WP(r.dom);if(e.length!=1)return;t+=e[0].width,n=e[0].height}if(t)return{lineHeight:e.dom.getBoundingClientRect().height,charWidth:t/e.length,textHeight:n}}});if(e)return e;let t=document.createElement(`div`),n,r,i;return t.className=`cm-line`,t.style.width=`99999px`,t.style.position=`absolute`,t.textContent=`abc def ghi jkl mno pqr stu`,this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let e=WP(t.firstChild)[0];n=t.getBoundingClientRect().height,r=e&&e.width?e.width/27:7,i=e&&e.height?e.height:n,t.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let i=r==t.viewports.length?null:t.viewports[r],a=i?i.from-1:this.view.state.doc.length;if(a>n){let r=(t.lineBlockAt(a).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(NP.replace({widget:new nL(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,a))}if(!i)break;n=i.to+1}return NP.set(e)}updateDeco(){let e=1,t=this.view.state.facet(aI).map(t=>(this.dynamicDecorationMap[e++]=typeof t==`function`)?t(this.view):t),n=!1,r=this.view.state.facet(sI).map((e,t)=>{let r=typeof e==`function`;return r&&(n=!0),r?e(this.view):e});for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push(IN.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(oI).map(e=>typeof e==`function`?e(this.view):e)}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=t.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let t of this.view.state.facet(qF))try{if(t(this.view,e.range,e))return!0}catch(e){ZF(this.view.state,e,`scroll handler`)}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!n)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let i=fI(this.view),a={left:n.left-i.left,top:n.top-i.top,right:n.right+i.right,bottom:n.bottom+i.bottom},{offsetWidth:o,offsetHeight:s}=this.view.scrollDOM;$P(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,s),-s),this.view.textDirection==pF.LTR)}lineHasWidget(e){let t=e=>e.isWidget()||e.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){GI(this.tile)}};function GI(e,t){let n=t?.get(e);if(n!=1){n??e.destroy();for(let n of e.children)GI(n,t)}}function KI(e){return e.node.nodeType==1&&e.node.firstChild&&(e.offset==0||e.node.childNodes[e.offset-1].contentEditable==`false`)&&(e.offset==e.node.childNodes.length||e.node.childNodes[e.offset].contentEditable==`false`)}function qI(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let r=uF(n.focusNode,n.focusOffset),i=dF(n.focusNode,n.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let t=_I.get(i.node);if(!t||t.isText()&&t.text!=i.node.nodeValue)a=i;else if(e.docView.lastCompositionAfterCursor){let e=_I.get(r.node);!e||e.isText()&&e.text!=r.node.nodeValue||(a=i)}}if(e.docView.lastCompositionAfterCursor=a!=r,!a)return null;let o=t-a.offset;return{from:o,to:o+a.node.nodeValue.length,node:a.node}}function JI(e,t,n){let r=qI(e,n);if(!r)return null;let{node:i,from:a,to:o}=r,s=i.nodeValue;if(/[\n\r]/.test(s)||e.state.doc.sliceString(r.from,r.to)!=s)return null;let c=t.invertedDesc;return{range:new mI(c.mapPos(a),c.mapPos(o),a,o),text:i}}function YI(e,t){return e.nodeType==1?(t&&e.childNodes[t-1].contentEditable==`false`?1:0)|(t<e.childNodes.length&&e.childNodes[t].contentEditable==`false`?2:0):0}var XI=class{constructor(){this.changes=[]}compareRange(e,t){zP(e,t,this.changes)}comparePoint(e,t){zP(e,t,this.changes)}boundChange(e){zP(e,e,this.changes)}};function ZI(e,t,n){let r=new XI;return IN.compare(e,t,n,r),r.changes}var QI=class{constructor(){this.changes=[]}compareRange(e,t){zP(e,t,this.changes)}comparePoint(){}boundChange(e){zP(e,e,this.changes)}};function $I(e,t,n){let r=new QI;return IN.compare(e,t,n,r),r.changes}function eL(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable==`false`)return!0;return!1}function tL(e,t){let n=!1;return t&&e.iterChangedRanges((e,r)=>{e<t.to&&r>t.from&&(n=!0)}),n}var nL=class extends jP{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement(`div`);return e.className=`cm-gap`,this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+`px`,!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}};function rL(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),a=t-i.from;if(i.length==0)return Q.cursor(t);a==0?n=1:a==i.length&&(n=-1);let o=a,s=a;n<0?o=xM(i.text,a,!1):s=xM(i.text,a);let c=r(i.text.slice(o,s));for(;o>0;){let e=xM(i.text,o,!1);if(r(i.text.slice(e,o))!=c)break;o=e}for(;s<i.length;){let e=xM(i.text,s);if(r(i.text.slice(s,e))!=c)break;s=e}return Q.range(o+i.from,s+i.from)}function iL(e,t,n,r,i){let a=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>e.defaultLineHeight*1.5){let t=e.viewState.heightOracle.textHeight,r=Math.floor((i-n.top-(e.defaultLineHeight-t)*.5)/t);a+=r*e.viewState.heightOracle.lineLength}let o=e.state.sliceDoc(n.from,n.to);return n.from+XN(o,a,e.state.tabSize)}function aL(e,t,n){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let e;for(let i of r.type){if(i.from>t)break;if(!(i.to<t)){if(i.from<t&&i.to>t)return i;(!e||i.type==MP.Text&&(e.type!=i.type||(n<0?i.from<t:i.to>t)))&&(e=i)}}return e||r}return r}function oL(e,t,n,r){let i=aL(e,t.head,t.assoc||-1),a=!r||i.type!=MP.Text||!(e.lineWrapping||i.widgetLineBreaks)?null:e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head);if(a){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(i.from),o=e.posAtCoords({x:n==(r==pF.LTR)?t.right-1:t.left+1,y:(a.top+a.bottom)/2});if(o!=null)return Q.cursor(o,n?-1:1)}return Q.cursor(n?i.to:i.from,n?-1:1)}function sL(e,t,n,r){let i=e.state.doc.lineAt(t.head),a=e.bidiSpans(i),o=e.textDirectionAt(i.from);for(let s=t,c=null;;){let t=PF(i,a,o,s,n),l=NF;if(!t){if(i.number==(n?e.state.doc.lines:1))return s;l=`
`,i=e.state.doc.line(i.number+(n?1:-1)),a=e.bidiSpans(i),t=e.visualLineSide(i,!n)}if(c){if(!c(l))return s}else{if(!r)return t;c=r(l)}s=t}}function cL(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return e=>{let t=r(e);return i==wN.Space&&(i=t),i==t}}function lL(e,t,n,r){let i=t.head,a=n?1:-1;if(i==(n?e.state.doc.length:0))return Q.cursor(i,t.assoc);let o=t.goalColumn,s,c=e.contentDOM.getBoundingClientRect(),l=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(l)o??=l.left-c.left,s=a<0?l.top:l.bottom;else{let t=e.viewState.lineBlockAt(i);o??=Math.min(c.right-c.left,e.defaultCharacterWidth*(i-t.from)),s=(a<0?t.top:t.bottom)+u}let d=c.left+o,f=r??e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=mL(e,{x:d,y:s+(f+t)*a},!1,a);return Q.cursor(n.pos,n.assoc,void 0,o)}}function uL(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,(e,i,a)=>{if(t>e&&t<i){let a=r||n||(t-e<i-t?-1:1);t=a<0?e:i,r=a}});if(!r)return t}}function dL(e,t){let n=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],a=null;if(i.empty){let t=uL(e,i.from,0);t!=i.from&&(a=Q.cursor(t,-1))}else{let t=uL(e,i.from,-1),n=uL(e,i.to,1);(t!=i.from||n!=i.to)&&(a=Q.range(i.from==i.anchor?t:n,i.from==i.head?t:n))}a&&(n||=t.ranges.slice(),n[r]=a)}return n?Q.create(n,t.mainIndex):t}function fL(e,t,n){let r=uL(e.state.facet(cI).map(t=>t(e)),n.from,t.head>n.from?-1:1);return r==n.from?n:Q.cursor(r,r<n.from?1:-1)}var pL=class{constructor(e,t){this.pos=e,this.assoc=t}};function mL(e,t,n,r){let i=e.contentDOM.getBoundingClientRect(),a=i.top+e.viewState.paddingTop,{x:o,y:s}=t,c=s-a,l;for(;;){if(c<0)return new pL(0,1);if(c>e.viewState.docHeight)return new pL(e.state.doc.length,-1);if(l=e.elementAtHeight(c),r==null)break;if(l.type==MP.Text){let t=e.docView.coordsAt(r<0?l.from:l.to,r);if(t&&(r<0?t.top<=c+a:t.bottom>=c+a))break}let t=e.viewState.heightOracle.textHeight/2;c=r>0?l.bottom+t:l.top-t}if(e.viewport.from>=l.to||e.viewport.to<=l.from){if(n)return null;if(l.type==MP.Text){let t=iL(e,i,l,o,s);return new pL(t,t==l.from?1:-1)}}if(l.type!=MP.Text)return c<(l.top+l.bottom)/2?new pL(l.from,1):new pL(l.to,-1);let u=e.docView.lineAt(l.from,2);return(!u||u.length!=l.length)&&(u=e.docView.lineAt(l.from,-2)),hL(e,u,l.from,o,s)}function hL(e,t,n,r,i){let a=-1,o=null,s=1e9,c=1e9,l=i,u=i,d=(e,t)=>{for(let n=0;n<e.length;n++){let d=e[n];if(d.top==d.bottom)continue;let f=d.left>r?d.left-r:d.right<r?r-d.right:0,p=d.top>i?d.top-i:d.bottom<i?i-d.bottom:0;d.top<=u&&d.bottom>=l&&(l=Math.min(d.top,l),u=Math.max(d.bottom,u),p=0),(a<0||(p-c||f-s)<0)&&(a>=0&&c&&s<f&&o.top<=u-2&&o.bottom>=l+2?c=0:(a=t,s=f,c=p,o=d))}};if(t.isText()){for(let e=0;e<t.length;){let n=xM(t.text,e);if(d(aF(t.dom,e,n).getClientRects(),e),!s&&!c)break;e=n}return r>(o.left+o.right)/2==(gL(e,a+n)==pF.LTR)?new pL(n+xM(t.text,a),-1):new pL(n+a,1)}else{if(!t.length)return new pL(n,1);for(let e=0;e<t.children.length;e++){let n=t.children[e];if(!(n.flags&48)&&(d((n.dom.nodeType==1?n.dom:aF(n.dom,0,n.length)).getClientRects(),e),!s&&!c))break}let l=t.children[a],u=t.posBefore(l,n);return l.isComposite()||l.isText()?hL(e,l,u,Math.max(o.left,Math.min(o.right,r)),i):r>(o.left+o.right)/2==(gL(e,a+n)==pF.LTR)?new pL(u+l.length,-1):new pL(u,1)}}function gL(e,t){let n=e.state.doc.lineAt(t);return e.bidiSpans(n)[CF.find(e.bidiSpans(n),t-n.from,-1,1)].dir}var _L=`ï¿¿`,vL=class{constructor(e,t){this.points=e,this.view=t,this.text=``,this.lineSeparator=t.state.facet(kN.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=_L}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let i=_I.get(r),a=r.nextSibling;if(a==t){i?.breakAfter&&!a&&n!=this.view.contentDOM&&this.lineBreak();break}let o=_I.get(a);(i&&o?i.breakAfter:(i?i.breakAfter:qP(r))||qP(a)&&(r.nodeName!=`BR`||i?.isWidget())&&this.text.length>e)&&!bL(a,t)&&this.lineBreak(),r=a}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,a=1,o;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,a=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=a-1);n=i+a}}readNode(e){let t=_I.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName==`BR`?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(yL(e,n.node,n.offset)?t:0))}};function yL(e,t,n){for(;;){if(!t||n<YP(t))return!1;if(t==e)return!0;n=KP(t)+1,t=t.parentNode}}function bL(e,t){let n;for(;!(e==t||!e);e=e.nextSibling){let t=_I.get(e);if(!t?.isWidget())return!1;t&&(n||=[]).push(t)}if(n){for(let e of n)if(e.overrideDOMText?.length)return!1}return!0}var xL=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},SL=class{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text=``,this.domChanged=t>-1;let{impreciseHead:i,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=CL(e.docView.tile,t,n,0))){let t=i||a?[]:OL(e),n=new vL(t,e);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=kL(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=i&&i.node==t.focusNode&&i.offset==t.focusOffset||!HP(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=a&&a.node==t.anchorNode&&a.offset==t.anchorOffset||!HP(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),o=e.viewport;if((wP.ios||wP.chrome)&&e.state.selection.main.empty&&n!=r&&(o.from>0||o.to<e.state.doc.length)){let t=Math.min(n,r),i=Math.max(n,r),a=o.from-t,s=o.to-i;(a==0||a==1||t==0)&&(s==0||s==-1||i==e.state.doc.length)&&(n=0,r=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Q.range(r,n)):this.newSel=Q.single(r,n)}}};function CL(e,t,n,r){if(e.isComposite()){let i=-1,a=-1,o=-1,s=-1;for(let c=0,l=r,u=r;c<e.children.length;c++){let r=e.children[c],d=l+r.length;if(l<t&&d>n)return CL(r,t,n,l);if(d>=t&&i==-1&&(i=c,a=l),l>n&&r.dom.parentNode==e.dom){o=c,s=u;break}u=d,l=d+r.breakAfter}return{from:a,to:s<0?r+e.length:s,startDOM:(i?e.children[i-1].dom.nextSibling:null)||e.dom.firstChild,endDOM:o<e.children.length&&o>=0?e.children[o].dom:null}}else if(e.isText())return{from:r,to:r+e.length,startDOM:e.dom,endDOM:e.dom.nextSibling};else return null}function wL(e,t){let n,{newSel:r}=t,i=e.state.selection.main,a=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:o}=t.bounds,s=i.from,c=null;(a===8||wP.android&&t.text.length<o-r)&&(s=i.to,c=`end`);let l=DL(e.state.doc.sliceString(r,o,_L),t.text,s-r,c);l&&(wP.chrome&&a==13&&l.toB==l.from+2&&t.text.slice(l.from,l.toB)==_L+_L&&l.toB--,n={from:r+l.from,to:r+l.toA,insert:uM.of(t.text.slice(l.from,l.toB).split(_L))})}else r&&(!e.hasFocus&&e.state.facet(QF)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:(wP.mac||wP.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&e.contentDOM.getAttribute(`autocorrect`)==`off`?(r&&n.insert.length==2&&(r=Q.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:uM.of([n.insert.toString().replace(`.`,` `)])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:e.state.doc.lineAt(i.from).to<i.to&&e.docView.lineHasWidget(i.to)&&e.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:e.state.toText(e.inputState.insertingText)}:wP.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&e.lineWrapping&&(r&&=Q.single(r.main.anchor-1,r.main.head-1),n={from:i.from,to:i.to,insert:uM.of([` `])}),n)return TL(e,n,r,a);if(r&&!r.main.eq(i)){let t=!1,n=`select`;return e.inputState.lastSelectionTime>Date.now()-50&&(e.inputState.lastSelectionOrigin==`select`&&(t=!0),n=e.inputState.lastSelectionOrigin,n==`select.pointer`&&(r=dL(e.state.facet(cI).map(t=>t(e)),r))),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}else return!1}function TL(e,t,n,r=-1){if(wP.ios&&e.inputState.flushIOSKey(t))return!0;let i=e.state.selection.main;if(wP.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&e.state.sliceDoc(t.from,i.from)==` `)&&t.insert.length==1&&t.insert.lines==2&&oF(e.contentDOM,`Enter`,13)||(t.from==i.from-1&&t.to==i.to&&t.insert.length==0||r==8&&t.insert.length<t.to-t.from&&t.to>i.head)&&oF(e.contentDOM,`Backspace`,8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&oF(e.contentDOM,`Delete`,46)))return!0;let a=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let o,s=()=>o||=EL(e,t,n);return e.state.facet(VF).some(n=>n(e,t.from,t.to,a,s))||e.dispatch(s()),!0}function EL(e,t,n){let r,i=e.state,a=i.selection.main,o=-1;if(t.from==t.to&&t.from<a.from||t.from>a.to){let n=t.from<a.from?-1:1,r=n<0?a.from:a.to,s=uL(i.facet(cI).map(t=>t(e)),r,n);t.from==s&&(o=s)}if(o>-1)r={changes:t,selection:Q.cursor(t.from+t.insert.length,-1)};else if(t.from>=a.from&&t.to<=a.to&&t.to-t.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=a.from<t.from?i.sliceDoc(a.from,t.from):``,o=a.to>t.to?i.sliceDoc(t.to,a.to):``;r=i.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+o))}else{let o=i.changes(t),s=n&&n.main.to<=o.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(e.inputState.composing>=0||e.inputState.compositionPendingChange)&&t.to<=a.to+10&&t.to>=a.to-10){let c=e.state.sliceDoc(t.from,t.to),l,u=n&&qI(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);l={from:u.from,to:u.to-e}}else l=e.state.doc.lineAt(a.head);let d=a.to-t.to;r=i.changeByRange(n=>{if(n.from==a.from&&n.to==a.to)return{changes:o,range:s||n.map(o)};let r=n.to-d,u=r-c.length;if(e.state.sliceDoc(u,r)!=c||r>=l.from&&u<=l.to)return{range:n};let f=i.changes({from:u,to:r,insert:t.insert}),p=n.to-a.to;return{changes:f,range:s?Q.range(Math.max(0,s.anchor+p),Math.max(0,s.head+p)):n.map(f)}})}else r={changes:o,selection:s&&i.selection.replaceRange(s)}}let s=`input.type`;return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,s+=`.compose`,e.inputState.compositionFirstChange&&(s+=`.start`,e.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function DL(e,t,n,r){let i=Math.min(e.length,t.length),a=0;for(;a<i&&e.charCodeAt(a)==t.charCodeAt(a);)a++;if(a==i&&e.length==t.length)return null;let o=e.length,s=t.length;for(;o>0&&s>0&&e.charCodeAt(o-1)==t.charCodeAt(s-1);)o--,s--;if(r==`end`){let e=Math.max(0,a-Math.min(o,s));n-=o+e-a}if(o<a&&e.length<t.length){let e=n<=a&&n>=o?a-n:0;a-=e,s=a+(s-o),o=a}else if(s<a){let e=n<=a&&n>=s?a-n:0;a-=e,o=a+(o-s),s=a}return{from:a,toA:o,toB:s}}function OL(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=e.observer.selectionRange;return n&&(t.push(new xL(n,r)),(i!=n||a!=r)&&t.push(new xL(i,a))),t}function kL(e,t){if(e.length==0)return null;let n=e[0].pos,r=e.length==2?e[1].pos:n;return n>-1&&r>-1?Q.single(n+t,r+t):null}var AL=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText=``,this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,wP.safari&&e.contentDOM.addEventListener(`input`,()=>null),wP.gecko&&fR(e.contentDOM.ownerDocument)}handleEvent(e){!UL(this.view,e)||this.ignoreDuringComposition(e)||e.type==`keydown`&&this.keydown(e)||(this.view.updateState==0?this.runHandlers(e.type,e):Promise.resolve().then(()=>this.runHandlers(e.type,e)))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=ML(e),n=this.handlers,r=this.view.contentDOM;for(let e in t)if(e!=`scroll`){let i=!t[e].handlers.length,a=n[e];a&&i!=!a.handlers.length&&(r.removeEventListener(e,this.handleEvent),a=null),a||r.addEventListener(e,this.handleEvent,{passive:i})}for(let e in n)e!=`scroll`&&!t[e]&&r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&FL.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),wP.android&&wP.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return wP.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=NL.find(t=>t.keyCode==e.keyCode))&&!e.ctrlKey||PL.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key==`Enter`&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,oF(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:wP.safari&&!wP.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function jL(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(e){ZF(n.state,e)}}}function ML(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec,r=e&&e.plugin.domEventHandlers,i=e&&e.plugin.domEventObservers;if(r)for(let e in r){let i=r[e];i&&n(e).handlers.push(jL(t.value,i))}if(i)for(let e in i){let r=i[e];r&&n(e).observers.push(jL(t.value,r))}}for(let e in WL)n(e).handlers.push(WL[e]);for(let e in GL)n(e).observers.push(GL[e]);return t}var NL=[{key:`Backspace`,keyCode:8,inputType:`deleteContentBackward`},{key:`Enter`,keyCode:13,inputType:`insertParagraph`},{key:`Enter`,keyCode:13,inputType:`insertLineBreak`},{key:`Delete`,keyCode:46,inputType:`deleteContentForward`}],PL=`dthko`,FL=[16,17,18,20,91,92,224,225],IL=6;function LL(e){return Math.max(0,e)*.7+8}function RL(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}var zL=class{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=eF(e.contentDOM),this.atoms=e.state.facet(cI).map(t=>t(e));let i=e.contentDOM.ownerDocument;i.addEventListener(`mousemove`,this.move=this.move.bind(this)),i.addEventListener(`mouseup`,this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(kN.allowMultipleSelections)&&BL(e,t),this.dragging=HL(e,t)&&tR(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&RL(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,r=0,i=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:o}=this.scrollParents.y.getBoundingClientRect());let s=fI(this.view);e.clientX-s.left<=r+IL?t=-LL(r-e.clientX):e.clientX+s.right>=a-IL&&(t=LL(e.clientX-a)),e.clientY-s.top<=i+IL?n=-LL(i-e.clientY):e.clientY+s.bottom>=o-IL&&(n=LL(e.clientY-o)),this.setScrollSpeed(t,n)}up(e){this.dragging??this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener(`mousemove`,this.move),e.removeEventListener(`mouseup`,this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,n=dL(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:`select.pointer`}),this.mustSelect=!1}update(e){e.transactions.some(e=>e.isUserEvent(`input.type`))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function BL(e,t){let n=e.state.facet(IF);return n.length?n[0](t):wP.mac?t.metaKey:t.ctrlKey}function VL(e,t){let n=e.state.facet(LF);return n.length?n[0](t):wP.mac?!t.altKey:!t.ctrlKey}function HL(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=VP(e.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){let n=i[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}function UL(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target,r;n!=e.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=_I.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(t))return!1;return!0}var WL=Object.create(null),GL=Object.create(null),KL=wP.ie&&wP.ie_version<15||wP.ios&&wP.webkit_version<604;function qL(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement(`textarea`));n.style.cssText=`position: fixed; left: -10000px; top: 10px`,n.focus(),setTimeout(()=>{e.focus(),n.remove(),YL(e,n.value)},50)}function JL(e,t,n){for(let r of e.facet(t))n=r(n,e);return n}function YL(e,t){t=JL(e.state,UF,t);let{state:n}=e,r,i=1,a=n.toText(t),o=a.lines==n.selection.ranges.length;if(sR!=null&&n.selection.ranges.every(e=>e.empty)&&sR==a.toString()){let e=-1;r=n.changeByRange(r=>{let s=n.doc.lineAt(r.from);if(s.from==e)return{range:r};e=s.from;let c=n.toText((o?a.line(i++).text:t)+n.lineBreak);return{changes:{from:s.from,insert:c},range:Q.cursor(r.from+c.length)}})}else r=o?n.changeByRange(e=>{let t=a.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Q.cursor(e.from+t.length)}}):n.replaceSelection(a);e.dispatch(r,{userEvent:`input.paste`,scrollIntoView:!0})}GL.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},WL.keydown=(e,t)=>(e.inputState.setSelectionOrigin(`select`),t.keyCode==27&&e.inputState.tabFocusMode!=0&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),GL.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin(`select.pointer`)},GL.touchmove=e=>{e.inputState.setSelectionOrigin(`select.pointer`)},WL.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(RF))if(n=r(e,t),n)break;if(!n&&t.button==0&&(n=nR(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new zL(e,t,n,r)),r&&e.observer.ignore(()=>{rF(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()});let i=e.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}else e.inputState.setSelectionOrigin(`select.pointer`);return!1};function XL(e,t,n,r){if(r==1)return Q.cursor(t,n);if(r==2)return rL(e.state,t,n);{let r=e.docView.lineAt(t,n),i=e.state.doc.lineAt(r?r.posAtEnd:t),a=r?r.posAtStart:i.from,o=r?r.posAtEnd:i.to;return o<e.state.doc.length&&o==i.to&&o++,Q.range(a,o)}}var ZL=wP.ie&&wP.ie_version<=11,QL=null,$L=0,eR=0;function tR(e){if(!ZL)return e.detail;let t=QL,n=eR;return QL=e,eR=Date.now(),$L=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?($L+1)%3:1}function nR(e,t){let n=e.posAndSideAtCoords({x:t.clientX,y:t.clientY},!1),r=tR(t),i=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get(t,a,o){let s=e.posAndSideAtCoords({x:t.clientX,y:t.clientY},!1),c,l=XL(e,s.pos,s.assoc,r);if(n.pos!=s.pos&&!a){let t=XL(e,n.pos,n.assoc,r),i=Math.min(t.from,l.from),a=Math.max(t.to,l.to);l=i<l.from?Q.range(i,a):Q.range(a,i)}return a?i.replaceRange(i.main.extend(l.from,l.to)):o&&r==1&&i.ranges.length>1&&(c=rR(i,s.pos))?c:o?i.addRange(l):Q.create([l])}}}function rR(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:i}=e.ranges[n];if(r<=t&&i>=t)return Q.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}WL.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let r=e.docView.tile.nearest(t.target);if(r&&r.isWidget()){let e=r.posAtStart,t=e+r.length;(e>=n.to||t<=n.from)&&(n=Q.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData(`Text`,JL(e.state,WF,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed=`copyMove`),!1},WL.dragend=e=>(e.inputState.draggedContent=null,!1);function iR(e,t,n,r){if(n=JL(e.state,UF,n),!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:a}=e.inputState,o=r&&a&&VL(e,t)?{from:a.from,to:a.to}:null,s={from:i,insert:n},c=e.state.changes(o?[o,s]:s);e.focus(),e.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:o?`move.drop`:`input.drop`}),e.inputState.draggedContent=null}WL.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,a=()=>{++i==n.length&&iR(e,t,r.filter(e=>e!=null).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=a,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),a()},t.readAsText(n[e])}return!0}else{let n=t.dataTransfer.getData(`Text`);if(n)return iR(e,t,n,!0),!0}return!1},WL.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=KL?null:t.clipboardData;return n?(YL(e,n.getData(`text/plain`)||n.getData(`text/uri-list`)),!0):(qL(e),!1)};function aR(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement(`textarea`));r.style.cssText=`position: fixed; left: -10000px; top: 10px`,r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),e.focus()},50)}function oR(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let i=-1;for(let{from:r}of e.selection.ranges){let a=e.doc.lineAt(r);a.number>i&&(t.push(a.text),n.push({from:a.from,to:Math.min(e.doc.length,a.to+1)})),i=a.number}r=!0}return{text:JL(e,WF,t.join(e.lineBreak)),ranges:n,linewise:r}}var sR=null;WL.copy=WL.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=oR(e.state);if(!n&&!i)return!1;sR=i?n:null,t.type==`cut`&&!e.state.readOnly&&e.dispatch({changes:r,scrollIntoView:!0,userEvent:`delete.cut`});let a=KL?null:t.clipboardData;return a?(a.clearData(),a.setData(`text/plain`,n),!0):(aR(e,n),!1)};var cR=dN.define();function lR(e,t){let n=[];for(let r of e.facet(HF)){let i=r(e,t);i&&n.push(i)}return n.length?e.update({effects:n,annotations:cR.of(!0)}):null}function uR(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=lR(e.state,t);n?e.dispatch(n):e.update([])}},10)}GL.focus=e=>{e.inputState.lastFocusTime=Date.now(),!e.scrollDOM.scrollTop&&(e.inputState.lastScrollTop||e.inputState.lastScrollLeft)&&(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),uR(e)},GL.blur=e=>{e.observer.clearSelectionRange(),uR(e)},GL.compositionstart=GL.compositionupdate=e=>{e.observer.editContext||(e.inputState.compositionFirstChange??(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},GL.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,wP.chrome&&wP.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50))},GL.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},WL.beforeinput=(e,t)=>{if((t.inputType==`insertText`||t.inputType==`insertCompositionText`)&&(e.inputState.insertingText=t.data,e.inputState.insertingTextAt=Date.now()),t.inputType==`insertReplacementText`&&e.observer.editContext){let n=t.dataTransfer?.getData(`text/plain`),r=t.getTargetRanges();if(n&&r.length){let t=r[0];return TL(e,{from:e.posAtDOM(t.startContainer,t.startOffset),to:e.posAtDOM(t.endContainer,t.endOffset),insert:e.state.toText(n)},null),!0}}let n;if(wP.chrome&&wP.android&&(n=NL.find(e=>e.inputType==t.inputType))&&(e.observer.delayAndroidKey(n.key,n.keyCode),n.key==`Backspace`||n.key==`Delete`)){let t=window.visualViewport?.height||0;setTimeout(()=>{(window.visualViewport?.height||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return wP.ios&&t.inputType==`deleteContentForward`&&e.observer.flushSoon(),wP.safari&&t.inputType==`insertText`&&e.inputState.composing>=0&&setTimeout(()=>GL.compositionend(e,t),20),!1};var dR=new Set;function fR(e){dR.has(e)||(dR.add(e),e.addEventListener(`copy`,()=>{}),e.addEventListener(`cut`,()=>{}))}var pR=[`pre-wrap`,`normal`,`pre-line`,`break-spaces`],mR=!1;function hR(){mR=!1}var gR=class{constructor(e){this.lineWrapping=e,this.doc=uM.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return pR.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,n,r,i,a){let o=pR.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=i,s){this.heightSamples={};for(let e=0;e<a.length;e++){let t=a[e];t<0?e++:this.heightSamples[Math.floor(t*10)]=!0}}return s}},_R=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},vR=class e{constructor(e,t,n,r,i){this.from=e,this.length=t,this.top=n,this.height=r,this._content=i}get type(){return typeof this._content==`number`?MP.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof IP?this._content.widget:null}get widgetLineBreaks(){return typeof this._content==`number`?this._content:0}join(t){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new e(this.from,this.length+t.length,this.top,this.height+t.height,n)}},yR=(function(e){return e[e.ByPos=0]=`ByPos`,e[e.ByHeight=1]=`ByHeight`,e[e.ByPosNoHeight=2]=`ByPosNoHeight`,e})(yR||={}),bR=.001,xR=class e{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>bR&&(mR=!0),this.height=e)}replace(t,n,r){return e.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let i=this,a=n.doc;for(let o=r.length-1;o>=0;o--){let{fromA:s,toA:c,fromB:l,toB:u}=r[o],d=i.lineAt(s,yR.ByPosNoHeight,n.setDoc(t),0,0),f=d.to>=c?d:i.lineAt(c,yR.ByPosNoHeight,n,0,0);for(u+=f.to-c,c=f.to;o>0&&d.from<=r[o-1].toA;)s=r[o-1].fromA,l=r[o-1].fromB,o--,s<d.from&&(d=i.lineAt(s,yR.ByPosNoHeight,n,0,0));l+=d.from-s,s=d.from;let p=AR.build(n.setDoc(a),e,l,u);i=SR(i,i.replace(s,c,p))}return i.updateHeight(n,0)}static empty(){return new TR(0,0,0)}static of(t){if(t.length==1)return t[0];let n=0,r=t.length,i=0,a=0;for(;;)if(n==r)if(i>a*2){let e=t[n-1];e.break?t.splice(--n,1,e.left,null,e.right):t.splice(--n,1,e.left,e.right),r+=1+e.break,i-=e.size}else if(a>i*2){let e=t[r];e.break?t.splice(r,1,e.left,null,e.right):t.splice(r,1,e.left,e.right),r+=2+e.break,a-=e.size}else break;else if(i<a){let e=t[n++];e&&(i+=e.size)}else{let e=t[--r];e&&(a+=e.size)}let o=0;return t[n-1]==null?(o=1,n--):t[n]??(o=1,r++),new DR(e.of(t.slice(0,n)),o,e.of(t.slice(r)))}};function SR(e,t){return e==t?e:(e.constructor!=t.constructor&&(mR=!0),t)}xR.prototype.size=1;var CR=NP.replace({}),wR=class extends xR{constructor(e,t,n){super(e,t),this.deco=n,this.spaceAbove=0}mainBlock(e,t){return new vR(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,n,r){return this.spaceAbove&&e<n+this.spaceAbove?new vR(r,0,n,this.spaceAbove,CR):this.mainBlock(n,r)}lineAt(e,t,n,r,i){let a=this.mainBlock(r,i);return this.spaceAbove?this.blockAt(0,n,r,i).join(a):a}forEachLine(e,t,n,r,i,a){e<=i+this.length&&t>=i&&a(this.lineAt(0,yR.ByPos,n,r,i))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setMeasuredHeight(r),this.outdated=!1,this}toString(){return`block(${this.length})`}},TR=class e extends wR{constructor(e,t,n){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=n}mainBlock(e,t){return new vR(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(t,n,r){let i=r[0];return r.length==1&&(i instanceof e||i instanceof ER&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ER?i=new e(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):xR.of(r)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setMeasuredHeight(r):(n||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:``}${this.widgetHeight?`:`+this.widgetHeight:``})`}},ER=class e extends xR{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,i=r-n+1,a,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*i);a=t/i,this.length>i+1&&(o=(this.height-t)/(this.length-i-1))}else a=this.height/i;return{firstLine:n,lastLine:r,perLine:a,perChar:o}}blockAt(e,t,n,r){let{firstLine:i,lastLine:a,perLine:o,perChar:s}=this.heightMetrics(t,r);if(t.lineWrapping){let i=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),a=t.doc.lineAt(i),c=o+a.length*s,l=Math.max(n,e-c/2);return new vR(a.from,a.length,l,c,0)}else{let r=Math.max(0,Math.min(a-i,Math.floor((e-n)/o))),{from:s,length:c}=t.doc.line(i+r);return new vR(s,c,n+o*r,o,0)}}lineAt(e,t,n,r,i){if(t==yR.ByHeight)return this.blockAt(e,n,r,i);if(t==yR.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new vR(t,r-t,0,0,0)}let{firstLine:a,perLine:o,perChar:s}=this.heightMetrics(n,i),c=n.doc.lineAt(e),l=o+c.length*s,u=c.number-a,d=r+o*u+s*(c.from-i-u);return new vR(c.from,c.length,Math.max(r,Math.min(d,r+this.height-l)),l,0)}forEachLine(e,t,n,r,i,a){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:o,perLine:s,perChar:c}=this.heightMetrics(n,i);for(let l=e,u=r;l<=t;){let t=n.doc.lineAt(l);if(l==e){let n=t.number-o;u+=s*n+c*(e-i-n)}let r=s+c*t.length;a(new vR(t.from,t.length,u,r,0)),u+=r,l=t.to+1}}replace(t,n,r){let i=this.length-n;if(i>0){let t=r[r.length-1];t instanceof e?r[r.length-1]=new e(t.length+i):r.push(null,new e(i-1))}if(t>0){let n=r[0];n instanceof e?r[0]=new e(t+n.length):r.unshift(new e(t-1),null)}return xR.of(r)}decomposeLeft(t,n){n.push(new e(t-1),null)}decomposeRight(t,n){n.push(null,new e(this.length-t-1))}updateHeight(t,n=0,r=!1,i){let a=n+this.length;if(i&&i.from<=n+this.length&&i.more){let r=[],o=Math.max(n,i.from),s=-1;for(i.from>n&&r.push(new e(i.from-n-1).updateHeight(t,n));o<=a&&i.more;){let e=t.doc.lineAt(o).length;r.length&&r.push(null);let n=i.heights[i.index++],a=0;n<0&&(a=-n,n=i.heights[i.index++]),s==-1?s=n:Math.abs(n-s)>=bR&&(s=-2);let c=new TR(e,n,a);c.outdated=!1,r.push(c),o+=e+1}o<=a&&r.push(null,new e(a-o).updateHeight(t,o));let c=xR.of(r);return(s<0||Math.abs(c.height-this.height)>=bR||Math.abs(s-this.heightMetrics(t,n).perLine)>=bR)&&(mR=!0),SR(this,c)}else (r||this.outdated)&&(this.setHeight(t.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},DR=class extends xR{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,r){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}lineAt(e,t,n,r,i){let a=r+this.left.height,o=i+this.left.length+this.break,s=t==yR.ByHeight?e<a:e<o,c=s?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,a,o);if(this.break||(s?c.to<o:c.from>o))return c;let l=t==yR.ByPosNoHeight?yR.ByPosNoHeight:yR.ByPos;return s?c.join(this.right.lineAt(o,l,n,a,o)):this.left.lineAt(o,l,n,r,i).join(c)}forEachLine(e,t,n,r,i,a){let o=r+this.left.height,s=i+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,i,a),t>=s&&this.right.forEachLine(e,t,n,o,s,a);else{let c=this.lineAt(s,yR.ByPos,n,r,i);e<c.from&&this.left.forEachLine(e,c.from-1,n,r,i,a),c.to>=e&&c.from<=t&&a(c),t>c.to&&this.right.forEachLine(c.to+1,t,n,o,s,a)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let i=[];e>0&&this.decomposeLeft(e,i);let a=i.length;for(let e of n)i.push(e);if(e>0&&OR(i,a-1),t<this.length){let e=i.length;this.decomposeRight(t,i),OR(i,e)}return xR.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?xR.of(this.break?[e,null,t]:[e,t]):(this.left=SR(this.left,e),this.right=SR(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:i,right:a}=this,o=t+i.length+this.break,s=null;return r&&r.from<=t+i.length&&r.more?s=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=o+a.length&&r.more?s=a=a.updateHeight(e,o,n,r):a.updateHeight(e,o,n),s?this.balanced(i,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?` `:`-`)+this.right}};function OR(e,t){let n,r;e[t]==null&&(n=e[t-1])instanceof ER&&(r=e[t+1])instanceof ER&&e.splice(t-1,3,new ER(n.length+1+r.length))}var kR=5,AR=class e{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof TR?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new TR(e-this.pos,-1,0)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let a=t-e;n.block?this.addBlock(new wR(a,r,n)):(a||i||r>=kR)&&this.addLineDeco(r,i,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new TR(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let n=new ER(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof TR)return e;let t=new TR(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos+=e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos+=n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof TR)&&!this.isCovered?this.nodes.push(new TR(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let e of this.nodes)e instanceof TR&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(t,n,r,i){let a=new e(r,t);return IN.spans(n,r,i,a,0),a.finish(r)}};function jR(e,t,n){let r=new MR;return IN.compare(e,t,n,r,0),r.changes}var MR=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&zP(e,t,this.changes,5)}};function NR(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),c=Math.min(i.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(t.nodeType==1){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&r.overflow!=`visible`){let r=n.getBoundingClientRect();a=Math.max(a,r.left),o=Math.min(o,r.right),s=Math.max(s,r.top),c=Math.min(t==e.parentNode?i.innerHeight:c,r.bottom)}t=r.position==`absolute`||r.position==`fixed`?n.offsetParent:n.parentNode}else if(t.nodeType==11)t=t.host;else break;return{left:a-n.left,right:Math.max(a,o)-n.left,top:s-(n.top+t),bottom:Math.max(s,c)-(n.top+t)}}function PR(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}function FR(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}var IR=class{constructor(e,t,n,r){this.from=e,this.to=t,this.size=n,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(e,t){return NP.replace({widget:new LR(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}},LR=class extends jP{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement(`div`);return this.vertical?e.style.height=this.size+`px`:(e.style.width=this.size+`px`,e.style.height=`2px`,e.style.display=`inline-block`),e}get estimatedHeight(){return this.vertical?this.size:-1}},RR=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=WR,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=pF.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightOracle=new gR(e.facet(iI).some(e=>typeof e!=`function`&&e.class==`cm-lineWrapping`)),this.stateDeco=e.facet(aI).filter(e=>typeof e!=`function`),this.heightMap=xR.empty().applyChanges(this.stateDeco,uM.empty,this.heightOracle.setDoc(e.doc),[new mI(0,0,0,e.doc.length)]);for(let e=0;e<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());e++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=NP.set(this.lineGaps.map(e=>e.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some(({from:e,to:t})=>r>=e&&r<=t)){let{from:t,to:n}=this.lineBlockAt(r);e.push(new zR(t,n))}}return this.viewports=e.sort((e,t)=>e.from-t.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?WR:new GR(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(KR(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(aI).filter(e=>typeof e!=`function`);let r=e.changedRanges,i=mI.extendWithRanges(r,jR(n,this.stateDeco,e?e.changes:AM.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);hR(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=a||mR)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let s=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let c=s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(KF)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection=n.direction==`rtl`?pF.RTL:pF.LTR;let a=this.heightOracle.mustRefreshForWrapping(i),o=t.getBoundingClientRect(),s=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let c=0,l=0;if(o.width&&o.height){let{scaleX:e,scaleY:n}=QP(t,o);(e>.005&&Math.abs(this.scaleX-e)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=e,this.scaleY=n,c|=16,a=s=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=d)&&(this.paddingTop=u,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=lF(e.scrollDOM);let p=(this.printing?FR:NR)(t,this.paddingTop),m=p.top-this.pixelViewport.top,h=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(s=!0)),!this.inView&&!this.scrollTarget&&!PR(e.dom))return 0;let _=o.width;if((this.contentDOMWidth!=_||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(a=!0),a||r.lineWrapping&&Math.abs(_-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:o,textHeight:s}=e.docView.measureTextSize();a=n>0&&r.refresh(i,n,o,s,Math.max(5,_/o),t),a&&(e.docView.minWidth=0,c|=16)}m>0&&h>0?l=Math.max(m,h):m<0&&h<0&&(l=Math.min(m,h)),hR();for(let n of this.viewports){let i=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(a?xR.empty().applyChanges(this.stateDeco,uM.empty,this.heightOracle,[new mI(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,a,new _R(n.from,i))}mR&&(c|=2)}let v=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(l,this.scrollTarget),c|=this.updateForViewport()),(c&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,s=new zR(r.lineAt(a-n*1e3,yR.ByHeight,i,0,0).from,r.lineAt(o+(1-n)*1e3,yR.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<s.from||e>s.to){let n=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),a=r.lineAt(e,yR.ByPos,i,0,0),o;o=t.y==`center`?(a.top+a.bottom)/2-n/2:t.y==`start`||t.y==`nearest`&&e<s.from?a.top:a.bottom-n,s=new zR(r.lineAt(o-1e3/2,yR.ByHeight,i,0,0).from,r.lineAt(o+n+1e3/2,yR.ByHeight,i,0,0).to)}}return s}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new zR(this.heightMap.lineAt(n,yR.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,yR.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,yR.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,yR.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||r<=a-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>a-2*1e3&&i<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new IR(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,a=r<<1;if(this.defaultTextDirection!=pF.LTR&&!n)return[];let o=[],s=(r,a,c,l)=>{if(a-r<i)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>r&&e<a){s(r,e-10,c,l),s(e+10,a,c,l);return}let f=UR(e,e=>e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-r)<i&&Math.abs(e.to-a)<i&&!d.some(t=>e.from<t&&e.to>t));if(!f){if(a<c.to&&t&&n&&t.visibleRanges.some(e=>e.from<=a&&e.to>=a)){let e=t.moveToLineBoundary(Q.cursor(a),!1,!0).head;e>r&&(a=e)}let e=this.gapSize(c,r,a,l);f=new IR(r,a,e,n||e<2e6?e:2e6)}o.push(f)},c=t=>{if(t.length<a||t.type!=MP.Text)return;let i=BR(t.from,t.to,this.stateDeco);if(i.total<a)return;let o=this.scrollTarget?this.scrollTarget.range.head:null,c,l;if(n){let e=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,n,a;if(o!=null){let r=HR(i,o),s=((this.visibleBottom-this.visibleTop)/2+e)/t.height;n=r-s,a=r+s}else n=(this.visibleTop-t.top-e)/t.height,a=(this.visibleBottom-t.top+e)/t.height;c=VR(i,n),l=VR(i,a)}else{let n=i.total*this.heightOracle.charWidth,a=r*this.heightOracle.charWidth,s=0;if(n>2e6)for(let n of e)n.from>=t.from&&n.from<t.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+s<this.pixelViewport.left&&(s=n.size-n.displaySize);let u=this.pixelViewport.left+s,d=this.pixelViewport.right+s,f,p;if(o!=null){let e=HR(i,o),t=((d-u)/2+a)/n;f=e-t,p=e+t}else f=(u-a)/n,p=(d+a)/n;c=VR(i,f),l=VR(i,p)}c>t.from&&s(t.from,c,t,i),l<t.to&&s(l,t.to,t,i)};for(let e of this.viewportLines)Array.isArray(e.type)?e.type.forEach(c):c(e);return o}gapSize(e,t,n,r){let i=HR(r,n)-HR(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(e){IR.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=NP.set(e.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];IN.spans(t,this.viewport.from,this.viewport.to,{span(e,t){n.push({from:e,to:t})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let t=0;t<n.length&&!(r&8);t++){let i=this.visibleRanges[t],a=n[t];(i.from!=a.from||i.to!=a.to)&&(r|=4,e&&e.mapPos(i.from,-1)==a.from&&e.mapPos(i.to,1)==a.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||KR(this.heightMap.lineAt(e,yR.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||KR(this.heightMap.lineAt(this.scaler.fromDOM(e),yR.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return KR(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},zR=class{constructor(e,t){this.from=e,this.to=t}};function BR(e,t,n){let r=[],i=e,a=0;return IN.spans(n,e,t,{span(){},point(e,t){e>i&&(r.push({from:i,to:e}),a+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),a+=t-i),{total:a,ranges:r}}function VR({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:i}=t[e],a=i-n;if(r<=a)return n+r;r-=a}}function HR(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}function UR(e,t){for(let n of e)if(t(n))return n}var WR={toDOM(e){return e},fromDOM(e){return e},scale:1,eq(e){return e==this}},GR=class e{constructor(e,t,n){let r=0,i=0,a=0;this.viewports=n.map(({from:n,to:i})=>{let a=t.lineAt(n,yR.ByPos,e,0,0).top,o=t.lineAt(i,yR.ByPos,e,0,0).bottom;return r+=o-a,{from:n,to:i,top:a,bottom:o,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=a+(e.top-i)*this.scale,a=e.domBottom=e.domTop+(e.bottom-e.top),i=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}eq(t){return t instanceof e?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to):!1}};function KR(e,t){if(t.scale==1)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new vR(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map(e=>KR(e,t)):e._content)}var qR=BM.define({combine:e=>e.join(` `)}),JR=BM.define({combine:e=>e.indexOf(!0)>-1}),YR=tP.newName(),XR=tP.newName(),ZR=tP.newName(),QR={"&light":`.`+XR,"&dark":`.`+ZR};function $R(e,t,n){return new tP(t,{finish(t){return/&/.test(t)?t.replace(/&\w*/,t=>{if(t==`&`)return e;if(!n||!n[t])throw RangeError(`Unsupported selector: ${t}`);return n[t]}):e+` `+t}})}var ez=$R(`.`+YR,{"&":{position:`relative !important`,boxSizing:`border-box`,"&.cm-focused":{outline:`1px dotted #212121`},display:`flex !important`,flexDirection:`column`},".cm-scroller":{display:`flex !important`,alignItems:`flex-start !important`,fontFamily:`monospace`,lineHeight:1.4,height:`100%`,overflowX:`auto`,position:`relative`,zIndex:0,overflowAnchor:`none`},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:`block`,whiteSpace:`pre`,wordWrap:`normal`,boxSizing:`border-box`,minHeight:`100%`,padding:`4px 0`,outline:`none`,"&[contenteditable=true]":{WebkitUserModify:`read-write-plaintext-only`}},".cm-lineWrapping":{whiteSpace_fallback:`pre-wrap`,whiteSpace:`break-spaces`,wordBreak:`break-word`,overflowWrap:`anywhere`,flexShrink:1},"&light .cm-content":{caretColor:`black`},"&dark .cm-content":{caretColor:`white`},".cm-line":{display:`block`,padding:`0 2px 0 6px`},".cm-layer":{position:`absolute`,left:0,top:0,contain:`size style`,"& > *":{position:`absolute`}},"&light .cm-selectionBackground":{background:`#d9d9d9`},"&dark .cm-selectionBackground":{background:`#222`},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:`#d7d4f0`},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:`#233`},".cm-cursorLayer":{pointerEvents:`none`},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:`steps(1) cm-blink 1.2s infinite`},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:`1.2px solid black`,marginLeft:`-0.6px`,pointerEvents:`none`},".cm-cursor":{display:`none`},"&dark .cm-cursor":{borderLeftColor:`#ddd`},".cm-dropCursor":{position:`absolute`},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:`block`},".cm-iso":{unicodeBidi:`isolate`},".cm-announced":{position:`fixed`,top:`-10000px`},"@media print":{".cm-announced":{display:`none`}},"&light .cm-activeLine":{backgroundColor:`#cceeff44`},"&dark .cm-activeLine":{backgroundColor:`#99eeff33`},"&light .cm-specialChar":{color:`red`},"&dark .cm-specialChar":{color:`#f78`},".cm-gutters":{flexShrink:0,display:`flex`,height:`100%`,boxSizing:`border-box`,zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:`#f5f5f5`,color:`#6c6c6c`,border:`0px solid #ddd`,"&.cm-gutters-before":{borderRightWidth:`1px`},"&.cm-gutters-after":{borderLeftWidth:`1px`}},"&dark .cm-gutters":{backgroundColor:`#333338`,color:`#ccc`},".cm-gutter":{display:`flex !important`,flexDirection:`column`,flexShrink:0,boxSizing:`border-box`,minHeight:`100%`,overflow:`hidden`},".cm-gutterElement":{boxSizing:`border-box`},".cm-lineNumbers .cm-gutterElement":{padding:`0 3px 0 5px`,minWidth:`20px`,textAlign:`right`,whiteSpace:`nowrap`},"&light .cm-activeLineGutter":{backgroundColor:`#e2f2ff`},"&dark .cm-activeLineGutter":{backgroundColor:`#222227`},".cm-panels":{boxSizing:`border-box`,position:`sticky`,left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:`#f5f5f5`,color:`black`},"&light .cm-panels-top":{borderBottom:`1px solid #ddd`},"&light .cm-panels-bottom":{borderTop:`1px solid #ddd`},"&dark .cm-panels":{backgroundColor:`#333338`,color:`white`},".cm-dialog":{padding:`2px 19px 4px 6px`,position:`relative`,"& label":{fontSize:`80%`}},".cm-dialog-close":{position:`absolute`,top:`3px`,right:`4px`,backgroundColor:`inherit`,border:`none`,font:`inherit`,fontSize:`14px`,padding:`0`},".cm-tab":{display:`inline-block`,overflow:`hidden`,verticalAlign:`bottom`},".cm-widgetBuffer":{verticalAlign:`text-top`,height:`1em`,width:0,display:`inline`},".cm-placeholder":{color:`#888`,display:`inline-block`,verticalAlign:`top`,userSelect:`none`},".cm-highlightSpace":{backgroundImage:`radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)`,backgroundPosition:`center`},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:`auto 100%`,backgroundPosition:`right 90%`,backgroundRepeat:`no-repeat`},".cm-trailingSpace":{backgroundColor:`#ff332255`},".cm-button":{verticalAlign:`middle`,color:`inherit`,fontSize:`70%`,padding:`.2em 1em`,borderRadius:`1px`},"&light .cm-button":{backgroundImage:`linear-gradient(#eff1f5, #d9d9df)`,border:`1px solid #888`,"&:active":{backgroundImage:`linear-gradient(#b4b4b4, #d0d3d6)`}},"&dark .cm-button":{backgroundImage:`linear-gradient(#393939, #111)`,border:`1px solid #888`,"&:active":{backgroundImage:`linear-gradient(#111, #333)`}},".cm-textfield":{verticalAlign:`middle`,color:`inherit`,fontSize:`70%`,border:`1px solid silver`,padding:`.2em .5em`},"&light .cm-textfield":{backgroundColor:`white`},"&dark .cm-textfield":{border:`1px solid #555`,backgroundColor:`inherit`}},QR),tz={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},nz=wP.ie&&wP.ie_version<=11,rz=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new tF,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let e of t)this.queue.push(e);(wP.ie&&wP.ie_version<=11||wP.ios&&e.composing)&&t.some(e=>e.type==`childList`&&e.removedNodes.length||e.type==`characterData`&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&wP.android&&e.constructor.EDIT_CONTEXT!==!1&&!(wP.chrome&&wP.chrome_version<126)&&(this.editContext=new sz(e),e.state.facet(QF)&&(e.contentDOM.editContext=this.editContext.editContext)),nz&&(this.onCharData=e=>{this.queue.push({target:e.target,type:`characterData`,oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia(`print`)),typeof ResizeObserver==`function`&&(this.resizeScroll=new ResizeObserver(()=>{this.view.docView?.lastUpdate<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver==`function`&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent(`Event`)))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent(`Event`))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers(`scroll`,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type==`change`||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(QF)?n.root.activeElement!=this.dom:!UP(this.dom,r))return;let i=r.anchorNode&&n.docView.tile.nearest(r.anchorNode);if(i&&i.isWidget()&&i.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(wP.ie&&wP.ie_version<=11||wP.android&&wP.chrome)&&!n.state.selection.main.empty&&r.focusNode&&GP(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=VP(e.root);if(!t)return!1;let n=wP.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&oz(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let r=UP(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&cF(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||=this.scrollTargets.slice(0,e),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener(`scroll`,this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener(`scroll`,this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||=(this.observer.observe(this.dom,tz),nz&&this.dom.addEventListener(`DOMCharacterDataModified`,this.onCharData),!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),nz&&this.dom.removeEventListener(`DOMCharacterDataModified`,this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&oF(this.dom,e.key,e.keyCode))})),(!this.delayedAndroidKey||e==`Enter`)&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!this.delayedAndroidKey?.force})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(r=!0),t==-1?{from:t,to:n}=e:(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&UP(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new SL(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=wL(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type==`attributes`),e.type==`childList`){let n=iz(t,e.previousSibling||e.target.previousSibling,-1),r=iz(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else if(e.type==`characterData`)return{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue};else return null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener(`resize`,this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener(`change`,this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener(`beforeprint`,this.onPrint),e.addEventListener(`scroll`,this.onScroll),e.document.addEventListener(`selectionchange`,this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener(`scroll`,this.onScroll),e.removeEventListener(`resize`,this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener(`change`,this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener(`beforeprint`,this.onPrint),e.document.removeEventListener(`selectionchange`,this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(QF)!=e.state.facet(QF)&&(e.view.contentDOM.editContext=e.state.facet(QF)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)==null||e.disconnect(),(t=this.gapIntersection)==null||t.disconnect(),(n=this.resizeScroll)==null||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener(`scroll`,this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function iz(e,t,n){for(;t;){let r=_I.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i==e.dom?n>0?t.nextSibling:t.previousSibling:i}return null}function az(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,o=e.docView.domAtPos(e.state.selection.main.anchor,1);return GP(o.node,o.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function oz(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return az(e,n)}let n=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.contentDOM.addEventListener(`beforeinput`,r,!0),e.dom.ownerDocument.execCommand(`indent`),e.contentDOM.removeEventListener(`beforeinput`,r,!0),n?az(e,n):null}var sz=class{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});for(let n in this.handlers.textupdate=n=>{let r=e.state.selection.main,{anchor:i,head:a}=r,o=this.toEditorPos(n.updateRangeStart),s=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:o,drifted:!1});let c=s-o>n.text.length;o==this.from&&i<this.from?o=i:s==this.to&&i>this.to&&(s=i);let l=DL(e.state.sliceDoc(o,s),n.text,(c?r.from:r.to)-o,c?`end`:null);if(!l){let t=Q.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));t.main.eq(r)||e.dispatch({selection:t,userEvent:`select`});return}let u={from:l.from+o,to:l.toA+o,insert:uM.of(n.text.slice(l.from,l.toB).split(`
`))};if((wP.mac||wP.android)&&u.from==a-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute(`autocorrect`)==`off`&&(u={from:o,to:s,insert:uM.of([n.text.replace(`.`,` `)])}),this.pendingContextChange=u,!e.state.readOnly){let t=this.to-this.from+(u.to-u.from+u.insert.length);TL(e,u,Q.single(this.toEditorPos(n.selectionStart,t),this.toEditorPos(n.selectionEnd,t)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),u.from<u.to&&!u.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(t.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let r=[],i=null;for(let t=this.toEditorPos(n.rangeStart),a=this.toEditorPos(n.rangeEnd);t<a;t++){let n=e.coordsForChar(t);i=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||i||new DOMRect,r.push(i)}t.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=t=>{let n=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,r=e.underlineThickness;if(!/none/i.test(t)&&!/none/i.test(r)){let i=this.toEditorPos(e.rangeStart),a=this.toEditorPos(e.rangeEnd);if(i<a){let e=`text-decoration: underline ${/^[a-z]/.test(t)?t+` `:t==`Dashed`?`dashed `:t==`Squiggle`?`wavy `:``}${/thin/i.test(r)?1:2}px`;n.push(NP.mark({attributes:{style:e}}).range(i,a))}}}e.dispatch({effects:XF.of(NP.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}},this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=VP(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,r=this.pendingContextChange;return e.changes.iterChanges((i,a,o,s,c)=>{if(n)return;let l=c.length-(a-i);if(r&&a>=r.to)if(r.from==i&&r.to==a&&r.insert.eq(c)){r=this.pendingContextChange=null,t+=l,this.to+=l;return}else r=null,this.revertPending(e.state);if(i+=t,a+=t,a<=this.from)this.from+=l,this.to+=l;else if(i<this.to){if(i<this.from||a>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(a),c.toString()),this.to+=l}t+=l}),r&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(e=>!e.isUserEvent(`input.type`)&&e.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(n,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}},cz=class e{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement(`div`),this.scrollDOM=document.createElement(`div`),this.scrollDOM.tabIndex=-1,this.scrollDOM.className=`cm-scroller`,this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement(`div`),this.announceDOM.className=`cm-announced`,this.announceDOM.setAttribute(`aria-live`,`polite`),this.dom=document.createElement(`div`),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(e=>e.forEach(e=>t(e,this)))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||sF(e.parent)||document,this.viewState=new RR(e.state||kN.create(e)),e.scrollTo&&e.scrollTo.is(YF)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(eI).map(e=>new nI(e));for(let e of this.plugins)e.update(this);this.observer=new rz(this),this.inputState=new AL(this),this.inputState.ensureHandlers(this.plugins),this.docView=new WI(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),document.fonts?.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof hN?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw Error(`Calls to EditorView.update are not allowed while an update is in progress`);let t=!1,n=!1,r,i=this.state;for(let t of e){if(t.startState!=i)throw RangeError(`Trying to update state with a transaction that doesn't start from the previous state.`);i=t.state}if(this.destroyed){this.viewState.state=i;return}let a=this.hasFocus,o=0,s=null;e.some(e=>e.annotation(cR))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,s=lR(i,a),s||(o=1));let c=this.observer.delayedAndroidKey,l=null;if(c?(this.observer.clearDelayedAndroidKey(),l=this.observer.readChange(),(l&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(l=null)):this.observer.clear(),i.facet(kN.phrases)!=this.state.facet(kN.phrases))return this.setState(i);r=hI.create(this,i,e),r.flags|=o;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&=u.map(t.changes),t.scrollIntoView){let{main:e}=t.state.selection;u=new JF(e.empty?e:Q.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(YF)&&(u=e.value.clip(this.state))}this.viewState.update(r,u),this.bidiCache=dz.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(pI)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(e=>e.isUserEvent(`select.pointer`)))}finally{this.updateState=0}if(r.startState.facet(qR)!=r.state.facet(qR)&&(this.viewState.mustMeasureContent=!0),(t||n||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let e of this.state.facet(BF))try{e(r)}catch(e){ZF(this.state,e,`update listener`)}(s||l)&&Promise.resolve().then(()=>{s&&this.state==s.startState&&this.dispatch(s),l&&!wL(this,l)&&c.force&&oF(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw Error(`Calls to EditorView.setState are not allowed while an update is in progress`);if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new RR(e),this.plugins=e.facet(eI).map(e=>new nI(e)),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new WI(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(eI),n=e.state.facet(eI);if(t!=n){let r=[];for(let i of n){let n=t.indexOf(i);if(n<0)r.push(new nI(i));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(e){ZF(this.state,e,`doc view update listener`)}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:a}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(a<0)if(lF(n))i=-1,a=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);i=e.from,a=e.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(e>5){console.warn(this.measureRequests.length?`Measure loop restarted more than 5 times`:`Viewport failed to stabilize`);break}let s=[];o&4||([this.measureRequests,s]=[s,this.measureRequests]);let c=s.map(e=>{try{return e.read(this)}catch(e){return ZF(this.state,e),uz}}),l=hI.create(this,this.state,[]),u=!1;l.flags|=o,t?t.flags|=o:t=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),u=this.docView.update(l),u&&this.docViewUpdate());for(let e=0;e<s.length;e++)if(c[e]!=uz)try{let t=s[e];t.write&&t.write(c[e],this)}catch(e){ZF(this.state,e)}if(u&&this.docView.updateSelection(!0),!l.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let e=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-a;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(BF))e(t)}get themeClasses(){return YR+` `+(this.state.facet(JR)?ZR:XR)+` `+this.state.facet(qR)}updateAttrs(){let e=fz(this,rI,{class:`cm-editor`+(this.hasFocus?` cm-focused `:` `)+this.themeClasses}),t={spellcheck:`false`,autocorrect:`off`,autocapitalize:`off`,writingsuggestions:`false`,translate:`no`,contenteditable:this.state.facet(QF)?`true`:`false`,class:`cm-content`,style:`${wP.tabSize}: ${this.state.tabSize}`,role:`textbox`,"aria-multiline":`true`};this.state.readOnly&&(t[`aria-readonly`]=`true`),fz(this,iI,t);let n=this.observer.ignore(()=>{let n=kP(this.contentDOM,this.contentAttrs,t),r=kP(this.dom,this.editorAttrs,e);return n||r});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(t){let n=!0;for(let r of t)for(let t of r.effects)if(t.is(e.announce)){n&&(this.announceDOM.textContent=``),n=!1;let e=this.announceDOM.appendChild(document.createElement(`div`));e.textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(pI);let t=this.state.facet(e.cspNonce);tP.mount(this.root,this.styleModules.concat(ez).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw Error(`Reading the editor layout isn't allowed during an update`);this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(t=>t.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return fL(this,e,sL(this,e,t,n))}moveByGroup(e,t){return fL(this,e,sL(this,e,t,t=>cL(this,e.head,t)))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),i=n[t?n.length-1:0];return Q.cursor(i.side(t,r)+e.from,i.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return oL(this,e,t,n)}moveVertically(e,t,n){return fL(this,e,lL(this,e,t,n))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let n=mL(this,e,t);return n&&n.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),mL(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),i=this.bidiSpans(r),a=i[CF.find(i,e-r.from,-1,t)];return XP(n,a.dir==pF.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(GF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>lz)return MF(e.length);let t=this.textDirectionAt(e.from),n;for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t&&(r.fresh||wF(r.isolates,n=uI(this,e))))return r.order;n||=uI(this,e);let r=jF(e.text,t,n);return this.bidiCache.push(new dz(e.from,e.to,t,n,!0,r)),r}get hasFocus(){return(this.dom.ownerDocument.hasFocus()||wP.safari&&this.inputState?.lastContextMenu>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{rF(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return YF.of(new JF(typeof e==`number`?Q.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return YF.of(new JF(Q.cursor(n.from),`start`,`start`,n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e==`boolean`?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return tI.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return tI.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=tP.newName(),r=[qR.of(n),pI.of($R(`.${n}`,e))];return t&&t.dark&&r.push(JR.of(!0)),r}static baseTheme(e){return XM.lowest(pI.of($R(`.`+YR,e,QR)))}static findFromDOM(e){let t=e.querySelector(`.cm-content`);return(t&&_I.get(t)||_I.get(e))?.root?.view||null}};cz.styleModule=pI,cz.inputHandler=VF,cz.clipboardInputFilter=UF,cz.clipboardOutputFilter=WF,cz.scrollHandler=qF,cz.focusChangeEffect=HF,cz.perLineTextDirection=GF,cz.exceptionSink=zF,cz.updateListener=BF,cz.editable=QF,cz.mouseSelectionStyle=RF,cz.dragMovesSelection=LF,cz.clickAddsSelectionRange=IF,cz.decorations=aI,cz.blockWrappers=oI,cz.outerDecorations=sI,cz.atomicRanges=cI,cz.bidiIsolatedRanges=lI,cz.scrollMargins=dI,cz.darkTheme=JR,cz.cspNonce=BM.define({combine:e=>e.length?e[0]:``}),cz.contentAttributes=iI,cz.editorAttributes=rI,cz.lineWrapping=cz.contentAttributes.of({class:`cm-lineWrapping`}),cz.announce=mN.define();var lz=4096,uz={},dz=class e{constructor(e,t,n,r,i,a){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=i,this.order=a}static update(t,n){if(n.empty&&!t.some(e=>e.fresh))return t;let r=[],i=t.length?t[t.length-1].dir:pF.LTR;for(let a=Math.max(0,t.length-10);a<t.length;a++){let o=t[a];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new e(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}};function fz(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let t=r[i],a=typeof t==`function`?t(e):t;a&&TP(a,n)}return n}var pz=wP.mac?`mac`:wP.windows?`win`:wP.linux?`linux`:`key`;function mz(e,t){let n=e.split(/-(?!$)/),r=n[n.length-1];r==`Space`&&(r=` `);let i,a,o,s;for(let e=0;e<n.length-1;++e){let r=n[e];if(/^(cmd|meta|m)$/i.test(r))s=!0;else if(/^a(lt)?$/i.test(r))i=!0;else if(/^(c|ctrl|control)$/i.test(r))a=!0;else if(/^s(hift)?$/i.test(r))o=!0;else if(/^mod$/i.test(r))t==`mac`?s=!0:a=!0;else throw Error(`Unrecognized modifier name: `+r)}return i&&(r=`Alt-`+r),a&&(r=`Ctrl-`+r),s&&(r=`Meta-`+r),o&&(r=`Shift-`+r),r}function hz(e,t,n){return t.altKey&&(e=`Alt-`+e),t.ctrlKey&&(e=`Ctrl-`+e),t.metaKey&&(e=`Meta-`+e),n!==!1&&t.shiftKey&&(e=`Shift-`+e),e}var gz=XM.default(cz.domEventHandlers({keydown(e,t){return Tz(yz(t.state),e,t,`editor`)}})),_z=BM.define({enables:gz}),vz=new WeakMap;function yz(e){let t=e.facet(_z),n=vz.get(t);return n||vz.set(t,n=Cz(t.reduce((e,t)=>e.concat(t),[]))),n}function bz(e,t,n){return Tz(yz(e.state),t,e,n)}var xz=null,Sz=4e3;function Cz(e,t=pz){let n=Object.create(null),r=Object.create(null),i=(e,t)=>{let n=r[e];if(n==null)r[e]=t;else if(n!=t)throw Error(`Key binding `+e+` is used both as a regular binding and as a multi-stroke prefix`)},a=(e,r,a,o,s)=>{let c=n[e]||(n[e]=Object.create(null)),l=r.split(/ (?!$)/).map(e=>mz(e,t));for(let t=1;t<l.length;t++){let n=l.slice(0,t).join(` `);i(n,!0),c[n]||(c[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=xz={view:t,prefix:n,scope:e};return setTimeout(()=>{xz==r&&(xz=null)},Sz),!0}]})}let u=l.join(` `);i(u,!1);let d=c[u]||(c[u]={preventDefault:!1,stopPropagation:!1,run:(c._any?.run)?.slice()||[]});a&&d.run.push(a),o&&(d.preventDefault=!0),s&&(d.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(` `):[`editor`];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||={preventDefault:!1,stopPropagation:!1,run:[]};let{any:i}=r;for(let t in e)e[t].run.push(e=>i(e,wz))}let i=r[t]||r.key;if(i)for(let t of e)a(t,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&a(t,`Shift-`+i,r.shift,r.preventDefault,r.stopPropagation)}return n}var wz=null;function Tz(e,t,n,r){wz=t;let i=uP(t),a=EM(wM(i,0))==i.length&&i!=` `,o=``,s=!1,c=!1,l=!1;xz&&xz.view==n&&xz.scope==r&&(o=xz.prefix+` `,FL.indexOf(t.keyCode)<0&&(c=!0,xz=null));let u=new Set,d=e=>{if(e){for(let t of e.run)if(!u.has(t)&&(u.add(t),t(n)))return e.stopPropagation&&(l=!0),!0;e.preventDefault&&(e.stopPropagation&&(l=!0),c=!0)}return!1},f=e[r],p,m;return f&&(d(f[o+hz(i,t,!a)])?s=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(wP.windows&&t.ctrlKey&&t.altKey)&&!(wP.mac&&t.altKey&&!(t.ctrlKey||t.metaKey))&&(p=iP[t.keyCode])&&p!=i?(d(f[o+hz(p,t,!0)])||t.shiftKey&&(m=aP[t.keyCode])!=i&&m!=p&&d(f[o+hz(m,t,!1)]))&&(s=!0):a&&t.shiftKey&&d(f[o+hz(i,t,!0)])&&(s=!0),!s&&d(f._any)&&(s=!0)),c&&(s=!0),s&&l&&t.stopPropagation(),wz=null,s}var Ez=class e{constructor(e,t,n,r,i){this.className=e,this.left=t,this.top=n,this.width=r,this.height=i}draw(){let e=document.createElement(`div`);return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className?(this.adjust(e),!0):!1}adjust(e){e.style.left=this.left+`px`,e.style.top=this.top+`px`,this.width!=null&&(e.style.width=this.width+`px`),e.style.height=this.height+`px`}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(t,n,r){if(r.empty){let i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=Dz(t);return[new e(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return kz(t,n,r)}};function Dz(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==pF.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function Oz(e,t,n,r){let i=e.coordsAtPos(t,n*2);if(!i)return r;let a=e.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,s=e.posAtCoords({x:a.left+1,y:o}),c=e.posAtCoords({x:a.right-1,y:o});return s==null||c==null?r:{from:Math.max(r.from,Math.min(s,c)),to:Math.min(r.to,Math.max(s,c))}}function kz(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),a=e.textDirection==pF.LTR,o=e.contentDOM,s=o.getBoundingClientRect(),c=Dz(e),l=o.querySelector(`.cm-line`),u=l&&window.getComputedStyle(l),d=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=s.right-(u?parseInt(u.paddingRight):0),p=aL(e,r,1),m=aL(e,i,-1),h=p.type==MP.Text?p:null,g=m.type==MP.Text?m:null;if(h&&(e.lineWrapping||p.widgetLineBreaks)&&(h=Oz(e,r,1,h)),g&&(e.lineWrapping||m.widgetLineBreaks)&&(g=Oz(e,i,-1,g)),h&&g&&h.from==g.from&&h.to==g.to)return v(y(n.from,n.to,h));{let t=h?y(n.from,null,h):b(p,!1),r=g?y(null,n.to,g):b(m,!0),i=[];return(h||p).to<(g||m).from-(h&&g?1:0)||p.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?i.push(_(d,t.bottom,f,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==MP.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),v(t).concat(i).concat(v(r))}function _(e,n,r,i){return new Ez(t,e-c.left,n-c.top,r-e,i-n)}function v({top:e,bottom:t,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(_(n[i],e,n[i+1],t));return r}function y(t,n,r){let i=1e9,o=-1e9,s=[];function c(t,n,c,l,u){let p=e.coordsAtPos(t,t==r.to?-2:2),m=e.coordsAtPos(c,c==r.from?2:-2);!p||!m||(i=Math.min(p.top,m.top,i),o=Math.max(p.bottom,m.bottom,o),u==pF.LTR?s.push(a&&n?d:p.left,a&&l?f:m.right):s.push(!a&&l?d:m.left,!a&&n?f:p.right))}let l=t??r.from,u=n??r.to;for(let r of e.visibleRanges)if(r.to>l&&r.from<u)for(let i=Math.max(r.from,l),a=Math.min(r.to,u);;){let r=e.state.doc.lineAt(i);for(let o of e.bidiSpans(r)){let e=o.from+r.from,s=o.to+r.from;if(e>=a)break;s>i&&c(Math.max(e,i),t==null&&e<=l,Math.min(s,a),n==null&&s>=u,o.dir)}if(i=r.to+1,i>=a)break}return s.length==0&&c(l,t==null,u,n==null,e.textDirection),{top:i,bottom:o,horizontal:s}}function b(e,t){let n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}function Az(e,t){return e.constructor==t.constructor&&e.eq(t)}var jz=class{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement(`div`)),this.dom.classList.add(`cm-layer`),t.above&&this.dom.classList.add(`cm-layer-above`),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute(`aria-hidden`,`true`),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Mz)!=e.state.facet(Mz)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Mz);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((e,t)=>!Az(e,this.drawn[t]))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e,wP.safari&&wP.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?``:`none`)}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}},Mz=BM.define();function Nz(e){return[tI.define(t=>new jz(t,e)),Mz.of(e)]}var Pz=BM.define({combine(e){return AN(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Fz(e={}){return[Pz.of(e),Lz,zz,Bz,KF.of(!0)]}function Iz(e){return e.startState.facet(Pz)!=e.state.facet(Pz)}var Lz=Nz({above:!0,markers(e){let{state:t}=e,n=t.facet(Pz),r=[];for(let i of t.selection.ranges){let a=i==t.selection.main;if(i.empty||n.drawRangeCursor){let t=a?`cm-cursor cm-cursor-primary`:`cm-cursor cm-cursor-secondary`,n=i.empty?i:Q.cursor(i.head,i.head>i.anchor?-1:1);for(let i of Ez.forRange(e,t,n))r.push(i)}}return r},update(e,t){e.transactions.some(e=>e.selection)&&(t.style.animationName=t.style.animationName==`cm-blink`?`cm-blink2`:`cm-blink`);let n=Iz(e);return n&&Rz(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){Rz(t.state,e)},class:`cm-cursorLayer`});function Rz(e,t){t.style.animationDuration=e.facet(Pz).cursorBlinkRate+`ms`}var zz=Nz({above:!1,markers(e){return e.state.selection.ranges.map(t=>t.empty?[]:Ez.forRange(e,`cm-selectionBackground`,t)).reduce((e,t)=>e.concat(t))},update(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||Iz(e)},class:`cm-selectionLayer`}),Bz=XM.highest(cz.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:`transparent !important`},caretColor:`transparent !important`},".cm-content":{caretColor:`transparent !important`,"& :focus":{caretColor:`initial !important`,"&::selection, & ::selection":{backgroundColor:`Highlight !important`}}}})),Vz=mN.define({map(e,t){return e==null?null:t.mapPos(e)}}),Hz=qM.define({create(){return null},update(e,t){return e!=null&&(e=t.changes.mapPos(e)),t.effects.reduce((e,t)=>t.is(Vz)?t.value:e,e)}}),Uz=tI.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(Hz);n==null?this.cursor!=null&&((t=this.cursor)==null||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement(`div`)),this.cursor.className=`cm-dropCursor`),(e.startState.field(Hz)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(Hz),n=t!=null&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+`px`,this.cursor.style.top=e.top/n+`px`,this.cursor.style.height=e.height/n+`px`):this.cursor.style.left=`-100000px`}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(Hz)!=e&&this.view.dispatch({effects:Vz.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){(e.target==this.view.contentDOM||!this.view.contentDOM.contains(e.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Wz(){return[Hz,Uz]}function Gz(e,t,n,r,i){t.lastIndex=0;for(let a=e.iterRange(n,r),o=n,s;!a.next().done;o+=a.value.length)if(!a.lineBreak)for(;s=t.exec(a.value);)i(o+s.index,s)}function Kz(e,t){let n=e.visibleRanges;if(n.length==1&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:a}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),a=Math.min(e.state.doc.lineAt(a).to,a+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=a:r.push({from:i,to:a});return r}var qz=class{constructor(e){let{regexp:t,decoration:n,decorate:r,boundary:i,maxLength:a=1e3}=e;if(!t.global)throw RangeError(`The regular expression given to MatchDecorator should have its 'g' flag set`);if(this.regexp=t,r)this.addMatch=(e,t,n,i)=>r(i,n,n+e[0].length,e,t);else if(typeof n==`function`)this.addMatch=(e,t,r,i)=>{let a=n(e,t,r);a&&i(r,r+e[0].length,a)};else if(n)this.addMatch=(e,t,r,i)=>i(r,r+e[0].length,n);else throw RangeError(`Either 'decorate' or 'decoration' should be provided to MatchDecorator`);this.boundary=i,this.maxLength=a}createDeco(e){let t=new RN,n=t.add.bind(t);for(let{from:t,to:r}of Kz(e,this.maxLength))Gz(e.state.doc,this.regexp,t,r,(t,r)=>this.addMatch(r,e,t,n));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((t,i,a,o)=>{o>=e.view.viewport.from&&a<=e.view.viewport.to&&(n=Math.min(a,n),r=Math.max(o,r))}),e.viewportMoved||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let i of e.visibleRanges){let a=Math.max(i.from,n),o=Math.min(i.to,r);if(o>=a){let n=e.state.doc.lineAt(a),r=n.to<o?e.state.doc.lineAt(o):n,s=Math.max(i.from,n.from),c=Math.min(i.to,r.to);if(this.boundary){for(;a>n.from;a--)if(this.boundary.test(n.text[a-1-n.from])){s=a;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){c=o;break}}let l=[],u,d=(e,t,n)=>l.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=s-n.from;(u=this.regexp.exec(n.text))&&u.index<c-n.from;)this.addMatch(u,e,u.index+n.from,d);else Gz(e.state.doc,this.regexp,s,c,(t,n)=>this.addMatch(n,e,t,d));t=t.update({filterFrom:s,filterTo:c,filter:(e,t)=>e<s||t>c,add:l})}}return t}},Jz=/x/.unicode==null?`g`:`gu`,Yz=RegExp(`[\0-\b
--ÂÂ­Øâââ\u2028\u2029â­â®â¦â§â©ï»¿ï¿¹-ï¿¼]`,Jz),Xz={0:`null`,7:`bell`,8:`backspace`,10:`newline`,11:`vertical tab`,13:`carriage return`,27:`escape`,8203:`zero width space`,8204:`zero width non-joiner`,8205:`zero width joiner`,8206:`left-to-right mark`,8207:`right-to-left mark`,8232:`line separator`,8237:`left-to-right override`,8238:`right-to-left override`,8294:`left-to-right isolate`,8295:`right-to-left isolate`,8297:`pop directional isolate`,8233:`paragraph separator`,65279:`zero width no-break space`,65532:`object replacement`},Zz=null;function Qz(){if(Zz==null&&typeof document<`u`&&document.body){let e=document.body.style;Zz=(e.tabSize??e.MozTabSize)!=null}return Zz||!1}var $z=BM.define({combine(e){let t=AN(e,{render:null,specialChars:Yz,addSpecialChars:null});return(t.replaceTabs=!Qz())&&(t.specialChars=RegExp(`	|`+t.specialChars.source,Jz)),t.addSpecialChars&&(t.specialChars=RegExp(t.specialChars.source+`|`+t.addSpecialChars.source,Jz)),t}});function eB(e={}){return[$z.of(e),nB()]}var tB=null;function nB(){return tB||=tI.fromClass(class{constructor(e){this.view=e,this.decorations=NP.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet($z)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new qz({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,a=wM(t[0],0);if(a==9){let e=i.lineAt(r),t=n.state.tabSize,a=YN(e.text,t,r-e.from);return NP.replace({widget:new oB((t-a%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=NP.replace({widget:new aB(e,a)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet($z);e.startState.facet($z)==t?this.decorations=this.decorator.updateDeco(e,this.decorations):(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view))}},{decorations:e=>e.decorations})}var rB=`â¢`;function iB(e){return e>=32?rB:e==10?`â¤`:String.fromCharCode(9216+e)}var aB=class extends jP{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=iB(this.code),n=e.state.phrase(`Control character`)+` `+(Xz[this.code]||`0x`+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let i=document.createElement(`span`);return i.textContent=t,i.title=n,i.setAttribute(`aria-label`,n),i.className=`cm-specialChar`,i}ignoreEvent(){return!1}},oB=class extends jP{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement(`span`);return e.textContent=`	`,e.className=`cm-tab`,e.style.width=this.width+`px`,e}ignoreEvent(){return!1}};function sB(){return lB}var cB=NP.line({class:`cm-activeLine`}),lB=tI.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(cB.range(i.from)),t=i.from)}return NP.set(n)}},{decorations:e=>e.decorations}),uB=2e3;function dB(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),a=[];if(t.off>uB||n.off>uB||t.col<0||n.col<0){let o=Math.min(t.off,n.off),s=Math.max(t.off,n.off);for(let t=r;t<=i;t++){let n=e.doc.line(t);n.length<=s&&a.push(Q.range(n.from+o,n.to+s))}}else{let o=Math.min(t.col,n.col),s=Math.max(t.col,n.col);for(let t=r;t<=i;t++){let n=e.doc.line(t),r=XN(n.text,o,e.tabSize,!0);if(r<0)a.push(Q.cursor(n.to));else{let t=XN(n.text,s,e.tabSize);a.push(Q.range(n.from+r,n.from+t))}}}return a}function fB(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}function pB(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,a=i>uB?-1:i==r.length?fB(e,t.clientX):YN(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function mB(e,t){let n=pB(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get(t,i,a){let o=pB(e,t);if(!o)return r;let s=dB(e.state,n,o);return s.length?a?Q.create(s.concat(r.ranges)):Q.create(s):r}}:null}function hB(e){let t=e?.eventFilter||(e=>e.altKey&&e.button==0);return cz.mouseSelectionStyle.of((e,n)=>t(n)?mB(e,n):null)}var gB={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},_B={style:`cursor: crosshair`};function vB(e={}){let[t,n]=gB[e.key||`Alt`],r=tI.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){(e.keyCode==t||!n(e))&&this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,cz.contentAttributes.of(e=>e.plugin(r)?.isDown?_B:null)]}var yB=`-10000px`,bB=class{constructor(e,t,n,r){this.facet=t,this.createTooltipView=n,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(e=>e);let i=null;this.tooltipViews=this.tooltips.map(e=>i=n(e,i))}update(e,t){var n;let r=e.state.facet(this.facet),i=r.filter(e=>e);if(r===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let a=[],o=t?[]:null;for(let n=0;n<i.length;n++){let r=i[n],s=-1;if(r){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==r.create&&(s=e)}if(s<0)a[n]=this.createTooltipView(r,n?a[n-1]:null),o&&(o[n]=!!r.above);else{let r=a[n]=this.tooltipViews[s];o&&(o[n]=t[s]),r.update&&r.update(e)}}}for(let e of this.tooltipViews)a.indexOf(e)<0&&(this.removeTooltipView(e),(n=e.destroy)==null||n.call(e));return t&&(o.forEach((e,n)=>t[n]=e),t.length=o.length),this.input=r,this.tooltips=i,this.tooltipViews=a,!0}};function xB(e){let t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}var SB=BM.define({combine:e=>({position:wP.ios?`absolute`:e.find(e=>e.position)?.position||`fixed`,parent:e.find(e=>e.parent)?.parent||null,tooltipSpace:e.find(e=>e.tooltipSpace)?.tooltipSpace||xB})}),CB=new WeakMap,wB=tI.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(SB);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver==`function`?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new bB(e,OB,(e,t)=>this.createTooltip(e,t),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver=typeof IntersectionObserver==`function`?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener(`resize`,this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement(`div`),this.container.style.position=`relative`,this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(SB);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add(`cm-tooltip`),e.arrow&&!n.dom.querySelector(`.cm-tooltip > .cm-tooltip-arrow`)){let e=document.createElement(`div`);e.className=`cm-tooltip-arrow`,n.dom.appendChild(e)}return n.dom.style.position=this.position,n.dom.style.top=yB,n.dom.style.left=`0px`,this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener(`resize`,this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(e=t.destroy)==null||e.call(t);this.parent&&this.container.remove(),(t=this.resizeObserver)==null||t.disconnect(),(n=this.intersectionObserver)==null||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=1,t=1,n=!1;if(this.position==`fixed`&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(wP.safari){let t=e.getBoundingClientRect();n=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}else n=!!e.offsetParent&&e.offsetParent!=this.container.ownerDocument.body}if(n||this.position==`absolute`)if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(e=n.width/this.parent.offsetWidth,t=n.height/this.parent.offsetHeight)}else ({scaleX:e,scaleY:t}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=fI(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(SB).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:n}}writeMeasure(e){if(e.makeAbsolute){this.madeAbsolute=!0,this.position=`absolute`;for(let e of this.manager.tooltipViews)e.dom.style.position=`absolute`}let{visible:t,space:n,scaleX:r,scaleY:i}=e,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let s=this.manager.tooltips[o],c=this.manager.tooltipViews[o],{dom:l}=c,u=e.pos[o],d=e.size[o];if(!u||s.clip!==!1&&(u.bottom<=Math.max(t.top,n.top)||u.top>=Math.min(t.bottom,n.bottom)||u.right<Math.max(t.left,n.left)-.1||u.left>Math.min(t.right,n.right)+.1)){l.style.top=yB;continue}let f=s.arrow?c.dom.querySelector(`.cm-tooltip-arrow`):null,p=f?7:0,m=d.right-d.left,h=CB.get(c)??d.bottom-d.top,g=c.offset||DB,_=this.view.textDirection==pF.LTR,v=d.width>n.right-n.left?_?n.left:n.right-d.width:_?Math.max(n.left,Math.min(u.left-(f?14:0)+g.x,n.right-m)):Math.min(Math.max(n.left,u.left-m+(f?14:0)-g.x),n.right-m),y=this.above[o];!s.strictSide&&(y?u.top-h-p-g.y<n.top:u.bottom+h+p+g.y>n.bottom)&&y==n.bottom-u.bottom>u.top-n.top&&(y=this.above[o]=!y);let b=(y?u.top-n.top:n.bottom-u.bottom)-p;if(b<h&&c.resize!==!1){if(b<this.view.defaultLineHeight){l.style.top=yB;continue}CB.set(c,h),l.style.height=(h=b)/i+`px`}else l.style.height&&(l.style.height=``);let x=y?u.top-h-p-g.y:u.bottom+p+g.y,S=v+m;if(c.overlap!==!0)for(let e of a)e.left<S&&e.right>v&&e.top<x+h&&e.bottom>x&&(x=y?e.top-h-2-p:e.bottom+p+2);if(this.position==`absolute`?(l.style.top=(x-e.parent.top)/i+`px`,TB(l,(v-e.parent.left)/r)):(l.style.top=x/i+`px`,TB(l,v/r)),f){let e=u.left+(_?g.x:-g.x)-(v+14-7);f.style.left=e/r+`px`}c.overlap!==!0&&a.push({left:v,top:x,right:S,bottom:x+h}),l.classList.toggle(`cm-tooltip-above`,y),l.classList.toggle(`cm-tooltip-below`,!y),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=yB}},{eventObservers:{scroll(){this.maybeMeasure()}}});function TB(e,t){let n=parseInt(e.style.left,10);(isNaN(n)||Math.abs(t-n)>1)&&(e.style.left=t+`px`)}var EB=cz.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:`border-box`},"&light .cm-tooltip":{border:`1px solid #bbb`,backgroundColor:`#f5f5f5`},"&light .cm-tooltip-section:not(:first-child)":{borderTop:`1px solid #bbb`},"&dark .cm-tooltip":{backgroundColor:`#333338`,color:`white`},".cm-tooltip-arrow":{height:`7px`,width:`14px`,position:`absolute`,zIndex:-1,overflow:`hidden`,"&:before, &:after":{content:`''`,position:`absolute`,width:0,height:0,borderLeft:`7px solid transparent`,borderRight:`7px solid transparent`},".cm-tooltip-above &":{bottom:`-7px`,"&:before":{borderTop:`7px solid #bbb`},"&:after":{borderTop:`7px solid #f5f5f5`,bottom:`1px`}},".cm-tooltip-below &":{top:`-7px`,"&:before":{borderBottom:`7px solid #bbb`},"&:after":{borderBottom:`7px solid #f5f5f5`,top:`1px`}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:`#333338`,borderBottomColor:`#333338`},"&:after":{borderTopColor:`transparent`,borderBottomColor:`transparent`}}}),DB={x:0,y:0},OB=BM.define({enables:[wB,EB]}),kB=BM.define({combine:e=>e.reduce((e,t)=>e.concat(t),[])}),AB=class e{static create(t){return new e(t)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement(`div`),this.dom.classList.add(`cm-tooltip-hover`),this.manager=new bB(e,kB,(e,t)=>this.createHostedView(e,t),e=>e.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add(`cm-tooltip-section`),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)==null||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp(`offset`)}get getCoords(){return this.passProp(`getCoords`)}get overlap(){return this.passProp(`overlap`)}get resize(){return this.passProp(`resize`)}},jB=OB.compute([kB],e=>{let t=e.facet(kB);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>e.end??e.pos)),create:AB.create,above:t[0].above,arrow:t.some(e=>e.arrow)}}),MB=class{constructor(e,t,n,r,i){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener(`mouseleave`,this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener(`mousemove`,this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.tile.nearest(t.target);if(!n)return;let r,i=1;if(n.isWidget())r=n.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let n=e.coordsAtPos(r);if(!n||t.y<n.top||t.y>n.bottom||t.x<n.left-e.defaultCharacterWidth||t.x>n.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(r)).find(e=>e.from<=r&&e.to>=r),o=a&&a.dir==pF.RTL?-1:1;i=t.x<n.left?-o:o}let a=this.source(e,r,i);if(a?.then){let t=this.pending={pos:r};a.then(n=>{this.pending==t&&(this.pending=null,n&&!(Array.isArray(n)&&!n.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))},t=>ZF(e.state,t,`hover tooltip`))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(wB),t=e?e.manager.tooltips.findIndex(e=>e.create==AB.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:t,tooltip:n}=this;if(t.length&&n&&!PB(n.dom,e)||this.pending){let{pos:n}=t[0]||this.pending,r=t[0]?.end??n;(n==r?this.view.posAtCoords(this.lastMove)!=n:!FB(this.view,n,r,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:t}=this;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener(`mouseleave`,t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener(`mouseleave`,t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener(`mouseleave`,this.mouseleave),this.view.dom.removeEventListener(`mousemove`,this.mousemove)}},NB=4;function PB(e,t){let{left:n,right:r,top:i,bottom:a}=e.getBoundingClientRect(),o;if(o=e.querySelector(`.cm-tooltip-arrow`)){let e=o.getBoundingClientRect();i=Math.min(e.top,i),a=Math.max(e.bottom,a)}return t.clientX>=n-NB&&t.clientX<=r+NB&&t.clientY>=i-NB&&t.clientY<=a+NB}function FB(e,t,n,r,i,a){let o=e.scrollDOM.getBoundingClientRect(),s=e.documentTop+e.documentPadding.top+e.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,s)<i)return!1;let c=e.posAtCoords({x:r,y:i},!1);return c>=t&&c<=n}function IB(e,t={}){let n=mN.define(),r=qM.define({create(){return[]},update(e,r){if(e.length&&(t.hideOnChange&&(r.docChanged||r.selection)?e=[]:t.hideOn&&(e=e.filter(e=>!t.hideOn(r,e))),r.docChanged)){let t=[];for(let n of e){let e=r.changes.mapPos(n.pos,-1,OM.TrackDel);if(e!=null){let i=Object.assign(Object.create(null),n);i.pos=e,i.end!=null&&(i.end=r.changes.mapPos(i.end)),t.push(i)}}e=t}for(let t of r.effects)t.is(n)&&(e=t.value),t.is(RB)&&(e=[]);return e},provide:e=>kB.from(e)});return{active:r,extension:[r,tI.define(i=>new MB(i,e,r,n,t.hoverTime||300)),jB]}}function LB(e,t){let n=e.plugin(wB);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}var RB=mN.define(),zB=BM.define({combine(e){let t,n;for(let r of e)t||=r.topContainer,n||=r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function BB(e,t){let n=e.plugin(VB),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}var VB=tI.fromClass(class{constructor(e){this.input=e.state.facet(WB),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(t=>t(e));let t=e.state.facet(zB);this.top=new HB(e,!0,t.topContainer),this.bottom=new HB(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add(`cm-panel`),e.mount&&e.mount()}update(e){let t=e.state.facet(zB);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new HB(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new HB(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(WB);if(n!=this.input){let t=n.filter(e=>e),r=[],i=[],a=[],o=[];for(let n of t){let t=this.specs.indexOf(n),s;t<0?(s=n(e.view),o.push(s)):(s=this.panels[t],s.update&&s.update(e)),r.push(s),(s.top?i:a).push(s)}this.specs=t,this.panels=r,this.top.sync(i),this.bottom.sync(a);for(let e of o)e.dom.classList.add(`cm-panel`),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>cz.scrollMargins.of(t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})}),HB=class{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes=``,this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&=(this.dom.remove(),void 0);return}if(!this.dom){this.dom=document.createElement(`div`),this.dom.className=this.top?`cm-panels cm-panels-top`:`cm-panels cm-panels-bottom`,this.dom.style[this.top?`top`:`bottom`]=`0`;let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=UB(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=UB(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(` `))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(` `))e&&this.container.classList.add(e)}}};function UB(e){let t=e.nextSibling;return e.remove(),t}var WB=BM.define({enables:VB}),GB=class extends jN{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};GB.prototype.elementClass=``,GB.prototype.toDOM=void 0,GB.prototype.mapMode=OM.TrackBefore,GB.prototype.startSide=GB.prototype.endSide=-1,GB.prototype.point=!0;var KB=BM.define(),qB=BM.define(),JB={class:``,renderEmptyElements:!1,elementStyle:``,markers:()=>IN.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:`before`},YB=BM.define();function XB(e){return[QB(),YB.of({...JB,...e})]}var ZB=BM.define({combine:e=>e.some(e=>e)});function QB(e){let t=[$B];return e&&e.fixed===!1&&t.push(ZB.of(!0)),t}var $B=tI.fromClass(class{constructor(e){this.view=e,this.domAfter=null,this.prevViewport=e.viewport,this.dom=document.createElement(`div`),this.dom.className=`cm-gutters cm-gutters-before`,this.dom.setAttribute(`aria-hidden`,`true`),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+`px`,this.gutters=e.state.facet(YB).map(t=>new rV(e,t)),this.fixed=!e.state.facet(ZB);for(let e of this.gutters)e.config.side==`after`?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position=`sticky`),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement(`div`),this.domAfter.className=`cm-gutters cm-gutters-after`,this.domAfter.setAttribute(`aria-hidden`,`true`),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+`px`,this.domAfter.style.position=this.fixed?`sticky`:``,this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(e.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+`px`;this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(ZB)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?`sticky`:``,this.domAfter&&(this.domAfter.style.position=this.fixed?`sticky`:``)),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=IN.iter(this.view.state.facet(KB),this.view.viewport.from),r=[],i=this.gutters.map(e=>new nV(e,this.view.viewport,-this.view.documentPadding.top));for(let e of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(e.type)){let t=!0;for(let a of e.type)if(a.type==MP.Text&&t){tV(n,r,a.from);for(let e of i)e.line(this.view,a,r);t=!1}else if(a.widget)for(let e of i)e.widget(this.view,a)}else if(e.type==MP.Text){tV(n,r,e.from);for(let t of i)t.line(this.view,e,r)}else if(e.widget)for(let t of i)t.widget(this.view,e);for(let e of i)e.finish();e&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(e){let t=e.startState.facet(YB),n=e.state.facet(YB),r=e.docChanged||e.heightChanged||e.viewportChanged||!IN.eq(e.startState.facet(KB),e.state.facet(KB),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=t.indexOf(r);n<0?i.push(new rV(this.view,r)):(this.gutters[n].update(e),i.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),i.indexOf(e)<0&&e.destroy();for(let e of i)e.config.side==`after`?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:e=>cz.scrollMargins.of(t=>{let n=t.plugin(e);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*t.scaleX,i=n.domAfter?n.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==pF.LTR?{left:r,right:i}:{right:r,left:i}})});function eV(e){return Array.isArray(e)?e:[e]}function tV(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}var nV=class{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=IN.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,i=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==r.elements.length){let t=new iV(e,a,i,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,a,i,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];tV(this.cursor,r,t.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);let a=this.gutter;r.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),r=n?[n]:null;for(let n of e.state.facet(qB)){let i=n(e,t.widget,t);i&&(r||=[]).push(i)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}},rV=class{constructor(e,t){for(let n in this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement(`div`),this.dom.className=`cm-gutter`+(this.config.class?` `+this.config.class:``),t.domEventHandlers)this.dom.addEventListener(n,r=>{let i=r.target,a;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let e=i.getBoundingClientRect();a=(e.top+e.bottom)/2}else a=r.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[n](e,o,r)&&r.preventDefault()});this.markers=eV(t.markers(e)),t.initialSpacer&&(this.spacer=new iV(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+=`visibility: hidden; pointer-events: none`)}update(e){let t=this.markers;if(this.markers=eV(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!IN.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}},iV=class{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement(`div`),this.dom.className=`cm-gutterElement`,this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+`px`),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+`px`:``),aV(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n=`cm-gutterElement`,r=this.dom.firstChild;for(let i=0,a=0;;){let o=a,s=i<t.length?t[i++]:null,c=!1;if(s){let e=s.elementClass;e&&(n+=` `+e);for(let e=a;e<this.markers.length;e++)if(this.markers[e].compare(s)){o=e,c=!0;break}}else o=this.markers.length;for(;a<o;){let e=this.markers[a++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!s)break;s.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),c&&a++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}};function aV(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}var oV=BM.define(),sV=BM.define(),cV=BM.define({combine(e){return AN(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],i=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||i(e,t,n):i}return n}})}}),lV=class extends GB{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}};function uV(e,t){return e.state.facet(cV).formatNumber(t,e.state)}var dV=YB.compute([cV],e=>({class:`cm-lineNumbers`,renderEmptyElements:!1,markers(e){return e.state.facet(oV)},lineMarker(e,t,n){return n.some(e=>e.toDOM)?null:new lV(uV(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let r of e.state.facet(sV)){let i=r(e,t,n);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(cV)!=e.state.facet(cV),initialSpacer(e){return new lV(uV(e,pV(e.state.doc.lines)))},updateSpacer(e,t){let n=uV(t.view,pV(t.view.state.doc.lines));return n==e.number?e:new lV(n)},domEventHandlers:e.facet(cV).domEventHandlers,side:`before`}));function fV(e={}){return[cV.of(e),QB(),dV]}function pV(e){let t=9;for(;t<e;)t=t*10+9;return t}var mV=new class extends GB{constructor(){super(...arguments),this.elementClass=`cm-activeLineGutter`}},hV=KB.compute([`selection`],e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(mV.range(i)))}return IN.of(t)});function gV(){return hV}var _V=0,vV=class e{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=_V++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(t,n){let r=typeof t==`string`?t:`?`;if(t instanceof e&&(n=t),n?.base)throw Error(`Can not derive from a modified tag`);let i=new e(r,[],null,[]);if(i.set.push(i),n)for(let e of n.set)i.set.push(e);return i}static defineModifier(e){let t=new bV(e);return e=>e.modified.indexOf(t)>-1?e:bV.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}},yV=0,bV=class e{constructor(e){this.name=e,this.instances=[],this.id=yV++}static get(t,n){if(!n.length)return t;let r=n[0].instances.find(e=>e.base==t&&xV(n,e.modified));if(r)return r;let i=[],a=new vV(t.name,i,t,n);for(let e of n)e.instances.push(a);let o=SV(n);for(let n of t.set)if(!n.modified.length)for(let t of o)i.push(e.get(n,t));return a}};function xV(e,t){return e.length==t.length&&e.every((e,n)=>e==t[n])}function SV(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((e,t)=>t.length-e.length)}function CV(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(` `))if(e){let n=[],i=2,a=e;for(let t=0;;){if(a==`...`&&t>0&&t+3==e.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!r)throw RangeError(`Invalid path: `+e);if(n.push(r[0]==`*`?``:r[0][0]==`"`?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&o==`!`){i=0;break}if(o!=`/`)throw RangeError(`Invalid path: `+e);a=e.slice(t)}let o=n.length-1,s=n[o];if(!s)throw RangeError(`Invalid path: `+e);t[s]=new TV(r,i,o>0?n.slice(0,o):null).sort(t[s])}}return wV.add(t)}var wV=new bj({combine(e,t){let n,r,i;for(;e||t;){if(!e||t&&e.depth>=t.depth?(i=t,t=t.next):(i=e,e=e.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let a=new TV(i.tags,i.mode,i.context);n?n.next=a:r=a,n=a}return r}}),TV=class{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};TV.empty=new TV([],2,null);function EV(e,t){let n=Object.create(null);for(let t of e)if(!Array.isArray(t.tag))n[t.tag.id]=t.class;else for(let e of t.tag)n[e.id]=t.class;let{scope:r,all:i=null}=t||{};return{style:e=>{let t=i;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+` `+r:r;break}}return t},scope:r}}function DV(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+` `+e:e)}return n}function OV(e,t,n,r=0,i=e.length){let a=new kV(r,Array.isArray(t)?t:[t],n);a.highlightRange(e.cursor(),r,i,``,a.highlighters),a.flush(i)}var kV=class{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=``}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,i){let{type:a,from:o,to:s}=e;if(o>=n||s<=t)return;a.isTop&&(i=this.highlighters.filter(e=>!e.scope||e.scope(a)));let c=r,l=AV(e)||TV.empty,u=DV(i,l.tags);if(u&&(c&&(c+=` `),c+=u,l.mode==1&&(r+=(r?` `:``)+u)),this.startSpan(Math.max(t,o),c),l.opaque)return;let d=e.tree&&e.tree.prop(bj.mounted);if(d&&d.overlay){let a=e.node.enter(d.overlay[0].from+o,1),l=this.highlighters.filter(e=>!e.scope||e.scope(d.tree.type)),u=e.firstChild();for(let f=0,p=o;;f++){let m=f<d.overlay.length?d.overlay[f]:null,h=m?m.from+o:s,g=Math.max(t,p),_=Math.min(n,h);if(g<_&&u)for(;e.from<_&&(this.highlightRange(e,g,_,r,i),this.startSpan(Math.min(_,e.to),c),!(e.to>=h||!e.nextSibling())););if(!m||h>n)break;p=m.to+o,p>t&&(this.highlightRange(a.cursor(),Math.max(t,m.from+o),Math.min(n,p),``,l),this.startSpan(Math.min(n,p),c))}u&&e.parent()}else if(e.firstChild()){d&&(r=``);do{if(e.to<=t)continue;if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}};function AV(e){let t=e.type.prop(wV);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}var jV=vV.define,MV=jV(),NV=jV(),PV=jV(NV),FV=jV(NV),IV=jV(),LV=jV(IV),RV=jV(IV),zV=jV(),BV=jV(zV),VV=jV(),HV=jV(),UV=jV(),WV=jV(UV),GV=jV(),$={comment:MV,lineComment:jV(MV),blockComment:jV(MV),docComment:jV(MV),name:NV,variableName:jV(NV),typeName:PV,tagName:jV(PV),propertyName:FV,attributeName:jV(FV),className:jV(NV),labelName:jV(NV),namespace:jV(NV),macroName:jV(NV),literal:IV,string:LV,docString:jV(LV),character:jV(LV),attributeValue:jV(LV),number:RV,integer:jV(RV),float:jV(RV),bool:jV(IV),regexp:jV(IV),escape:jV(IV),color:jV(IV),url:jV(IV),keyword:VV,self:jV(VV),null:jV(VV),atom:jV(VV),unit:jV(VV),modifier:jV(VV),operatorKeyword:jV(VV),controlKeyword:jV(VV),definitionKeyword:jV(VV),moduleKeyword:jV(VV),operator:HV,derefOperator:jV(HV),arithmeticOperator:jV(HV),logicOperator:jV(HV),bitwiseOperator:jV(HV),compareOperator:jV(HV),updateOperator:jV(HV),definitionOperator:jV(HV),typeOperator:jV(HV),controlOperator:jV(HV),punctuation:UV,separator:jV(UV),bracket:WV,angleBracket:jV(WV),squareBracket:jV(WV),paren:jV(WV),brace:jV(WV),content:zV,heading:BV,heading1:jV(BV),heading2:jV(BV),heading3:jV(BV),heading4:jV(BV),heading5:jV(BV),heading6:jV(BV),contentSeparator:jV(zV),list:jV(zV),quote:jV(zV),emphasis:jV(zV),strong:jV(zV),link:jV(zV),monospace:jV(zV),strikethrough:jV(zV),inserted:jV(),deleted:jV(),changed:jV(),invalid:jV(),meta:GV,documentMeta:jV(GV),annotation:jV(GV),processingInstruction:jV(GV),definition:vV.defineModifier(`definition`),constant:vV.defineModifier(`constant`),function:vV.defineModifier(`function`),standard:vV.defineModifier(`standard`),local:vV.defineModifier(`local`),special:vV.defineModifier(`special`)};for(let e in $){let t=$[e];t instanceof vV&&(t.name=e)}EV([{tag:$.link,class:`tok-link`},{tag:$.heading,class:`tok-heading`},{tag:$.emphasis,class:`tok-emphasis`},{tag:$.strong,class:`tok-strong`},{tag:$.keyword,class:`tok-keyword`},{tag:$.atom,class:`tok-atom`},{tag:$.bool,class:`tok-bool`},{tag:$.url,class:`tok-url`},{tag:$.labelName,class:`tok-labelName`},{tag:$.inserted,class:`tok-inserted`},{tag:$.deleted,class:`tok-deleted`},{tag:$.literal,class:`tok-literal`},{tag:$.string,class:`tok-string`},{tag:$.number,class:`tok-number`},{tag:[$.regexp,$.escape,$.special($.string)],class:`tok-string2`},{tag:$.variableName,class:`tok-variableName`},{tag:$.local($.variableName),class:`tok-variableName tok-local`},{tag:$.definition($.variableName),class:`tok-variableName tok-definition`},{tag:$.special($.variableName),class:`tok-variableName2`},{tag:$.definition($.propertyName),class:`tok-propertyName tok-definition`},{tag:$.typeName,class:`tok-typeName`},{tag:$.namespace,class:`tok-namespace`},{tag:$.className,class:`tok-className`},{tag:$.macroName,class:`tok-macroName`},{tag:$.propertyName,class:`tok-propertyName`},{tag:$.operator,class:`tok-operator`},{tag:$.comment,class:`tok-comment`},{tag:$.meta,class:`tok-meta`},{tag:$.invalid,class:`tok-invalid`},{tag:$.punctuation,class:`tok-punctuation`}]);var KV=new bj;function qV(e){return BM.define({combine:e?t=>t.concat(e):void 0})}var JV=new bj,YV=class{constructor(e,t,n=[],r=``){this.data=e,this.name=r,kN.prototype.hasOwnProperty(`tree`)||Object.defineProperty(kN.prototype,`tree`,{get(){return QV(this)}}),this.parser=t,this.extension=[cH.of(this),kN.languageData.of((e,t,n)=>{let r=XV(e,t,n),i=r.type.prop(KV);if(!i)return[];let a=e.facet(i),o=r.type.prop(JV);if(o){let i=r.resolve(t-r.from,n);for(let t of o)if(t.test(i,e)){let n=e.facet(t.facet);return t.type==`replace`?n:n.concat(a)}}return a})].concat(n)}isActiveAt(e,t,n=-1){return XV(e,t,n).type.prop(KV)==this.data}findRegions(e){let t=e.facet(cH);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(KV)==this.data){n.push({from:t,to:t+e.length});return}let i=e.prop(bj.mounted);if(i){if(i.tree.prop(KV)==this.data){if(i.overlay)for(let e of i.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}else if(i.overlay){let e=n.length;if(r(i.tree,i.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let i=e.children[n];i instanceof Oj&&r(i,e.positions[n]+t)}};return r(QV(e),0),n}get allowsNesting(){return!0}};YV.setState=mN.define();function XV(e,t,n){let r=e.facet(cH),i=QV(e).topNode;if(!r||r.allowsNesting)for(let e=i;e;e=e.enter(t,n,Dj.ExcludeBuffers|Dj.EnterBracketed))e.type.isTop&&(i=e);return i}var ZV=class e extends YV{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(t){let n=qV(t.languageData);return new e(n,t.parser.configure({props:[KV.add(e=>e.isTop?n:void 0)]}),t.name)}configure(t,n){return new e(this.data,this.parser.configure(t),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function QV(e){let t=e.field(YV.state,!1);return t?t.tree:Oj.empty}function $V(e,t,n=50){let r=e.field(YV.state,!1)?.context;if(!r)return null;let i=r.viewport;r.updateViewport({from:0,to:t});let a=r.isDone(t)||r.work(n,t)?r.tree:null;return r.updateViewport(i),a}var eH=class{constructor(e){this.doc=e,this.cursorPos=0,this.string=``,this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}},tH=null,nH=class e{constructor(e,t,n=[],r,i,a,o,s){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=a,this.skipped=o,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}static create(t,n,r){return new e(t,n,[],Oj.empty,0,r,[],null)}startParse(){return this.parser.startParse(new eH(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Oj.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{if(typeof e==`number`){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||=this.startParse(),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Jj.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=this.parse.stoppedAt??this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Jj.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=tH;tH=this;try{return e()}finally{tH=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=rH(e,t.from,t.to);return e}changes(t,n){let{fragments:r,tree:i,treeLen:a,viewport:o,skipped:s}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i})),r=Jj.applyChanges(r,e),i=Oj.empty,a=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&s.push({from:n,to:r})}}}return new e(this.parser,n,r,i,a,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=rH(this.fragments,n,r),this.skipped.splice(t--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&=(this.takeTree(),null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Yj{createParse(t,n,r){let i=r[0].from,a=r[r.length-1].to;return{parsedPos:i,advance(){let t=tH;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=a,new Oj(Cj.none,[],[],a-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return tH}};function rH(e,t,n){return Jj.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}var iH=class e{constructor(e){this.context=e,this.tree=e.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new e(n)}static init(t){let n=Math.min(3e3,t.doc.length),r=nH.create(t.facet(cH).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new e(r)}};YV.state=qM.define({create:iH.init,update(e,t){for(let e of t.effects)if(e.is(YV.setState))return e.value;return t.startState.facet(cH)==t.state.facet(cH)?e.apply(t):iH.init(t.state)}});var aH=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<`u`&&(aH=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});var oH=typeof navigator<`u`&&navigator.scheduling?.isInputPending?()=>navigator.scheduling.isInputPending():null,sH=tI.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(YV.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(YV.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=aH(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(YV.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!oH?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,s=i.context.work(()=>oH&&oH()||Date.now()>a,r+(o?0:1e5));this.chunkBudget-=Date.now()-t,(s||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:YV.setState.of(new iH(i.context))})),this.chunkBudget>0&&!(s&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&=(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(e=>ZF(this.view.state,e)).then(()=>this.workScheduled--),null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),cH=BM.define({combine(e){return e.length?e[0]:null},enables:e=>[YV.state,sH,cz.contentAttributes.compute([e],t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}})]}),lH=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}},uH=BM.define(),dH=BM.define({combine:e=>{if(!e.length)return`  `;let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw Error(`Invalid indent unit: `+JSON.stringify(e[0]));return t}});function fH(e){let t=e.facet(dH);return t.charCodeAt(0)==9?e.tabSize*t.length:t.length}function pH(e,t){let n=``,r=e.tabSize,i=e.facet(dH)[0];if(i==`	`){for(;t>=r;)n+=`	`,t-=r;i=` `}for(let e=0;e<t;e++)n+=i;return n}function mH(e,t){e instanceof kN&&(e=new hH(e));for(let n of e.state.facet(uH)){let r=n(e,t);if(r!==void 0)return r}let n=QV(e.state);return n.length>=t?_H(e,n,t):null}var hH=class{constructor(e,t={}){this.state=e,this.options=t,this.unit=fH(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return r!=null&&r>=n.from&&r<=n.to?i&&r==e?{text:``,from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return``;let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.countColumn(n,e-r),a=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return a>-1&&(i+=a-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return YN(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}},gH=new bj;function _H(e,t,n){let r=t.resolveStack(n),i=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let e=[];for(let t=i;t&&!(t.from<r.node.from||t.to>r.node.to||t.from==r.node.from&&t.type==r.node.type);t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return vH(r,e,n)}function vH(e,t,n){for(let r=e;r;r=r.next){let e=bH(r.node);if(e)return e(SH.create(t,n,r))}return 0}function yH(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}function bH(e){let t=e.type.prop(gH);if(t)return t;let n=e.firstChild,r;if(n&&(r=n.type.prop(bj.closedBy))){let t=e.lastChild,n=t&&r.indexOf(t.name)>-1;return e=>TH(e,!0,1,void 0,n&&!yH(e)?t.from:void 0)}return e.parent==null?xH:null}function xH(){return 0}var SH=class e extends hH{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(t,n,r){return new e(t,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(CH(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return vH(this.context.next,this.base,this.pos)}};function CH(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function wH(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,a=e.state.doc.lineAt(n.from),o=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let e=n.to;;){let i=t.childAfter(e);if(!i||i==r)return null;if(!i.type.isSkipped){if(i.from>=o)return null;let e=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+e}}e=i.to}}function TH(e,t,n,r,i){let a=e.textAfter,o=a.match(/^\s*/)[0].length,s=r&&a.slice(o,o+r.length)==r||i==e.pos+o,c=t?wH(e):null;return c?s?e.column(c.from):e.column(c.to):e.baseIndent+(s?0:e.unit*n)}function EH({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}var DH=200;function OH(){return kN.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent(`input.type`)&&!e.isUserEvent(`input.complete`))return e;let t=e.startState.languageDataAt(`indentOnInput`,e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+DH)return e;let a=n.sliceString(i.from,r);if(!t.some(e=>e.test(a)))return e;let{state:o}=e,s=-1,c=[];for(let{head:e}of o.selection.ranges){let t=o.doc.lineAt(e);if(t.from==s)continue;s=t.from;let n=mH(o,t.from);if(n==null)continue;let r=/^\s*/.exec(t.text)[0],i=pH(o,n);r!=i&&c.push({from:t.from,to:t.from+r.length,insert:i})}return c.length?[e,{changes:c,sequential:!0}]:e})}var kH=BM.define(),AH=new bj;function jH(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function MH(e,t,n){let r=QV(e);if(r.length<n)return null;let i=r.resolveStack(n,1),a=null;for(let o=i;o;o=o.next){let i=o.node;if(i.to<=n||i.from>n)continue;if(a&&i.from<t)break;let s=i.type.prop(AH);if(s&&(i.to<r.length-50||r.length==e.doc.length||!NH(i))){let r=s(i,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(a=r)}}return a}function NH(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function PH(e,t,n){for(let r of e.facet(kH)){let i=r(e,t,n);if(i)return i}return MH(e,t,n)}function FH(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}var IH=mN.define({map:FH}),LH=mN.define({map:FH});function RH(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some(e=>e.from<=n&&e.to>=n)||t.push(e.lineBlockAt(n));return t}var zH=qM.define({create(){return NP.none},update(e,t){t.isUserEvent(`delete`)&&t.changes.iterChangedRanges((t,n)=>e=BH(e,t,n)),e=e.map(t.changes);for(let n of t.effects)if(n.is(IH)&&!HH(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(ZH),i=r?NP.replace({widget:new tU(r(t.state,n.value))}):eU;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(LH)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));return t.selection&&(e=BH(e,t.selection.main.head)),e},provide:e=>cz.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(e,t)=>{n.push(e,t)}),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw RangeError(`Invalid JSON for fold state`);let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if(typeof r!=`number`||typeof i!=`number`)throw RangeError(`Invalid JSON for fold state`);t.push(eU.range(r,i))}return NP.set(t,!0)}});function BH(e,t,n=t){let r=!1;return e.between(t,n,(e,i)=>{e<n&&i>t&&(r=!0)}),r?e.update({filterFrom:t,filterTo:n,filter:(e,r)=>e>=n||r<=t}):e}function VH(e,t,n){var r;let i=null;return(r=e.field(zH,!1))==null||r.between(t,n,(e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})}),i}function HH(e,t,n){let r=!1;return e.between(t,t,(e,i)=>{e==t&&i==n&&(r=!0)}),r}function UH(e,t){return e.field(zH,!1)?t:t.concat(mN.appendConfig.of(QH()))}var WH=e=>{for(let t of RH(e)){let n=PH(e.state,t.from,t.to);if(n)return e.dispatch({effects:UH(e.state,[IH.of(n),KH(e,n)])}),!0}return!1},GH=e=>{if(!e.state.field(zH,!1))return!1;let t=[];for(let n of RH(e)){let r=VH(e.state,n.from,n.to);r&&t.push(LH.of(r),KH(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function KH(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return cz.announce.of(`${e.state.phrase(n?`Folded lines`:`Unfolded lines`)} ${r} ${e.state.phrase(`to`)} ${i}.`)}var qH=e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),a=PH(t,i.from,i.to);a&&n.push(IH.of(a)),r=(a?e.lineBlockAt(a.to):i).to+1}return n.length&&e.dispatch({effects:UH(e.state,n)}),!!n.length},JH=e=>{let t=e.state.field(zH,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(e,t)=>{n.push(LH.of({from:e,to:t}))}),e.dispatch({effects:n}),!0},YH=[{key:`Ctrl-Shift-[`,mac:`Cmd-Alt-[`,run:WH},{key:`Ctrl-Shift-]`,mac:`Cmd-Alt-]`,run:GH},{key:`Ctrl-Alt-[`,run:qH},{key:`Ctrl-Alt-]`,run:JH}],XH={placeholderDOM:null,preparePlaceholder:null,placeholderText:`â¦`},ZH=BM.define({combine(e){return AN(e,XH)}});function QH(e){let t=[zH,aU];return e&&t.push(ZH.of(e)),t}function $H(e,t){let{state:n}=e,r=n.facet(ZH),i=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=VH(e.state,n.from,n.to);r&&e.dispatch({effects:LH.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);let a=document.createElement(`span`);return a.textContent=r.placeholderText,a.setAttribute(`aria-label`,n.phrase(`folded code`)),a.title=n.phrase(`unfold`),a.className=`cm-foldPlaceholder`,a.onclick=i,a}var eU=NP.replace({widget:new class extends jP{toDOM(e){return $H(e,null)}}}),tU=class extends jP{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return $H(e,this.value)}},nU={openText:`â`,closedText:`âº`,markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1},rU=class extends GB{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement(`span`);return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?`Fold line`:`Unfold line`),t}};function iU(e={}){let t={...nU,...e},n=new rU(t,!0),r=new rU(t,!1),i=tI.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(cH)!=e.state.facet(cH)||e.startState.field(zH,!1)!=e.state.field(zH,!1)||QV(e.startState)!=QV(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new RN;for(let i of e.viewportLineBlocks){let a=VH(e.state,i.from,i.to)?r:PH(e.state,i.from,i.to)?n:null;a&&t.add(i.from,i.from,a)}return t.finish()}}),{domEventHandlers:a}=t;return[i,XB({class:`cm-foldGutter`,markers(e){return e.plugin(i)?.markers||IN.empty},initialSpacer(){return new rU(t,!1)},domEventHandlers:{...a,click:(e,t,n)=>{if(a.click&&a.click(e,t,n))return!0;let r=VH(e.state,t.from,t.to);if(r)return e.dispatch({effects:LH.of(r)}),!0;let i=PH(e.state,t.from,t.to);return i?(e.dispatch({effects:IH.of(i)}),!0):!1}}}),QH()]}var aU=cz.baseTheme({".cm-foldPlaceholder":{backgroundColor:`#eee`,border:`1px solid #ddd`,color:`#888`,borderRadius:`.2em`,margin:`0 1px`,padding:`0 1px`,cursor:`pointer`},".cm-foldGutter span":{padding:`0 1px`,cursor:`pointer`}}),oU=class e{constructor(e,t){this.specs=e;let n;function r(e){let t=tP.newName();return(n||=Object.create(null))[`.`+t]=e,t}let i=typeof t.all==`string`?t.all:t.all?r(t.all):void 0,a=t.scope;this.scope=a instanceof YV?e=>e.prop(KV)==a.data:a?e=>e==a:void 0,this.style=EV(e.map(e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))})),{all:i}).style,this.module=n?new tP(n):null,this.themeType=t.themeType}static define(t,n){return new e(t,n||{})}},sU=BM.define(),cU=BM.define({combine(e){return e.length?[e[0]]:null}});function lU(e){let t=e.facet(sU);return t.length?t:e.facet(cU)}function uU(e,t){let n=[fU],r;return e instanceof oU&&(e.module&&n.push(cz.styleModule.of(e.module)),r=e.themeType),t?.fallback?n.push(cU.of(e)):r?n.push(sU.computeN([cz.darkTheme],t=>t.facet(cz.darkTheme)==(r==`dark`)?[e]:[])):n.push(sU.of(e)),n}var dU=class{constructor(e){this.markCache=Object.create(null),this.tree=QV(e.state),this.decorations=this.buildDeco(e,lU(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=QV(e.state),n=lU(e.state),r=n!=lU(e.startState),{viewport:i}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!r&&t.type==this.tree.type&&a>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=i.to)}buildDeco(e,t){if(!t||!this.tree.length)return NP.none;let n=new RN;for(let{from:r,to:i}of e.visibleRanges)OV(this.tree,t,(e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=NP.mark({class:r})))},r,i);return n.finish()}},fU=XM.high(tI.fromClass(dU,{decorations:e=>e.decorations})),pU=oU.define([{tag:$.meta,color:`#404740`},{tag:$.link,textDecoration:`underline`},{tag:$.heading,textDecoration:`underline`,fontWeight:`bold`},{tag:$.emphasis,fontStyle:`italic`},{tag:$.strong,fontWeight:`bold`},{tag:$.strikethrough,textDecoration:`line-through`},{tag:$.keyword,color:`#708`},{tag:[$.atom,$.bool,$.url,$.contentSeparator,$.labelName],color:`#219`},{tag:[$.literal,$.inserted],color:`#164`},{tag:[$.string,$.deleted],color:`#a11`},{tag:[$.regexp,$.escape,$.special($.string)],color:`#e40`},{tag:$.definition($.variableName),color:`#00f`},{tag:$.local($.variableName),color:`#30a`},{tag:[$.typeName,$.namespace],color:`#085`},{tag:$.className,color:`#167`},{tag:[$.special($.variableName),$.macroName],color:`#256`},{tag:$.definition($.propertyName),color:`#00c`},{tag:$.comment,color:`#940`},{tag:$.invalid,color:`#f00`}]),mU=cz.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:`#328c8252`},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:`#bb555544`}}),hU=1e4,gU=`()[]{}`,_U=BM.define({combine(e){return AN(e,{afterCursor:!0,brackets:gU,maxScanDistance:hU,renderMatch:bU})}}),vU=NP.mark({class:`cm-matchingBracket`}),yU=NP.mark({class:`cm-nonmatchingBracket`});function bU(e){let t=[],n=e.matched?vU:yU;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}var xU=[qM.define({create(){return NP.none},update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(_U);for(let e of t.state.selection.ranges){if(!e.empty)continue;let i=EU(t.state,e.head,-1,r)||e.head>0&&EU(t.state,e.head-1,1,r)||r.afterCursor&&(EU(t.state,e.head,1,r)||e.head<t.state.doc.length&&EU(t.state,e.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,t.state)))}return NP.set(n,!0)},provide:e=>cz.decorations.from(e)}),mU];function SU(e={}){return[_U.of(e),xU]}var CU=new bj;function wU(e,t,n){let r=e.prop(t<0?bj.openedBy:bj.closedBy);if(r)return r;if(e.name.length==1){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function TU(e){let t=e.type.prop(CU);return t?t(e.node):e}function EU(e,t,n,r={}){let i=r.maxScanDistance||hU,a=r.brackets||gU,o=QV(e),s=o.resolveInner(t,n);for(let r=s;r;r=r.parent){let i=wU(r.type,n,a);if(i&&r.from<r.to){let o=TU(r);if(o&&(n>0?t>=o.from&&t<o.to:t>o.from&&t<=o.to))return DU(e,t,n,r,o,i,a)}}return OU(e,t,n,o,s.type,i,a)}function DU(e,t,n,r,i,a,o){let s=r.parent,c={from:i.from,to:i.to},l=0,u=s?.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(l==0&&a.indexOf(u.type.name)>-1&&u.from<u.to){let e=TU(u);return{start:c,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}else if(wU(u.type,n,o))l++;else if(wU(u.type,-n,o)){if(l==0){let e=TU(u);return{start:c,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}l--}}while(n<0?u.prevSibling():u.nextSibling());return{start:c,matched:!1}}function OU(e,t,n,r,i,a,o){let s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),c=o.indexOf(s);if(c<0||c%2==0!=n>0)return null;let l={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!u.next().done&&e<=a;){let a=u.value;n<0&&(e+=a.length);let s=t+e*n;for(let e=n>0?0:a.length-1,t=n>0?a.length:-1;e!=t;e+=n){let t=o.indexOf(a[e]);if(!(t<0||r.resolveInner(s+e,1).type!=i))if(t%2==0==n>0)d++;else if(d==1)return{start:l,end:{from:s+e,to:s+e+1},matched:t>>1==c>>1};else d--}n>0&&(e+=a.length)}return u.done?{start:l,matched:!1}:null}var kU=Object.create(null),AU=[Cj.none],jU=[],MU=Object.create(null),NU=Object.create(null);for(let[e,t]of[[`variable`,`variableName`],[`variable-2`,`variableName.special`],[`string-2`,`string.special`],[`def`,`variableName.definition`],[`tag`,`tagName`],[`attribute`,`attributeName`],[`type`,`typeName`],[`builtin`,`variableName.standard`],[`qualifier`,`modifier`],[`error`,`invalid`],[`header`,`heading`],[`property`,`propertyName`]])NU[e]=FU(kU,t);function PU(e,t){jU.indexOf(e)>-1||(jU.push(e),console.warn(t))}function FU(e,t){let n=[];for(let r of t.split(` `)){let t=[];for(let n of r.split(`.`)){let r=e[n]||$[n];r?typeof r==`function`?t.length?t=t.map(r):PU(n,`Modifier ${n} used at start of tag`):t.length?PU(n,`Tag ${n} used as modifier`):t=Array.isArray(r)?r:[r]:PU(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,`_`),i=r+` `+n.map(e=>e.id),a=MU[i];if(a)return a.id;let o=MU[i]=Cj.define({id:AU.length,name:r,props:[CV({[r]:n})]});return AU.push(o),o.id}pF.RTL,pF.LTR;var IU=e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=VU(e.state,n.from);return r.line?RU(e):r.block?BU(e):!1};function LU(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return i?(r(n.update(i)),!0):!1}}var RU=LU(KU,0),zU=LU(GU,0),BU=LU((e,t)=>GU(e,t,WU(t)),0);function VU(e,t){let n=e.languageDataAt(`commentTokens`,t,1);return n.length?n[0]:{}}var HU=50;function UU(e,{open:t,close:n},r,i){let a=e.sliceDoc(r-HU,r),o=e.sliceDoc(i,i+HU),s=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(o)[0].length,l=a.length-s;if(a.slice(l-t.length,l)==t&&o.slice(c,c+n.length)==n)return{open:{pos:r-s,margin:s&&1},close:{pos:i+c,margin:c&&1}};let u,d;i-r<=2*HU?u=d=e.sliceDoc(r,i):(u=e.sliceDoc(r,r+HU),d=e.sliceDoc(i-HU,i));let f=/^\s*/.exec(u)[0].length,p=/\s*$/.exec(d)[0].length,m=d.length-p-n.length;return u.slice(f,f+t.length)==t&&d.slice(m,m+n.length)==n?{open:{pos:r+f+t.length,margin:/\s/.test(u.charAt(f+t.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(d.charAt(m-1))?1:0}}:null}function WU(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:e.doc.lineAt(n.to-1));let a=t.length-1;a>=0&&t[a].to>r.from?t[a].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}function GU(e,t,n=t.selection.ranges){let r=n.map(e=>VU(t,e.from).block);if(!r.every(e=>e))return null;let i=n.map((e,n)=>UU(t,r[n],e.from,e.to));if(e!=2&&!i.every(e=>e))return{changes:t.changes(n.map((e,t)=>i[t]?[]:[{from:e.from,insert:r[t].open+` `},{from:e.to,insert:` `+r[t].close}]))};if(e!=1&&i.some(e=>e)){let e=[];for(let t=0,n;t<i.length;t++)if(n=i[t]){let i=r[t],{open:a,close:o}=n;e.push({from:a.pos-i.open.length,to:a.pos+a.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:e}}return null}function KU(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:e,to:a}of n){let n=r.length,o=1e9,s=VU(t,e).line;if(s){for(let n=e;n<=a;){let c=t.doc.lineAt(n);if(c.from>i&&(e==a||a>c.from)){i=c.from;let e=/^\s*/.exec(c.text)[0].length,t=e==c.length,n=c.text.slice(e,e+s.length)==s?e:-1;e<c.text.length&&e<o&&(o=e),r.push({line:c,comment:n,token:s,indent:e,empty:t,single:!1})}n=c.to+1}if(o<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=o);r.length==n+1&&(r[n].single=!0)}}if(e!=2&&r.some(e=>e.comment<0&&(!e.empty||e.single))){let e=[];for(let{line:t,token:n,indent:i,empty:a,single:o}of r)(o||!a)&&e.push({from:t.from+i,insert:n+` `});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}else if(e!=1&&r.some(e=>e.comment>=0)){let e=[];for(let{line:t,comment:n,token:i}of r)if(n>=0){let r=t.from+n,a=r+i.length;t.text[a-t.from]==` `&&a++,e.push({from:r,to:a})}return{changes:e}}return null}var qU=dN.define(),JU=BM.define(),YU=class e{constructor(e,t,n,r,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new e(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){return{changes:this.changes?.toJSON(),mapped:this.mapped?.toJSON(),startSelection:this.startSelection?.toJSON(),selectionsAfter:this.selectionsAfter.map(e=>e.toJSON())}}static fromJSON(t){return new e(t.changes&&AM.fromJSON(t.changes),[],t.mapped&&kM.fromJSON(t.mapped),t.startSelection&&Q.fromJSON(t.startSelection),t.selectionsAfter.map(Q.fromJSON))}static fromTransaction(t,n){let r=eW;for(let e of t.startState.facet(JU)){let n=e(t);n.length&&(r=r.concat(n))}return!r.length&&t.changes.empty?null:new e(t.changes.invert(t.startState.doc),r,void 0,n||t.startState.selection,eW)}static selection(t){return new e(void 0,eW,void 0,void 0,t)}};function XU(e,t,n,r){let i=t+1>n+20?t-n-1:0,a=e.slice(i,t);return a.push(r),a}function ZU(e,t){let n=[],r=!1;return e.iterChangedRanges((e,t)=>n.push(e,t)),t.iterChangedRanges((e,t,i,a)=>{for(let e=0;e<n.length;){let t=n[e++],o=n[e++];a>=t&&i<=o&&(r=!0)}}),r}function QU(e,t){return e.ranges.length==t.ranges.length&&e.ranges.filter((e,n)=>e.empty!=t.ranges[n].empty).length===0}function $U(e,t){return e.length?t.length?e.concat(t):e:t}var eW=[],tW=200;function nW(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-tW));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),XU(e,e.length-1,1e9,n.setSelAfter(r)))}else return[YU.selection([t])]}function rW(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function iW(e,t){if(!e.length)return e;let n=e.length,r=eW;for(;n;){let i=aW(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,n);return t[n-1]=i,t}else t=i.mapped,n--,r=i.selectionsAfter}return r.length?[YU.selection(r)]:eW}function aW(e,t,n){let r=$U(e.selectionsAfter.length?e.selectionsAfter.map(e=>e.map(t)):eW,n);if(!e.changes)return YU.selection(r);let i=e.changes.map(t),a=t.mapDesc(e.changes,!0),o=e.mapped?e.mapped.composeDesc(a):a;return new YU(i,mN.mapEffects(e.effects,t),o,e.startSelection.map(a),r)}var oW=/^(input\.type|delete)($|\.)/,sW=class e{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new e(this.done,this.undone):this}addChanges(t,n,r,i,a){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&t.changes&&(!r||oW.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,ZU(s.changes,t.changes))||r==`input.type.compose`)?XU(o,o.length-1,i.minDepth,new YU(t.changes.compose(s.changes),$U(mN.mapEffects(t.effects,s.changes),s.effects),s.mapped,s.startSelection,eW)):XU(o,o.length,i.minDepth,t),new e(o,eW,n,r)}addSelection(t,n,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:eW;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&QU(a[a.length-1],t)?this:new e(nW(this.done,t),this.undone,n,r)}addMapping(t){return new e(iW(this.done,t),iW(this.undone,t),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=e==0?this.done:this.undone;if(r.length==0)return null;let i=r[r.length-1],a=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:qU.of({side:e,rest:rW(r),selection:a}),userEvent:e==0?`select.undo`:`select.redo`,scrollIntoView:!0});if(i.changes){let n=r.length==1?eW:r.slice(0,r.length-1);return i.mapped&&(n=iW(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:qU.of({side:e,rest:n,selection:a}),filter:!1,userEvent:e==0?`undo`:`redo`,scrollIntoView:!0})}else return null}};sW.empty=new sW(eW,eW);function cW(e,t){return Q.create(e.ranges.map(t),e.mainIndex)}function lW(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:`select`})}function uW({state:e,dispatch:t},n){let r=cW(e.selection,n);return r.eq(e.selection,!0)?!1:(t(lW(e,r)),!0)}function dW(e,t){return Q.cursor(t?e.to:e.from)}function fW(e,t){return uW(e,n=>n.empty?e.moveByChar(n,t):dW(n,t))}function pW(e){return e.textDirectionAt(e.state.selection.main.head)==pF.LTR}var mW=e=>fW(e,!pW(e)),hW=e=>fW(e,pW(e));function gW(e,t){return uW(e,n=>n.empty?e.moveByGroup(n,t):dW(n,t))}var _W=e=>gW(e,!pW(e)),vW=e=>gW(e,pW(e));typeof Intl<`u`&&Intl.Segmenter;function yW(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function bW(e,t,n){let r=QV(e).resolveInner(t.head),i=n?bj.closedBy:bj.openedBy;for(let a=t.head;;){let t=n?r.childAfter(a):r.childBefore(a);if(!t)break;yW(e,t,i)?r=t:a=n?t.to:t.from}let a=r.type.prop(i),o,s;return s=a&&(o=n?EU(e,r.from,1):EU(e,r.to,-1))&&o.matched?n?o.end.to:o.end.from:n?r.to:r.from,Q.cursor(s,n?-1:1)}var xW=e=>uW(e,t=>bW(e.state,t,!pW(e))),SW=e=>uW(e,t=>bW(e.state,t,pW(e)));function CW(e,t){return uW(e,n=>{if(!n.empty)return dW(n,t);let r=e.moveVertically(n,t);return r.head==n.head?e.moveToLineBoundary(n,t):r})}var wW=e=>CW(e,!1),TW=e=>CW(e,!0);function EW(e){let t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,r=0,i;if(t){for(let t of e.state.facet(cz.scrollMargins)){let i=t(e);i?.top&&(n=Math.max(i?.top,n)),i?.bottom&&(r=Math.max(i?.bottom,r))}i=e.scrollDOM.clientHeight-n-r}else i=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:t,height:Math.max(e.defaultLineHeight,i-5)}}function DW(e,t){let n=EW(e),{state:r}=e,i=cW(r.selection,r=>r.empty?e.moveVertically(r,t,n.height):dW(r,t));if(i.eq(r.selection))return!1;let a;if(n.selfScroll){let t=e.coordsAtPos(r.selection.main.head),o=e.scrollDOM.getBoundingClientRect(),s=o.top+n.marginTop,c=o.bottom-n.marginBottom;t&&t.top>s&&t.bottom<c&&(a=cz.scrollIntoView(i.main.head,{y:`start`,yMargin:t.top-s}))}return e.dispatch(lW(r,i),{effects:a}),!0}var OW=e=>DW(e,!1),kW=e=>DW(e,!0);function AW(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(i=Q.cursor(r.from+n))}return i}var jW=e=>uW(e,t=>AW(e,t,!0)),MW=e=>uW(e,t=>AW(e,t,!1)),NW=e=>uW(e,t=>AW(e,t,!pW(e))),PW=e=>uW(e,t=>AW(e,t,pW(e))),FW=e=>uW(e,t=>Q.cursor(e.lineBlockAt(t.head).from,1)),IW=e=>uW(e,t=>Q.cursor(e.lineBlockAt(t.head).to,-1));function LW(e,t,n){let r=!1,i=cW(e.selection,t=>{let i=EU(e,t.head,-1)||EU(e,t.head,1)||t.head>0&&EU(e,t.head-1,1)||t.head<e.doc.length&&EU(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;let a=i.start.from==t.head?i.end.to:i.end.from;return n?Q.range(t.anchor,a):Q.cursor(a)});return r?(t(lW(e,i)),!0):!1}var RW=({state:e,dispatch:t})=>LW(e,t,!1);function zW(e,t){let n=cW(e.state.selection,e=>{let n=t(e);return Q.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return n.eq(e.state.selection)?!1:(e.dispatch(lW(e.state,n)),!0)}function BW(e,t){return zW(e,n=>e.moveByChar(n,t))}var VW=e=>BW(e,!pW(e)),HW=e=>BW(e,pW(e));function UW(e,t){return zW(e,n=>e.moveByGroup(n,t))}var WW=e=>UW(e,!pW(e)),GW=e=>UW(e,pW(e)),KW=e=>zW(e,t=>bW(e.state,t,!pW(e))),qW=e=>zW(e,t=>bW(e.state,t,pW(e)));function JW(e,t){return zW(e,n=>e.moveVertically(n,t))}var YW=e=>JW(e,!1),XW=e=>JW(e,!0);function ZW(e,t){return zW(e,n=>e.moveVertically(n,t,EW(e).height))}var QW=e=>ZW(e,!1),$W=e=>ZW(e,!0),eG=e=>zW(e,t=>AW(e,t,!0)),tG=e=>zW(e,t=>AW(e,t,!1)),nG=e=>zW(e,t=>AW(e,t,!pW(e))),rG=e=>zW(e,t=>AW(e,t,pW(e))),iG=e=>zW(e,t=>Q.cursor(e.lineBlockAt(t.head).from)),aG=e=>zW(e,t=>Q.cursor(e.lineBlockAt(t.head).to)),oG=({state:e,dispatch:t})=>(t(lW(e,{anchor:0})),!0),sG=({state:e,dispatch:t})=>(t(lW(e,{anchor:e.doc.length})),!0),cG=({state:e,dispatch:t})=>(t(lW(e,{anchor:e.selection.main.anchor,head:0})),!0),lG=({state:e,dispatch:t})=>(t(lW(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),uG=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:`select`})),!0),dG=({state:e,dispatch:t})=>{let n=AG(e).map(({from:t,to:n})=>Q.range(t,Math.min(n+1,e.doc.length)));return t(e.update({selection:Q.create(n),userEvent:`select`})),!0},fG=({state:e,dispatch:t})=>{let n=cW(e.selection,t=>{let n=QV(e),r=n.resolveStack(t.from,1);if(t.empty){let e=n.resolveStack(t.from,-1);e.node.from>=r.node.from&&e.node.to<=r.node.to&&(r=e)}for(let e=r;e;e=e.next){let{node:n}=e;if((n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&e.next)return Q.range(n.to,n.from)}return t});return n.eq(e.selection)?!1:(t(lW(e,n)),!0)};function pG(e,t){let{state:n}=e,r=n.selection,i=n.selection.ranges.slice();for(let r of n.selection.ranges){let a=n.doc.lineAt(r.head);if(t?a.to<e.state.doc.length:a.from>0)for(let n=r;;){let r=e.moveVertically(n,t);if(r.head<a.from||r.head>a.to){i.some(e=>e.head==r.head)||i.push(r);break}else if(r.head==n.head)break;else n=r}}return i.length==r.ranges.length?!1:(e.dispatch(lW(n,Q.create(i,i.length-1))),!0)}var mG=e=>pG(e,!1),hG=e=>pG(e,!0),gG=({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Q.create([n.main]):n.main.empty||(r=Q.create([Q.cursor(n.main.head)])),r?(t(lW(e,r)),!0):!1};function _G(e,t){if(e.state.readOnly)return!1;let n=`delete.selection`,{state:r}=e,i=r.changeByRange(r=>{let{from:i,to:a}=r;if(i==a){let o=t(r);o<i?(n=`delete.backward`,o=vG(e,o,!1)):o>i&&(n=`delete.forward`,o=vG(e,o,!0)),i=Math.min(i,o),a=Math.max(a,o)}else i=vG(e,i,!1),a=vG(e,a,!0);return i==a?{range:r}:{changes:{from:i,to:a},range:Q.cursor(i,i<r.head?-1:1)}});return i.changes.empty?!1:(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n==`delete.selection`?cz.announce.of(r.phrase(`Selection deleted`)):void 0})),!0)}function vG(e,t,n){if(e instanceof cz)for(let r of e.state.facet(cz.atomicRanges).map(t=>t(e)))r.between(t,t,(e,r)=>{e<t&&r>t&&(t=n?r:e)});return t}var yG=(e,t,n)=>_G(e,r=>{let i=r.from,{state:a}=e,o=a.doc.lineAt(i),s,c;if(n&&!t&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(s=o.text.slice(0,i-o.from))){if(s[s.length-1]==`	`)return i-1;let e=YN(s,a.tabSize)%fH(a)||fH(a);for(let t=0;t<e&&s[s.length-1-t]==` `;t++)i--;c=i}else c=xM(o.text,i-o.from,t,t)+o.from,c==i&&o.number!=(t?a.doc.lines:1)?c+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(o.text.slice(c-o.from,i-o.from))&&(c=xM(o.text,c-o.from,!1,!1)+o.from);return c}),bG=e=>yG(e,!1,!0),xG=e=>yG(e,!0,!1),SG=(e,t)=>_G(e,n=>{let r=n.head,{state:i}=e,a=i.doc.lineAt(r),o=i.charCategorizer(r);for(let e=null;;){if(r==(t?a.to:a.from)){r==n.head&&a.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let s=xM(a.text,r-a.from,t)+a.from,c=a.text.slice(Math.min(r,s)-a.from,Math.max(r,s)-a.from),l=o(c);if(e!=null&&l!=e)break;(c!=` `||r!=n.head)&&(e=l),r=s}return r}),CG=e=>SG(e,!1),wG=e=>SG(e,!0),TG=e=>_G(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),EG=e=>_G(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}),DG=e=>_G(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),OG=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:uM.of([``,``])},range:Q.cursor(e.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:`input`})),!0},kG=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(t=>{if(!t.empty||t.from==0||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),i=n==r.from?n-1:xM(r.text,n-r.from,!1)+r.from,a=n==r.to?n+1:xM(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:a,insert:e.doc.slice(n,a).append(e.doc.slice(i,n))},range:Q.cursor(a)}});return n.changes.empty?!1:(t(e.update(n,{scrollIntoView:!0,userEvent:`move.character`})),!0)};function AG(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),a=e.doc.lineAt(r.to);if(!r.empty&&r.to==a.from&&(a=e.doc.lineAt(r.to-1)),n>=i.number){let e=t[t.length-1];e.to=a.to,e.ranges.push(r)}else t.push({from:i.from,to:a.to,ranges:[r]});n=a.number+1}return t}function jG(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let t of AG(e)){if(n?t.to==e.doc.length:t.from==0)continue;let a=e.doc.lineAt(n?t.to+1:t.from-1),o=a.length+1;if(n){r.push({from:t.to,to:a.to},{from:t.from,insert:a.text+e.lineBreak});for(let n of t.ranges)i.push(Q.range(Math.min(e.doc.length,n.anchor+o),Math.min(e.doc.length,n.head+o)))}else{r.push({from:a.from,to:t.from},{from:t.to,insert:e.lineBreak+a.text});for(let e of t.ranges)i.push(Q.range(e.anchor-o,e.head-o))}}return r.length?(t(e.update({changes:r,scrollIntoView:!0,selection:Q.create(i,e.selection.mainIndex),userEvent:`move.line`})),!0):!1}var MG=({state:e,dispatch:t})=>jG(e,t,!1),NG=({state:e,dispatch:t})=>jG(e,t,!0);function PG(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of AG(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});let i=e.changes(r);return t(e.update({changes:i,selection:e.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:`input.copyline`})),!0}var FG=({state:e,dispatch:t})=>PG(e,t,!1),IG=({state:e,dispatch:t})=>PG(e,t,!0),LG=e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(AG(t).map(({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n}))),r=cW(t.selection,t=>{let n;if(e.lineWrapping){let r=e.lineBlockAt(t.head),i=e.coordsAtPos(t.head,t.assoc||1);i&&(n=r.bottom+e.documentTop-i.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,n)}).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:`delete.line`}),!0};function RG(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n=QV(e).resolveInner(t),r=n.childBefore(t),i=n.childAfter(t),a;return r&&i&&r.to<=t&&i.from>=t&&(a=r.type.prop(bj.closedBy))&&a.indexOf(i.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}var zG=VG(!1),BG=VG(!0);function VG(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{let{from:r,to:i}=n,a=t.doc.lineAt(r),o=!e&&r==i&&RG(t,r);e&&(r=i=(i<=a.to?a:t.doc.lineAt(i)).to);let s=new hH(t,{simulateBreak:r,simulateDoubleBreak:!!o}),c=mH(s,r);for(c??=YN(/^\s*/.exec(t.doc.lineAt(r).text)[0],t.tabSize);i<a.to&&/\s/.test(a.text[i-a.from]);)i++;o?{from:r,to:i}=o:r>a.from&&r<a.from+100&&!/\S/.test(a.text.slice(0,r))&&(r=a.from);let l=[``,pH(t,c)];return o&&l.push(pH(t,s.lineIndent(a.from,-1))),{changes:{from:r,to:i,insert:uM.of(l)},range:Q.cursor(r+1+l[1].length)}});return n(t.update(r,{scrollIntoView:!0,userEvent:`input`})),!0}}function HG(e,t){let n=-1;return e.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let o=e.doc.lineAt(a);o.number>n&&(r.empty||r.to>o.from)&&(t(o,i,r),n=o.number),a=o.to+1}let a=e.changes(i);return{changes:i,range:Q.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}var UG=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new hH(e,{overrideIndentation:e=>n[e]??-1}),i=HG(e,(t,i,a)=>{let o=mH(r,t.from);if(o==null)return;/\S/.test(t.text)||(o=0);let s=/^\s*/.exec(t.text)[0],c=pH(e,o);(s!=c||a.from<t.from+s.length)&&(n[t.from]=o,i.push({from:t.from,to:t.from+s.length,insert:c}))});return i.changes.empty||t(e.update(i,{userEvent:`indent`})),!0},WG=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(HG(e,(t,n)=>{n.push({from:t.from,insert:e.facet(dH)})}),{userEvent:`input.indent`})),!0),GG=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(HG(e,(t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let i=YN(r,e.tabSize),a=0,o=pH(e,Math.max(0,i-fH(e)));for(;a<r.length&&a<o.length&&r.charCodeAt(a)==o.charCodeAt(a);)a++;n.push({from:t.from+a,to:t.from+r.length,insert:o.slice(a)})}),{userEvent:`delete.dedent`})),!0),KG=e=>(e.setTabFocusMode(),!0),qG=[{key:`Ctrl-b`,run:mW,shift:VW,preventDefault:!0},{key:`Ctrl-f`,run:hW,shift:HW},{key:`Ctrl-p`,run:wW,shift:YW},{key:`Ctrl-n`,run:TW,shift:XW},{key:`Ctrl-a`,run:FW,shift:iG},{key:`Ctrl-e`,run:IW,shift:aG},{key:`Ctrl-d`,run:xG},{key:`Ctrl-h`,run:bG},{key:`Ctrl-k`,run:TG},{key:`Ctrl-Alt-h`,run:CG},{key:`Ctrl-o`,run:OG},{key:`Ctrl-t`,run:kG},{key:`Ctrl-v`,run:kW}],JG=[{key:`ArrowLeft`,run:mW,shift:VW,preventDefault:!0},{key:`Mod-ArrowLeft`,mac:`Alt-ArrowLeft`,run:_W,shift:WW,preventDefault:!0},{mac:`Cmd-ArrowLeft`,run:NW,shift:nG,preventDefault:!0},{key:`ArrowRight`,run:hW,shift:HW,preventDefault:!0},{key:`Mod-ArrowRight`,mac:`Alt-ArrowRight`,run:vW,shift:GW,preventDefault:!0},{mac:`Cmd-ArrowRight`,run:PW,shift:rG,preventDefault:!0},{key:`ArrowUp`,run:wW,shift:YW,preventDefault:!0},{mac:`Cmd-ArrowUp`,run:oG,shift:cG},{mac:`Ctrl-ArrowUp`,run:OW,shift:QW},{key:`ArrowDown`,run:TW,shift:XW,preventDefault:!0},{mac:`Cmd-ArrowDown`,run:sG,shift:lG},{mac:`Ctrl-ArrowDown`,run:kW,shift:$W},{key:`PageUp`,run:OW,shift:QW},{key:`PageDown`,run:kW,shift:$W},{key:`Home`,run:MW,shift:tG,preventDefault:!0},{key:`Mod-Home`,run:oG,shift:cG},{key:`End`,run:jW,shift:eG,preventDefault:!0},{key:`Mod-End`,run:sG,shift:lG},{key:`Enter`,run:zG,shift:zG},{key:`Mod-a`,run:uG},{key:`Backspace`,run:bG,shift:bG,preventDefault:!0},{key:`Delete`,run:xG,preventDefault:!0},{key:`Mod-Backspace`,mac:`Alt-Backspace`,run:CG,preventDefault:!0},{key:`Mod-Delete`,mac:`Alt-Delete`,run:wG,preventDefault:!0},{mac:`Mod-Backspace`,run:EG,preventDefault:!0},{mac:`Mod-Delete`,run:DG,preventDefault:!0}].concat(qG.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),YG=[{key:`Alt-ArrowLeft`,mac:`Ctrl-ArrowLeft`,run:xW,shift:KW},{key:`Alt-ArrowRight`,mac:`Ctrl-ArrowRight`,run:SW,shift:qW},{key:`Alt-ArrowUp`,run:MG},{key:`Shift-Alt-ArrowUp`,run:FG},{key:`Alt-ArrowDown`,run:NG},{key:`Shift-Alt-ArrowDown`,run:IG},{key:`Mod-Alt-ArrowUp`,run:mG},{key:`Mod-Alt-ArrowDown`,run:hG},{key:`Escape`,run:gG},{key:`Mod-Enter`,run:BG},{key:`Alt-l`,mac:`Ctrl-l`,run:dG},{key:`Mod-i`,run:fG,preventDefault:!0},{key:`Mod-[`,run:GG},{key:`Mod-]`,run:WG},{key:`Mod-Alt-\\`,run:UG},{key:`Shift-Mod-k`,run:LG},{key:`Shift-Mod-\\`,run:RW},{key:`Mod-/`,run:IU},{key:`Alt-A`,run:zU},{key:`Ctrl-m`,mac:`Shift-Alt-m`,run:KG}].concat(JG),XG={key:`Tab`,run:WG,shift:GG},ZG=class{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}},QG=class e{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(t,n,r){let i=r.facet(hK).markerFilter;i&&(t=i(t,r));let a=t.slice().sort((e,t)=>e.from-t.from||e.to-t.to),o=new RN,s=[],c=0,l=r.doc.iter(),u=0,d=r.doc.length;for(let e=0;;){let t=e==a.length?null:a[e];if(!t&&!s.length)break;let n,r;if(s.length)n=c,r=s.reduce((e,t)=>Math.min(e,t.to),t&&t.from>n?t.from:1e8);else{if(n=t.from,n>d)break;r=t.to,s.push(t),e++}for(;e<a.length;){let t=a[e];if(t.from==n&&(t.to>t.from||t.to==n))s.push(t),e++,r=Math.min(t.to,r);else{r=Math.min(t.from,r);break}}r=Math.min(r,d);let i=!1;if(s.some(e=>e.from==n&&(e.to==r||r==d))&&(i=n==r,!i&&r-n<10)){let e=n-(u+l.value.length);e>0&&(l.next(e),u=n);for(let e=n;;){if(e>=r){i=!0;break}if(!l.lineBreak&&u+l.value.length>e)break;e=u+l.value.length,u+=l.value.length,l.next()}}let f=DK(s);if(i)o.add(n,n,NP.widget({widget:new bK(f),diagnostics:s.slice()}));else{let e=s.reduce((e,t)=>t.markClass?e+` `+t.markClass:e,``);o.add(n,r,NP.mark({class:`cm-lintRange cm-lintRange-`+f+e,diagnostics:s.slice(),inclusiveEnd:s.some(e=>e.to>r)}))}if(c=r,c==d)break;for(let e=0;e<s.length;e++)s[e].to<=c&&s.splice(e--,1)}let f=o.finish();return new e(f,n,$G(f))}};function $G(e,t=null,n=0){let r=null;return e.between(n,1e9,(e,n,{spec:i})=>{if(!(t&&i.diagnostics.indexOf(t)<0))if(!r)r=new ZG(e,n,t||i.diagnostics[0]);else if(i.diagnostics.indexOf(r.diagnostic)<0)return!1;else r=new ZG(r.from,n,r.diagnostic)}),r}function eK(e,t){let n=t.pos,r=t.end||n,i=e.state.facet(hK).hideOn(e,n,r);if(i!=null)return i;let a=e.startState.doc.lineAt(t.pos);return!!(e.effects.some(e=>e.is(rK))||e.changes.touchesRange(a.from,Math.max(a.to,r)))}function tK(e,t){return e.field(oK,!1)?t:t.concat(mN.appendConfig.of(LK))}function nK(e,t){return{effects:tK(e,[rK.of(t)])}}var rK=mN.define(),iK=mN.define(),aK=mN.define(),oK=qM.define({create(){return new QG(NP.none,null,null)},update(e,t){if(t.docChanged&&e.diagnostics.size){let n=e.diagnostics.map(t.changes),r=null,i=e.panel;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);r=$G(n,e.selected.diagnostic,i)||$G(n,null,i)}!n.size&&i&&t.state.facet(hK).autoPanel&&(i=null),e=new QG(n,i,r)}for(let n of t.effects)if(n.is(rK)){let r=t.state.facet(hK).autoPanel?n.value.length?SK.open:null:e.panel;e=QG.init(n.value,r,t.state)}else n.is(iK)?e=new QG(e.diagnostics,n.value?SK.open:null,e.selected):n.is(aK)&&(e=new QG(e.diagnostics,e.panel,n.value));return e},provide:e=>[WB.from(e,e=>e.panel),cz.decorations.from(e,e=>e.diagnostics)]}),sK=NP.mark({class:`cm-lintRange cm-lintRange-active`});function cK(e,t,n){let{diagnostics:r}=e.state.field(oK),i,a=-1,o=-1;r.between(t-(n<0?1:0),t+(n>0?1:0),(e,r,{spec:s})=>{if(t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0)))return i=s.diagnostics,a=e,o=r,!1});let s=e.state.facet(hK).tooltipFilter;return i&&s&&(i=s(i,e.state)),i?{pos:a,end:o,above:e.state.doc.lineAt(a).to<o,create(){return{dom:lK(e,i)}}}:null}function lK(e,t){return dP(`ul`,{class:`cm-tooltip-lint`},t.map(t=>yK(e,t,!1)))}var uK=e=>{let t=e.state.field(oK,!1);(!t||!t.panel)&&e.dispatch({effects:tK(e.state,[iK.of(!0)])});let n=BB(e,SK.open);return n&&n.dom.querySelector(`.cm-panel-lint ul`).focus(),!0},dK=e=>{let t=e.state.field(oK,!1);return!t||!t.panel?!1:(e.dispatch({effects:iK.of(!1)}),!0)},fK=[{key:`Mod-Shift-m`,run:uK,preventDefault:!0},{key:`F8`,run:e=>{let t=e.state.field(oK,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],pK=tI.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(hK);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){clearTimeout(this.timeout);let e=Date.now();if(e<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(hK);t.length&&mK(t.map(e=>Promise.resolve(e(this.view))),t=>{this.view.state.doc==e.doc&&this.view.dispatch(nK(this.view.state,t.reduce((e,t)=>e.concat(t))))},e=>{ZF(this.view.state,e)})}}update(e){let t=e.state.facet(hK);(e.docChanged||t!=e.startState.facet(hK)||t.needsRefresh&&t.needsRefresh(e))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function mK(e,t,n){let r=[],i=-1;for(let a of e)a.then(n=>{r.push(n),clearTimeout(i),r.length==e.length?t(r):i=setTimeout(()=>t(r),200)},n)}var hK=BM.define({combine(e){return{sources:e.map(e=>e.source).filter(e=>e!=null),...AN(e.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:gK,tooltipFilter:gK,needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t,hideOn:(e,t)=>e?t?(n,r,i)=>e(n,r,i)||t(n,r,i):e:t,autoPanel:(e,t)=>e||t})}}});function gK(e,t){return e?t?(n,r)=>t(e(n,r),r):e:t}function _K(e,t={}){return[hK.of({source:e,config:t}),pK,LK]}function vK(e){let t=[];if(e)actions:for(let{name:n}of e){for(let e=0;e<n.length;e++){let r=n[e];if(/[a-zA-Z]/.test(r)&&!t.some(e=>e.toLowerCase()==r.toLowerCase())){t.push(r);continue actions}}t.push(``)}return t}function yK(e,t,n){let r=n?vK(t.actions):[];return dP(`li`,{class:`cm-diagnostic cm-diagnostic-`+t.severity},dP(`span`,{class:`cm-diagnosticText`},t.renderMessage?t.renderMessage(e):t.message),t.actions?.map((n,i)=>{let a=!1,o=r=>{if(r.preventDefault(),a)return;a=!0;let i=$G(e.state.field(oK).diagnostics,t);i&&n.apply(e,i.from,i.to)},{name:s}=n,c=r[i]?s.indexOf(r[i]):-1,l=c<0?s:[s.slice(0,c),dP(`u`,s.slice(c,c+1)),s.slice(c+1)];return dP(`button`,{type:`button`,class:`cm-diagnosticAction`+(n.markClass?` `+n.markClass:``),onclick:o,onmousedown:o,"aria-label":` Action: ${s}${c<0?``:` (access key "${r[i]})"`}.`},l)}),t.source&&dP(`div`,{class:`cm-diagnosticSource`},t.source))}var bK=class extends jP{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return dP(`span`,{class:`cm-lintPoint cm-lintPoint-`+this.sev})}},xK=class{constructor(e,t){this.diagnostic=t,this.id=`item_`+Math.floor(Math.random()*4294967295).toString(16),this.dom=yK(e,t,!0),this.dom.id=this.id,this.dom.setAttribute(`role`,`option`)}},SK=class e{constructor(e){this.view=e,this.items=[];let t=t=>{if(t.keyCode==27)dK(this.view),this.view.focus();else if(t.keyCode==38||t.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(t.keyCode==40||t.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(t.keyCode==36)this.moveSelection(0);else if(t.keyCode==35)this.moveSelection(this.items.length-1);else if(t.keyCode==13)this.view.focus();else if(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:n}=this.items[this.selectedIndex],r=vK(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==t.keyCode){let t=$G(this.view.state.field(oK).diagnostics,n);t&&n.actions[i].apply(e,t.from,t.to)}}else return;t.preventDefault()},n=e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)};this.list=dP(`ul`,{tabIndex:0,role:`listbox`,"aria-label":this.view.state.phrase(`Diagnostics`),onkeydown:t,onclick:n}),this.dom=dP(`div`,{class:`cm-panel-lint`},this.list,dP(`button`,{type:`button`,name:`close`,"aria-label":this.view.state.phrase(`close`),onclick:()=>dK(this.view)},`Ã`)),this.update()}get selectedIndex(){let e=this.view.state.field(oK).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(oK),n=0,r=!1,i=null,a=new Set;for(e.between(0,this.view.state.doc.length,(e,o,{spec:s})=>{for(let e of s.diagnostics){if(a.has(e))continue;a.add(e);let o=-1,s;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==e){o=t;break}o<0?(s=new xK(this.view,e),this.items.splice(n,0,s),r=!0):(s=this.items[o],o>n&&(this.items.splice(n,o-n),r=!0)),t&&s.diagnostic==t.diagnostic?s.dom.hasAttribute(`aria-selected`)||(s.dom.setAttribute(`aria-selected`,`true`),i=s):s.dom.hasAttribute(`aria-selected`)&&s.dom.removeAttribute(`aria-selected`),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new xK(this.view,{from:-1,to:-1,severity:`info`,message:this.view.state.phrase(`No diagnostics`)})),r=!0),i?(this.list.setAttribute(`aria-activedescendant`,i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{let n=t.height/this.list.offsetHeight;e.top<t.top?this.list.scrollTop-=(t.top-e.top)/n:e.bottom>t.bottom&&(this.list.scrollTop+=(e.bottom-t.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute(`aria-activedescendant`),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=$G(this.view.state.field(oK).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:aK.of(t)})}static open(t){return new e(t)}};function CK(e,t=`viewBox="0 0 40 40"`){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function wK(e){return CK(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,`width="6" height="3"`)}var TK=cz.baseTheme({".cm-diagnostic":{padding:`3px 6px 3px 8px`,marginLeft:`-1px`,display:`block`,whiteSpace:`pre-wrap`},".cm-diagnostic-error":{borderLeft:`5px solid #d11`},".cm-diagnostic-warning":{borderLeft:`5px solid orange`},".cm-diagnostic-info":{borderLeft:`5px solid #999`},".cm-diagnostic-hint":{borderLeft:`5px solid #66d`},".cm-diagnosticAction":{font:`inherit`,border:`none`,padding:`2px 4px`,backgroundColor:`#444`,color:`white`,borderRadius:`3px`,marginLeft:`8px`,cursor:`pointer`},".cm-diagnosticSource":{fontSize:`70%`,opacity:.7},".cm-lintRange":{backgroundPosition:`left bottom`,backgroundRepeat:`repeat-x`,paddingBottom:`0.7px`},".cm-lintRange-error":{backgroundImage:wK(`#d11`)},".cm-lintRange-warning":{backgroundImage:wK(`orange`)},".cm-lintRange-info":{backgroundImage:wK(`#999`)},".cm-lintRange-hint":{backgroundImage:wK(`#66d`)},".cm-lintRange-active":{backgroundColor:`#ffdd9980`},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:`relative`,"&:after":{content:`""`,position:`absolute`,bottom:0,left:`-2px`,borderLeft:`3px solid transparent`,borderRight:`3px solid transparent`,borderBottom:`4px solid #d11`}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:`orange`}},".cm-lintPoint-info":{"&:after":{borderBottomColor:`#999`}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:`#66d`}},".cm-panel.cm-panel-lint":{position:`relative`,"& ul":{maxHeight:`100px`,overflowY:`auto`,"& [aria-selected]":{backgroundColor:`#ddd`,"& u":{textDecoration:`underline`}},"&:focus [aria-selected]":{background_fallback:`#bdf`,backgroundColor:`Highlight`,color_fallback:`white`,color:`HighlightText`},"& u":{textDecoration:`none`},padding:0,margin:0},"& [name=close]":{position:`absolute`,top:`0`,right:`2px`,background:`inherit`,border:`none`,font:`inherit`,padding:0,margin:0}}});function EK(e){return e==`error`?4:e==`warning`?3:e==`info`?2:1}function DK(e){let t=`hint`,n=1;for(let r of e){let e=EK(r.severity);e>n&&(n=e,t=r.severity)}return t}var OK=class extends GB{constructor(e){super(),this.diagnostics=e,this.severity=DK(e)}toDOM(e){let t=document.createElement(`div`);t.className=`cm-lint-marker cm-lint-marker-`+this.severity;let n=this.diagnostics,r=e.state.facet(RK).tooltipFilter;return r&&(n=r(n,e.state)),n.length&&(t.onmouseover=()=>AK(e,t,n)),t}};function kK(e,t){let n=r=>{let i=t.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let e=r.target;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains(`cm-tooltip-lint`))return;window.removeEventListener(`mousemove`,n),e.state.field(FK)&&e.dispatch({effects:PK.of(null)})}};window.addEventListener(`mousemove`,n)}function AK(e,t,n){function r(){let r=e.elementAtHeight(t.getBoundingClientRect().top+5-e.documentTop);e.coordsAtPos(r.from)&&e.dispatch({effects:PK.of({pos:r.from,above:!1,clip:!1,create(){return{dom:lK(e,n),getCoords:()=>t.getBoundingClientRect()}}})}),t.onmouseout=t.onmousemove=null,kK(e,t)}let{hoverTime:i}=e.state.facet(RK),a=setTimeout(r,i);t.onmouseout=()=>{clearTimeout(a),t.onmouseout=t.onmousemove=null},t.onmousemove=()=>{clearTimeout(a),a=setTimeout(r,i)}}function jK(e,t){let n=Object.create(null);for(let r of t){let t=e.lineAt(r.from);(n[t.from]||(n[t.from]=[])).push(r)}let r=[];for(let e in n)r.push(new OK(n[e]).range(+e));return IN.of(r,!0)}var MK=XB({class:`cm-gutter-lint`,markers:e=>e.state.field(NK),widgetMarker:(e,t,n)=>{let r=[];return e.state.field(NK).between(n.from,n.to,(e,t,i)=>{e>n.from&&e<n.to&&r.push(...i.diagnostics)}),r.length?new OK(r):null}}),NK=qM.define({create(){return IN.empty},update(e,t){e=e.map(t.changes);let n=t.state.facet(RK).markerFilter;for(let r of t.effects)if(r.is(rK)){let i=r.value;n&&(i=n(i||[],t.state)),e=jK(t.state.doc,i.slice(0))}return e}}),PK=mN.define(),FK=qM.define({create(){return null},update(e,t){return e&&t.docChanged&&(e=eK(t,e)?null:{...e,pos:t.changes.mapPos(e.pos)}),t.effects.reduce((e,t)=>t.is(PK)?t.value:e,e)},provide:e=>OB.from(e)}),IK=cz.baseTheme({".cm-gutter-lint":{width:`1.4em`,"& .cm-gutterElement":{padding:`.2em`}},".cm-lint-marker":{width:`1em`,height:`1em`},".cm-lint-marker-info":{content:CK(`<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>`)},".cm-lint-marker-warning":{content:CK(`<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>`)},".cm-lint-marker-error":{content:CK(`<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>`)}}),LK=[oK,cz.decorations.compute([oK],e=>{let{selected:t,panel:n}=e.field(oK);return!t||!n||t.from==t.to?NP.none:NP.set([sK.range(t.from,t.to)])}),IB(cK,{hideOn:eK}),TK],RK=BM.define({combine(e){return AN(e,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function zK(e={}){return[RK.of(e),NK,MK,IK,FK]}var BK=class e{constructor(e,t,n,r,i,a,o,s,c,l=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=i,this.score=a,this.buffer=o,this.bufferBase=s,this.curContext=c,this.lookAhead=l,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?`!`+this.score:``}`}static start(t,n,r=0){let i=t.parser.context;return new e(t,[],n,r,r,0,[],0,i?new VK(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=e&65535,{parser:r}=this.p,i=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),a=r.dynamicPrecedence(n);if(a&&(this.score+=a),t==0){this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,i?8:4,!0),this.reduceContext(n,this.reducePos);return}let o=this.stack.length-(t-1)*3-(e&262144?6:0),s=o?this.stack[o-2]:this.p.ranges[0].from,c=this.reducePos-s;c>=2e3&&!this.p.parser.nodeSet.types[n]?.isAnonymous&&(s==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=s,this.p.lastBigReductionSize=c));let l=o?this.stack[o-1]:0,u=this.bufferBase+this.buffer.length-l;if(n<r.minRepeatTerm||e&131072){let e=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,s,e,u+4,!0)}if(e&262144)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=r.getGoto(e,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,s)}storeNode(e,t,n,r=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(r==0&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&e.buffer[r-4]==0&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t){e.buffer[r-2]=n;return}}}if(!i||this.pos==n)this.buffer.push(e,t,n,r);else{let i=this.buffer.length;if(i>0&&(this.buffer[i-4]!=0||this.buffer[i-1]<0)){let e=!1;for(let t=i;t>0&&this.buffer[t-2]>n;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4)}this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=n,this.buffer[i+3]=r}}shift(e,t,n,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4);else{let i=e,{parser:a}=this.p;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=a.maxNode&&this.buffer.push(t,n,r,4)}}apply(e,t,n,r){e&65536?this.reduce(e):this.shift(e,t,n,r)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let t=this,n=t.buffer.length;for(;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;let r=t.buffer.slice(n),i=t.bufferBase+n;for(;t&&i==t.bufferBase;)t=t.parent;return new e(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new HK(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if(!(n&65536))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r=0,i;r<t.length;r+=2)(i=t[r+1])!=this.state&&this.p.parser.hasAction(i,e)&&n.push(t[r],i);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some((e,t)=>t&1&&e==r)||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[e],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let n=t>>19,r=t&65535,i=this.stack.length-n*3;if(i<0||e.getGoto(this.stack[i],r,!1)<0){let e=this.findForcedReduction();if(e==null)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(r,i)=>{if(!t.includes(r))return t.push(r),e.allActions(r,t=>{if(!(t&393216))if(t&65536){let n=(t>>19)-i;if(n>1){let r=t&65535,i=this.stack.length-n*3;if(i>=0&&e.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let e=n(t,i+1);if(e!=null)return e}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new VK(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},VK=class{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}},HK=class{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3,this.state=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0)}},UK=class e{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(t,n=t.bufferBase+t.buffer.length){return new e(t,n,n-t.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new e(this.stack,this.pos,this.index)}};function WK(e,t=Uint16Array){if(typeof e!=`string`)return e;let n=null;for(let r=0,i=0;r<e.length;){let a=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(t==126){a=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,n=!0),a+=i,n)break;a*=46}n?n[i++]=a:n=new t(a)}return n}var GK=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},KK=new GK,qK=class{constructor(e,t){this.input=e,this.ranges=t,this.chunk=``,this.chunkOff=0,this.chunk2=``,this.chunk2Pos=0,this.next=-1,this.token=KK,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!r)return null;let e=this.ranges[--r];i-=n.from-e.to,n=e}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];i+=e.from-n.to,n=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,r;if(t>=0&&t<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(t);else{let t=this.resolveOffset(e,1);if(t==null)return-1;if(n=t,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let e=this.rangeIndex,t=this.range;for(;t.to<=n;)t=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>t.to&&(this.chunk2=this.chunk2.slice(0,t.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw RangeError(`Token end out of bounds`);this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos);this.chunk=this.pos+e.length>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk=``,this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=KK,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk=``,this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n=``;for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}},JK=class{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;XK(this.data,e,t,this.id,n.data,n.tokenPrecTable)}};JK.prototype.contextual=JK.prototype.fallback=JK.prototype.extend=!1;var YK=class{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data=typeof e==`string`?WK(e):e}token(e,t){let n=e.pos,r=0;for(;;){let n=e.next<0,i=e.resolveOffset(1,1);if(XK(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(n||r++,i==null)break;e.reset(i,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}};YK.prototype.contextual=JK.prototype.fallback=JK.prototype.extend=!1;function XK(e,t,n,r,i,a){let o=0,s=1<<r,{dialect:c}=n.p.parser;scan:for(;(s&e[o])!=0;){let n=e[o+1];for(let r=o+3;r<n;r+=2)if((e[r+1]&s)>0){let n=e[r];if(c.allows(n)&&(t.token.value==-1||t.token.value==n||QK(n,t.token.value,i,a))){t.acceptToken(n);break}}let r=t.next,l=0,u=e[o+2];if(t.next<0&&u>l&&e[n+u*3-3]==65535){o=e[n+u*3-1];continue scan}for(;l<u;){let i=l+u>>1,a=n+i+(i<<1),s=e[a],c=e[a+1]||65536;if(r<s)u=i;else if(r>=c)l=i+1;else{o=e[a+2],t.advance();continue scan}}break}}function ZK(e,t,n){for(let r=t,i;(i=e[r])!=65535;r++)if(i==n)return r-t;return-1}function QK(e,t,n,r){let i=ZK(n,r,t);return i<0||ZK(n,r,e)<i}var $K=typeof process<`u`&&/\bparse\b/.test({}.LOG),eq=null;function tq(e,t,n){let r=e.cursor(Dj.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}var nq=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?tq(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?tq(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],a=this.start[t]+n.positions[r];if(a>e)return this.nextStart=a,null;if(i instanceof Oj){if(a==e){if(a<this.safeFrom)return null;let e=a+i.length;if(e<=this.safeTo){let t=i.prop(bj.lookAhead);if(!t||e+t<this.fragment.to)return i}}this.index[t]++,a+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+i.length}}},rq=class{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(e=>new GK)}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:i}=r,a=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,s=0;for(let r=0;r<i.length;r++){if(!(1<<r&a))continue;let c=i[r],l=this.tokens[r];if(!(n&&!c.fallback)&&((c.contextual||l.start!=e.pos||l.mask!=a||l.context!=o)&&(this.updateCachedToken(l,c,e),l.mask=a,l.context=o),l.lookAhead>l.end+25&&(s=Math.max(l.lookAhead,s)),l.value!=0)){let r=t;if(l.extended>-1&&(t=this.addActions(e,l.extended,l.end,t)),t=this.addActions(e,l.value,l.end,t),!c.extend&&(n=l,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),!n&&e.pos==this.stream.end&&(n=new GK,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new GK,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let i=t.specializers[r](this.stream.read(e.start,e.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){i&1?e.extended=i>>1:e.value=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:i}=e,{parser:a}=e.p,{data:o}=a;for(let e=0;e<2;e++)for(let s=a.stateSlot(i,e?2:1);;s+=3){if(o[s]==65535)if(o[s+1]==1)s=cq(o,s+2);else{r==0&&o[s+1]==2&&(r=this.putAction(cq(o,s+2),t,n,r));break}o[s]==t&&(r=this.putAction(cq(o,s+1),t,n,r))}return r}},iq=class{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new qK(t,r),this.tokens=new rq(e,this.stream),this.topTerm=e.top[1];let{from:i}=r[0];this.stacks=[BK.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>e.bufferLength*4?new nq(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],r,i;if(this.bigReductionCount>300&&e.length==1){let[t]=e;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>t)n.push(o);else if(this.advanceStack(o,n,e))continue;else{r||(r=[],i=[]),r.push(o);let e=this.tokens.getMainToken(o);i.push(e.value,e.end)}break}}if(!n.length){let e=r&&lq(r);if(e)return $K&&console.log(`Finish with `+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw $K&&r&&console.log(`Stuck with token `+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):`none`)),SyntaxError(`No parse at `+t);this.recovering||=5}if(this.recovering&&r){let e=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,i,n);if(e)return $K&&console.log(`Force-finish `+this.stackID(e)),this.stackToTree(e.forceAll())}if(this.recovering){let e=this.recovering==1?1:this.recovering*3;if(n.length>e)for(n.sort((e,t)=>t.score-e.score);n.length>e;)n.pop();n.some(e=>e.reducePos>t)&&this.recovering--}else if(n.length>1){outer:for(let e=0;e<n.length-1;e++){let t=n[e];for(let r=e+1;r<n.length;r++){let i=n[r];if(t.sameState(i)||t.buffer.length>500&&i.buffer.length>500)if((t.score-i.score||t.buffer.length-i.buffer.length)>0)n.splice(r--,1);else{n.splice(e--,1);continue outer}}}n.length>12&&(n.sort((e,t)=>t.score-e.score),n.splice(12,n.length-12))}this.minStackPos=n[0].pos;for(let e=1;e<n.length;e++)n[e].pos<this.minStackPos&&(this.minStackPos=n[e].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw RangeError(`Can't move stoppedAt forward`);this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:i}=this,a=$K?this.stackID(e)+` -> `:``;if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?i.getGoto(e.state,o.type.id):-1;if(r>-1&&o.length&&(!t||(o.prop(bj.contextHash)||0)==n))return e.useNode(o,r),$K&&console.log(a+this.stackID(e)+` (via reuse of ${i.getName(o.type.id)})`),!0;if(!(o instanceof Oj)||o.children.length==0||o.positions[0]>0)break;let s=o.children[0];if(s instanceof Oj&&o.positions[0]==0)o=s;else break}}let o=i.stateSlot(e.state,4);if(o>0)return e.reduce(o),$K&&console.log(a+this.stackID(e)+` (via always-reduce ${i.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let s=this.tokens.getActions(e);for(let o=0;o<s.length;){let c=s[o++],l=s[o++],u=s[o++],d=o==s.length||!n,f=d?e:e.split(),p=this.tokens.mainToken;if(f.apply(c,l,p?p.start:f.pos,u),$K&&console.log(a+this.stackID(f)+` (via ${c&65536?`reduce of ${i.getName(c&65535)}`:`shift`} for ${i.getName(l)} @ ${r}${f==e?``:`, split`})`),d)return!0;f.pos>r?t.push(f):n.push(f)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return aq(e,t),!0}}runRecovery(e,t,n){let r=null,i=!1;for(let a=0;a<e.length;a++){let o=e[a],s=t[a<<1],c=t[(a<<1)+1],l=$K?this.stackID(o)+` -> `:``;if(o.deadEnd&&(i||(i=!0,o.restart(),$K&&console.log(l+this.stackID(o)+` (restarted)`),this.advanceFully(o,n))))continue;let u=o.split(),d=l;for(let e=0;e<10&&u.forceReduce()&&($K&&console.log(d+this.stackID(u)+` (via force-reduce)`),!this.advanceFully(u,n));e++)$K&&(d=this.stackID(u)+` -> `);for(let e of o.recoverByInsert(s))$K&&console.log(l+this.stackID(e)+` (via recover-insert)`),this.advanceFully(e,n);this.stream.end>o.pos?(c==o.pos&&(c++,s=0),o.recoverByDelete(s,c),$K&&console.log(l+this.stackID(o)+` (via recover-delete ${this.parser.getName(s)})`),aq(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(e){return e.close(),Oj.build({buffer:UK.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(eq||=new WeakMap).get(e);return t||eq.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}};function aq(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e)){t[n].score<e.score&&(t[n]=e);return}}t.push(e)}var oq=class{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}},sq=class e extends Yj{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(` `);this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push(``);let n=Object.keys(e.topRules).map(t=>e.topRules[t][1]),r=[];for(let e=0;e<t.length;e++)r.push([]);function i(e,t,n){r[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];typeof e==`string`&&(e=bj[e]);for(let n=1;n<t.length;){let r=t[n++];if(r>=0)i(r,e,t[n++]);else{let a=t[n+-r];for(let o=-r;o>0;o--)i(t[n++],e,a);n++}}}this.nodeSet=new wj(t.map((t,i)=>Cj.define({name:i>=this.minRepeatTerm?void 0:t,id:i,props:r[i],top:n.indexOf(i)>-1,error:i==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(i)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=_j;let a=WK(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(uq),this.states=WK(e.states,Uint32Array),this.data=WK(e.stateData),this.goto=WK(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(e=>typeof e==`number`?new JK(a,e):e),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new iq(this,e,t,n);for(let i of this.wrappers)r=i(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let i=r[t+1];;){let t=r[i++],a=t&1,o=r[i++];if(a&&n)return o;for(let n=i+(t>>1);i<n;i++)if(r[i]==e)return o;if(a)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let i=this.stateSlot(e,r?2:1),a;;i+=3){if((a=n[i])==65535)if(n[i+1]==1)a=n[i=cq(n,i+2)];else if(n[i+1]==2)return cq(n,i+2);else break;if(a==t||a==0)return cq(n,i+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,e=>e==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),r=n?t(n):void 0;for(let n=this.stateSlot(e,1);r==null;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=cq(this.data,n+2);else break;r=t(cq(this.data,n+1))}return r}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=cq(this.data,n+2);else break;if(!(this.data[n+2]&1)){let e=this.data[n+1];t.some((t,n)=>n&1&&t==e)||t.push(this.data[n],e)}}return t}configure(t){let n=Object.assign(Object.create(e.prototype),this);if(t.props&&(n.nodeSet=this.nodeSet.extend(...t.props)),t.top){let e=this.topRules[t.top];if(!e)throw RangeError(`Invalid top rule name ${t.top}`);n.top=e}return t.tokenizers&&(n.tokenizers=this.tokenizers.map(e=>{let n=t.tokenizers.find(t=>t.from==e);return n?n.to:e})),t.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((e,r)=>{let i=t.specializers.find(t=>t.from==e.external);if(!i)return e;let a=Object.assign(Object.assign({},e),{external:i.to});return n.specializers[r]=uq(a),a})),t.contextTracker&&(n.context=t.contextTracker),t.dialect&&(n.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(n.strict=t.strict),t.wrap&&(n.wrappers=n.wrappers.concat(t.wrap)),t.bufferLength!=null&&(n.bufferLength=t.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let r of e.split(` `)){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n=this.dialects[t[e]],i;(i=this.data[n++])!=65535;)(r||=new Uint8Array(this.maxTerm+1))[i]=1;return new oq(e,n,r)}static deserialize(t){return new e(t)}};function cq(e,t){return e[t]|e[t+1]<<16}function lq(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||e!=null&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}function uq(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}var dq=CV({String:$.string,Number:$.number,"True False":$.bool,PropertyName:$.propertyName,Null:$.null,", :":$.separator,"[ ]":$.squareBracket,"{ }":$.brace}),fq=sq.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:`#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O`,goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:`â  JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array`,maxTerm:25,nodeProps:[[`isolate`,-2,6,11,``],[`openedBy`,7,`{`,14,`[`],[`closedBy`,8,`}`,15,`]`]],propSources:[dq],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),pq=ZV.define({name:`json`,parser:fq.configure({props:[gH.add({Object:EH({except:/^\s*\}/}),Array:EH({except:/^\s*\]/})}),AH.add({"Object Array":jH})]}),languageData:{closeBrackets:{brackets:[`[`,`{`,`"`]},indentOnInput:/^\s*[\}\]]$/}});function mq(){return new lH(pq)}var hq=typeof String.prototype.normalize==`function`?e=>e.normalize(`NFKD`):e=>e,gq=class{constructor(e,t,n=0,r=e.length,i,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer=``,this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=i?e=>i(hq(e)):hq,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return wM(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=TM(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=EM(e);let r=this.normalize(t);if(r.length)for(let e=0,i=n;;e++){let a=r.charCodeAt(e),o=this.match(a,i,this.bufferPos+this.bufferStart);if(e==r.length-1){if(o)return this.value=o,this;break}i==n&&e<t.length&&t.charCodeAt(e)==a&&i++}}}match(e,t,n){let r=null;for(let t=0;t<this.matches.length;t+=2){let i=this.matches[t],a=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?r={from:this.matches[t+1],to:n}:(this.matches[t]++,a=!0)),a||(this.matches.splice(t,2),t-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}};typeof Symbol<`u`&&(gq.prototype[Symbol.iterator]=function(){return this});var _q={from:-1,to:-1,match:/.*/.exec(``)},vq=`gm`+(/x/.unicode==null?``:`u`),yq=class{constructor(e,t,n,r=0,i=e.length){if(this.text=e,this.to=i,this.curLine=``,this.done=!1,this.value=_q,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Sq(e,t,n,r,i);this.re=new RegExp(t,vq+(n?.ignoreCase?`i`:``)),this.test=n?.test,this.iter=e.iter(),this.curLineStart=e.lineAt(r).from,this.matchPos=wq(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine=``:(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine=``:this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=wq(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}},bq=new WeakMap,xq=class e{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(t,n,r){let i=bq.get(t);if(!i||i.from>=r||i.to<=n){let i=new e(n,t.sliceString(n,r));return bq.set(t,i),i}if(i.from==n&&i.to==r)return i;let{text:a,from:o}=i;return o>n&&(a=t.sliceString(n,o)+a,o=n),i.to<r&&(a+=t.sliceString(i.to,r)),bq.set(t,new e(o,a)),new e(n,a.slice(n-o,r-o))}},Sq=class{constructor(e,t,n,r,i){this.text=e,this.to=i,this.done=!1,this.value=_q,this.matchPos=wq(e,r),this.re=new RegExp(t,vq+(n?.ignoreCase?`i`:``)),this.test=n?.test,this.flat=xq.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=wq(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=xq.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}};typeof Symbol<`u`&&(yq.prototype[Symbol.iterator]=Sq.prototype[Symbol.iterator]=function(){return this});function Cq(e){try{return new RegExp(e,vq),!0}catch{return!1}}function wq(e,t){if(t>=e.length)return t;let n=e.lineAt(t),r;for(;t<n.to&&(r=n.text.charCodeAt(t-n.from))>=56320&&r<57344;)t++;return t}function Tq(e){let t=dP(`input`,{class:`cm-textfield`,name:`line`,value:String(e.state.doc.lineAt(e.state.selection.main.head).number)}),n=dP(`form`,{class:`cm-gotoLine`,onkeydown:t=>{t.keyCode==27?(t.preventDefault(),e.dispatch({effects:Eq.of(!1)}),e.focus()):t.keyCode==13&&(t.preventDefault(),r())},onsubmit:e=>{e.preventDefault(),r()}},dP(`label`,e.state.phrase(`Go to line`),`: `,t),` `,dP(`button`,{class:`cm-button`,type:`submit`},e.state.phrase(`go`)),dP(`button`,{name:`close`,onclick:()=>{e.dispatch({effects:Eq.of(!1)}),e.focus()},"aria-label":e.state.phrase(`close`),type:`button`},[`Ã`]));function r(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,i=r.doc.lineAt(r.selection.main.head),[,a,o,s,c]=n,l=s?+s.slice(1):0,u=o?+o:i.number;if(o&&c){let e=u/100;a&&(e=e*(a==`-`?-1:1)+i.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else o&&a&&(u=u*(a==`-`?-1:1)+i.number);let d=r.doc.line(Math.max(1,Math.min(r.doc.lines,u))),f=Q.cursor(d.from+Math.max(0,Math.min(l,d.length)));e.dispatch({effects:[Eq.of(!1),cz.scrollIntoView(f.from,{y:`center`})],selection:f}),e.focus()}return{dom:n}}var Eq=mN.define(),Dq=qM.define({create(){return!0},update(e,t){for(let n of t.effects)n.is(Eq)&&(e=n.value);return e},provide:e=>WB.from(e,e=>e?Tq:null)}),Oq=e=>{let t=BB(e,Tq);if(!t){let n=[Eq.of(!0)];e.state.field(Dq,!1)??n.push(mN.appendConfig.of([Dq,kq])),e.dispatch({effects:n}),t=BB(e,Tq)}return t&&t.dom.querySelector(`input`).select(),!0},kq=cz.baseTheme({".cm-panel.cm-gotoLine":{padding:`2px 6px 4px`,position:`relative`,"& label":{fontSize:`80%`},"& [name=close]":{position:`absolute`,top:`0`,bottom:`0`,right:`4px`,backgroundColor:`inherit`,border:`none`,font:`inherit`,padding:`0`}}}),Aq={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},jq=BM.define({combine(e){return AN(e,Aq,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Mq(e){let t=[Rq,Lq];return e&&t.push(jq.of(e)),t}var Nq=NP.mark({class:`cm-selectionMatch`}),Pq=NP.mark({class:`cm-selectionMatch cm-selectionMatch-main`});function Fq(e,t,n,r){return(n==0||e(t.sliceDoc(n-1,n))!=wN.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=wN.Word)}function Iq(e,t,n,r){return e(t.sliceDoc(n,n+1))==wN.Word&&e(t.sliceDoc(r-1,r))==wN.Word}var Lq=tI.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(jq),{state:n}=e,r=n.selection;if(r.ranges.length>1)return NP.none;let i=r.main,a,o=null;if(i.empty){if(!t.highlightWordAroundCursor)return NP.none;let e=n.wordAt(i.head);if(!e)return NP.none;o=n.charCategorizer(i.head),a=n.sliceDoc(e.from,e.to)}else{let e=i.to-i.from;if(e<t.minSelectionLength||e>200)return NP.none;if(t.wholeWords){if(a=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(Fq(o,n,i.from,i.to)&&Iq(o,n,i.from,i.to)))return NP.none}else if(a=n.sliceDoc(i.from,i.to),!a)return NP.none}let s=[];for(let r of e.visibleRanges){let e=new gq(n.doc,a,r.from,r.to);for(;!e.next().done;){let{from:r,to:a}=e.value;if((!o||Fq(o,n,r,a))&&(i.empty&&r<=i.from&&a>=i.to?s.push(Pq.range(r,a)):(r>=i.to||a<=i.from)&&s.push(Nq.range(r,a)),s.length>t.maxMatches))return NP.none}}return NP.set(s)}},{decorations:e=>e.decorations}),Rq=cz.baseTheme({".cm-selectionMatch":{backgroundColor:`#99ff7780`},".cm-searchMatch .cm-selectionMatch":{backgroundColor:`transparent`}}),zq=({state:e,dispatch:t})=>{let{selection:n}=e,r=Q.create(n.ranges.map(t=>e.wordAt(t.head)||Q.cursor(t.head)),n.mainIndex);return r.eq(n)?!1:(t(e.update({selection:r})),!0)};function Bq(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),a=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new gq(e.doc,t,r[r.length-1].to);;)if(i.next(),i.done){if(n)return null;i=new gq(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}else{if(n&&r.some(e=>e.from==i.value.from))continue;if(a){let t=e.wordAt(i.value.from);if(!t||t.from!=i.value.from||t.to!=i.value.to)continue}return i.value}}var Vq=({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(e=>e.from===e.to))return zq({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(t=>e.sliceDoc(t.from,t.to)!=r))return!1;let i=Bq(e,r);return i?(t(e.update({selection:e.selection.addRange(Q.range(i.from,i.to),!1),effects:cz.scrollIntoView(i.to)})),!0):!1},Hq=BM.define({combine(e){return AN(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new xJ(e),scrollToMatch:e=>cz.scrollIntoView(e)})}});function Uq(e){return e?[Hq.of(e),DJ]:DJ}var Wq=class{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||``,this.valid=!!this.search&&(!this.regexp||Cq(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(e,t)=>t==`n`?`
`:t==`r`?`\r`:t==`t`?`	`:`\\`)}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new $q(this):new Jq(this)}getCursor(e,t=0,n){let r=e.doc?e:kN.create({doc:e});return n??=r.doc.length,this.regexp?Yq(this,r,t,n):Kq(this,r,t,n)}},Gq=class{constructor(e){this.spec=e}};function Kq(e,t,n,r){return new gq(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?qq(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function qq(e,t){return(n,r,i,a)=>((a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=e.sliceString(a,Math.min(e.length,r+2))),(t(Xq(i,n-a))!=wN.Word||t(Zq(i,n-a))!=wN.Word)&&(t(Zq(i,r-a))!=wN.Word||t(Xq(i,r-a))!=wN.Word))}var Jq=class extends Gq{constructor(e){super(e)}nextMatch(e,t,n){let r=Kq(this.spec,e,n,e.doc.length).nextOverlapping();if(r.done){let n=Math.min(e.doc.length,t+this.spec.unquoted.length);r=Kq(this.spec,e,0,n).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==n?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),i=Kq(this.spec,e,n,r),a=null;for(;!i.nextOverlapping().done;)a=i.value;if(a)return a;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){let r=this.prevMatchInRange(e,0,t);return r||=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length),r&&(r.from!=t||r.to!=n)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=Kq(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=Kq(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}};function Yq(e,t,n,r){return new yq(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?Qq(t.charCategorizer(t.selection.main.head)):void 0},n,r)}function Xq(e,t){return e.slice(xM(e,t,!1),t)}function Zq(e,t){return e.slice(t,xM(e,t))}function Qq(e){return(t,n,r)=>!r[0].length||(e(Xq(r.input,r.index))!=wN.Word||e(Zq(r.input,r.index))!=wN.Word)&&(e(Zq(r.input,r.index+r[0].length))!=wN.Word||e(Xq(r.input,r.index+r[0].length))!=wN.Word)}var $q=class extends Gq{nextMatch(e,t,n){let r=Yq(this.spec,e,n,e.doc.length).next();return r.done&&(r=Yq(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let i=Math.max(t,n-r*1e4),a=Yq(this.spec,e,i,n),o=null;for(;!a.next().done;)o=a.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n==`&`)return e.match[0];if(n==`$`)return`$`;for(let t=n.length;t>0;t--){let r=+n.slice(0,t);if(r>0&&r<e.match.length)return e.match[r]+n.slice(t)}return t})}matchAll(e,t){let n=Yq(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=Yq(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}},eJ=mN.define(),tJ=mN.define(),nJ=qM.define({create(e){return new rJ(hJ(e).create(),null)},update(e,t){for(let n of t.effects)n.is(eJ)?e=new rJ(n.value.create(),e.panel):n.is(tJ)&&(e=new rJ(e.query,n.value?mJ:null));return e},provide:e=>WB.from(e,e=>e.panel)}),rJ=class{constructor(e,t){this.query=e,this.panel=t}},iJ=NP.mark({class:`cm-searchMatch`}),aJ=NP.mark({class:`cm-searchMatch cm-searchMatch-selected`}),oJ=tI.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(nJ))}update(e){let t=e.state.field(nJ);(t!=e.startState.field(nJ)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return NP.none;let{view:n}=this,r=new RN;for(let t=0,i=n.visibleRanges,a=i.length;t<a;t++){let{from:o,to:s}=i[t];for(;t<a-1&&s>i[t+1].from-500;)s=i[++t].to;e.highlight(n.state,o,s,(e,t)=>{let i=n.state.selection.ranges.some(n=>n.from==e&&n.to==t);r.add(e,t,i?aJ:iJ)})}return r.finish()}},{decorations:e=>e.decorations});function sJ(e){return t=>{let n=t.state.field(nJ,!1);return n&&n.query.spec.valid?e(t,n):vJ(t)}}var cJ=sJ((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let i=Q.single(r.from,r.to),a=e.state.facet(Hq);return e.dispatch({selection:i,effects:[TJ(e,r),a.scrollToMatch(i.main,e)],userEvent:`select.search`}),_J(e),!0}),lJ=sJ((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,i=t.prevMatch(n,r,r);if(!i)return!1;let a=Q.single(i.from,i.to),o=e.state.facet(Hq);return e.dispatch({selection:a,effects:[TJ(e,i),o.scrollToMatch(a.main,e)],userEvent:`select.search`}),_J(e),!0}),uJ=sJ((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!n||!n.length?!1:(e.dispatch({selection:Q.create(n.map(e=>Q.range(e.from,e.to))),userEvent:`select.search.matches`}),!0)}),dJ=({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,a=[],o=0;for(let t=new gq(e.doc,e.sliceDoc(r,i));!t.next().done;){if(a.length>1e3)return!1;t.value.from==r&&(o=a.length),a.push(Q.range(t.value.from,t.value.to))}return t(e.update({selection:Q.create(a,o),userEvent:`select.search.matches`})),!0},fJ=sJ((e,{query:t})=>{let{state:n}=e,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let a=t.nextMatch(n,r,r);if(!a)return!1;let o=a,s=[],c,l,u=[];o.from==r&&o.to==i&&(l=n.toText(t.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=t.nextMatch(n,o.from,o.to),u.push(cz.announce.of(n.phrase(`replaced match on line $`,n.doc.lineAt(r).number)+`.`)));let d=e.state.changes(s);return o&&(c=Q.single(o.from,o.to).map(d),u.push(TJ(e,o)),u.push(n.facet(Hq).scrollToMatch(c.main,e))),e.dispatch({changes:d,selection:c,effects:u,userEvent:`input.replace`}),!0}),pJ=sJ((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}});if(!n.length)return!1;let r=e.state.phrase(`replaced $ matches`,n.length)+`.`;return e.dispatch({changes:n,effects:cz.announce.of(r),userEvent:`input.replace.all`}),!0});function mJ(e){return e.state.facet(Hq).createPanel(e)}function hJ(e,t){let n=e.selection.main,r=n.empty||n.to>n.from+100?``:e.sliceDoc(n.from,n.to);if(t&&!r)return t;let i=e.facet(Hq);return new Wq({search:t?.literal??i.literal?r:r.replace(/\n/g,`\\n`),caseSensitive:t?.caseSensitive??i.caseSensitive,literal:t?.literal??i.literal,regexp:t?.regexp??i.regexp,wholeWord:t?.wholeWord??i.wholeWord})}function gJ(e){let t=BB(e,mJ);return t&&t.dom.querySelector(`[main-field]`)}function _J(e){let t=gJ(e);t&&t==e.root.activeElement&&t.select()}var vJ=e=>{let t=e.state.field(nJ,!1);if(t&&t.panel){let n=gJ(e);if(n&&n!=e.root.activeElement){let r=hJ(e.state,t.query.spec);r.valid&&e.dispatch({effects:eJ.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[tJ.of(!0),t?eJ.of(hJ(e.state,t.query.spec)):mN.appendConfig.of(DJ)]});return!0},yJ=e=>{let t=e.state.field(nJ,!1);if(!t||!t.panel)return!1;let n=BB(e,mJ);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:tJ.of(!1)}),!0},bJ=[{key:`Mod-f`,run:vJ,scope:`editor search-panel`},{key:`F3`,run:cJ,shift:lJ,scope:`editor search-panel`,preventDefault:!0},{key:`Mod-g`,run:cJ,shift:lJ,scope:`editor search-panel`,preventDefault:!0},{key:`Escape`,run:yJ,scope:`editor search-panel`},{key:`Mod-Shift-l`,run:dJ},{key:`Mod-Alt-g`,run:Oq},{key:`Mod-d`,run:Vq,preventDefault:!0}],xJ=class{constructor(e){this.view=e;let t=this.query=e.state.field(nJ).query.spec;this.commit=this.commit.bind(this),this.searchField=dP(`input`,{value:t.search,placeholder:SJ(e,`Find`),"aria-label":SJ(e,`Find`),class:`cm-textfield`,name:`search`,form:``,"main-field":`true`,onchange:this.commit,onkeyup:this.commit}),this.replaceField=dP(`input`,{value:t.replace,placeholder:SJ(e,`Replace`),"aria-label":SJ(e,`Replace`),class:`cm-textfield`,name:`replace`,form:``,onchange:this.commit,onkeyup:this.commit}),this.caseField=dP(`input`,{type:`checkbox`,name:`case`,form:``,checked:t.caseSensitive,onchange:this.commit}),this.reField=dP(`input`,{type:`checkbox`,name:`re`,form:``,checked:t.regexp,onchange:this.commit}),this.wordField=dP(`input`,{type:`checkbox`,name:`word`,form:``,checked:t.wholeWord,onchange:this.commit});function n(e,t,n){return dP(`button`,{class:`cm-button`,name:e,onclick:t,type:`button`},n)}this.dom=dP(`div`,{onkeydown:e=>this.keydown(e),class:`cm-search`},[this.searchField,n(`next`,()=>cJ(e),[SJ(e,`next`)]),n(`prev`,()=>lJ(e),[SJ(e,`previous`)]),n(`select`,()=>uJ(e),[SJ(e,`all`)]),dP(`label`,null,[this.caseField,SJ(e,`match case`)]),dP(`label`,null,[this.reField,SJ(e,`regexp`)]),dP(`label`,null,[this.wordField,SJ(e,`by word`)]),...e.state.readOnly?[]:[dP(`br`),this.replaceField,n(`replace`,()=>fJ(e),[SJ(e,`replace`)]),n(`replaceAll`,()=>pJ(e),[SJ(e,`replace all`)])],dP(`button`,{name:`close`,onclick:()=>yJ(e),"aria-label":SJ(e,`close`),type:`button`},[`Ã`])])}commit(){let e=new Wq({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:eJ.of(e)}))}keydown(e){bz(this.view,e,`search-panel`)?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?lJ:cJ)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),fJ(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(eJ)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Hq).top}};function SJ(e,t){return e.state.phrase(t)}var CJ=30,wJ=/[\s\.,:;?!]/;function TJ(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,a=Math.max(r.from,t-CJ),o=Math.min(i,n+CJ),s=e.state.sliceDoc(a,o);if(a!=r.from){for(let e=0;e<CJ;e++)if(!wJ.test(s[e+1])&&wJ.test(s[e])){s=s.slice(e);break}}if(o!=i){for(let e=s.length-1;e>s.length-CJ;e--)if(!wJ.test(s[e-1])&&wJ.test(s[e])){s=s.slice(0,e);break}}return cz.announce.of(`${e.state.phrase(`current match`)}. ${s} ${e.state.phrase(`on line`)} ${r.number}.`)}var EJ=cz.baseTheme({".cm-panel.cm-search":{padding:`2px 6px 4px`,position:`relative`,"& [name=close]":{position:`absolute`,top:`0`,right:`4px`,backgroundColor:`inherit`,border:`none`,font:`inherit`,padding:0,margin:0},"& input, & button, & label":{margin:`.2em .6em .2em 0`},"& input[type=checkbox]":{marginRight:`.2em`},"& label":{fontSize:`80%`,whiteSpace:`pre`}},"&light .cm-searchMatch":{backgroundColor:`#ffff0054`},"&dark .cm-searchMatch":{backgroundColor:`#00ffff8a`},"&light .cm-searchMatch-selected":{backgroundColor:`#ff6a0054`},"&dark .cm-searchMatch-selected":{backgroundColor:`#ff00ff8a`}}),DJ=[nJ,XM.low(oJ),EJ],OJ=class{constructor(e,t,n,r){this.state=e,this.pos=t,this.explicit=n,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=QV(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(PJ(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e==`abort`&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}};function kJ(e){let t=Object.keys(e).join(``),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,``)),`[${n?`\\w`:``}${t.replace(/[^\w\s]/g,`\\$&`)}]`}function AJ(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let r=kJ(t)+kJ(n)+`*$`;return[RegExp(`^`+r),new RegExp(r)]}function jJ(e){let t=e.map(e=>typeof e==`string`?{label:e}:e),[n,r]=t.every(e=>/^\w+$/.test(e.label))?[/\w*$/,/\w+$/]:AJ(t);return e=>{let i=e.matchBefore(r);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}var MJ=class{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}};function NJ(e){return e.selection.main.from}function PJ(e,t){let{source:n}=e,r=t&&n[0]!=`^`,i=n[n.length-1]!=`$`;return!r&&!i?e:RegExp(`${r?`^`:``}(?:${n})${i?`$`:``}`,e.flags??(e.ignoreCase?`i`:``))}var FJ=dN.define();function IJ(e,t,n,r){let{main:i}=e.selection,a=n-i.from,o=r-i.from;return{...e.changeByRange(s=>{if(s!=i&&n!=r&&e.sliceDoc(s.from+a,s.from+o)!=e.sliceDoc(n,r))return{range:s};let c=e.toText(t);return{changes:{from:s.from+a,to:r==i.from?s.to:s.from+o,insert:c},range:Q.cursor(s.from+a+c.length)}}),scrollIntoView:!0,userEvent:`input.complete`}}var LJ=new WeakMap;function RJ(e){if(!Array.isArray(e))return e;let t=LJ.get(e);return t||LJ.set(e,t=jJ(e)),t}var zJ=mN.define(),BJ=mN.define(),VJ=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=wM(e,t),r=EM(n);this.chars.push(n);let i=e.slice(t,t+r),a=i.toUpperCase();this.folded.push(wM(a==i?i.toLowerCase():a,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:i,byWord:a}=this;if(t.length==1){let r=wM(e,0),i=EM(r),a=i==e.length?0:-100;if(r!=t[0])if(r==n[0])a+=-200;else return null;return this.ret(a,[0,i])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let s=t.length,c=0;if(o<0){for(let i=0,a=Math.min(e.length,200);i<a&&c<s;){let a=wM(e,i);(a==t[c]||a==n[c])&&(r[c++]=i),i+=EM(a)}if(c<s)return null}let l=0,u=0,d=!1,f=0,p=-1,m=-1,h=/[a-z]/.test(e),g=!0;for(let r=0,c=Math.min(e.length,200),_=0;r<c&&u<s;){let c=wM(e,r);o<0&&(l<s&&c==t[l]&&(i[l++]=r),f<s&&(c==t[f]||c==n[f]?(f==0&&(p=r),m=r+1,f++):f=0));let v,y=c<255?c>=48&&c<=57||c>=97&&c<=122?2:c>=65&&c<=90?1:0:(v=TM(c))==v.toLowerCase()?v==v.toUpperCase()?0:2:1;(!r||y==1&&h||_==0&&y!=0)&&(t[u]==c||n[u]==c&&(d=!0)?a[u++]=r:a.length&&(g=!1)),_=y,r+=EM(c)}return u==s&&a[0]==0&&g?this.result(-100+(d?-200:0),a,e):f==s&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):f==s?this.ret(-900-e.length,[p,m]):u==s?this.result(-100+(d?-200:0)+-700+(g?0:-1100),a,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,n){let r=[],i=0;for(let e of t){let t=e+(this.astral?EM(wM(n,e)):1);i&&r[i-1]==e?r[i-1]=t:(r[i++]=e,r[i++]=t)}return this.ret(e-n.length,r)}},HJ=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}},UJ=BM.define({combine(e){return AN(e,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>``,optionClass:()=>``,aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:GJ,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>WJ(e(n),t(n)),optionClass:(e,t)=>n=>WJ(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function WJ(e,t){return e?t?e+` `+t:e:t}function GJ(e,t,n,r,i,a){let o=e.textDirection==pF.RTL,s=o,c=!1,l=`top`,u,d,f=t.left-i.left,p=i.right-t.right,m=r.right-r.left,h=r.bottom-r.top;if(s&&f<Math.min(m,p)?s=!1:!s&&p<Math.min(m,f)&&(s=!0),m<=(s?f:p))u=Math.max(i.top,Math.min(n.top,i.bottom-h))-t.top,d=Math.min(400,s?f:p);else{c=!0,d=Math.min(400,(o?t.right:i.right-t.left)-30);let e=i.bottom-t.bottom;e>=h||e>t.top?u=n.bottom-t.top:(l=`bottom`,u=t.bottom-n.top)}let g=(t.bottom-t.top)/a.offsetHeight,_=(t.right-t.left)/a.offsetWidth;return{style:`${l}: ${u/g}px; max-width: ${d/_}px`,class:`cm-completionInfo-`+(c?o?`left-narrow`:`right-narrow`:s?`left`:`right`)}}function KJ(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement(`div`);return t.classList.add(`cm-completionIcon`),e.type&&t.classList.add(...e.type.split(/\s+/g).map(e=>`cm-completionIcon-`+e)),t.setAttribute(`aria-hidden`,`true`),t},position:20}),t.push({render(e,t,n,r){let i=document.createElement(`span`);i.className=`cm-completionLabel`;let a=e.displayLabel||e.label,o=0;for(let e=0;e<r.length;){let t=r[e++],n=r[e++];t>o&&i.appendChild(document.createTextNode(a.slice(o,t)));let s=i.appendChild(document.createElement(`span`));s.appendChild(document.createTextNode(a.slice(t,n))),s.className=`cm-completionMatchedText`,o=n}return o<a.length&&i.appendChild(document.createTextNode(a.slice(o))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement(`span`);return t.className=`cm-completionDetail`,t.textContent=e.detail,t},position:80}),t.sort((e,t)=>e.position-t.position).map(e=>e.render)}function qJ(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}var JJ=class{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass=``;let r=e.state.field(t),{options:i,selected:a}=r.open,o=e.state.facet(UJ);this.optionContent=KJ(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=qJ(i.length,a,o.maxRenderedOptions),this.dom=document.createElement(`div`),this.dom.className=`cm-tooltip-autocomplete`,this.updateTooltipClass(e.state),this.dom.addEventListener(`mousedown`,n=>{let{options:r}=e.state.field(t).open;for(let t=n.target,i;t&&t!=this.dom;t=t.parentNode)if(t.nodeName==`LI`&&(i=/-(\d+)$/.exec(t.id))&&+i[1]<r.length){this.applyCompletion(e,r[+i[1]]),n.preventDefault();return}}),this.dom.addEventListener(`focusout`,t=>{let n=e.state.field(this.stateField,!1);n&&n.tooltip&&e.state.facet(UJ).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:BJ.of(null)})}),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener(`scroll`,()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){let t=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),t!=n){let{options:r,selected:i,disabled:a}=t.open;(!n.open||n.open.options!=r)&&(this.range=qJ(r.length,i,e.state.facet(UJ).maxRenderedOptions),this.showOptions(r,t.id)),this.updateSel(),a!=n.open?.disabled&&this.dom.classList.toggle(`cm-tooltip-autocomplete-disabled`,!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(` `))e&&this.dom.classList.remove(e);for(let e of t.split(` `))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=qJ(t.options.length,t.selected,this.view.state.facet(UJ).maxRenderedOptions),this.showOptions(t.options,e.id));let n=this.updateSelectedOption(t.selected);if(n){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let a=typeof i==`string`?document.createTextNode(i):i(r);if(!a)return;`then`in a?a.then(t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,r)}).catch(e=>ZF(this.view.state,e,`completion info`)):(this.addInfoPane(a,r),n.setAttribute(`aria-describedby`,this.info.id))}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement(`div`);if(n.className=`cm-tooltip cm-completionInfo`,n.id=`cm-completionInfo-`+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:r}=e;n.appendChild(t),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)n.nodeName!=`LI`||!n.id?r--:r==e?n.hasAttribute(`aria-selected`)||(n.setAttribute(`aria-selected`,`true`),t=n):n.hasAttribute(`aria-selected`)&&(n.removeAttribute(`aria-selected`),n.removeAttribute(`aria-describedby`));return t&&XJ(this.list,t),t}measureInfo(){let e=this.dom.querySelector(`[aria-selected]`);if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){let e=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:e.clientWidth,bottom:e.clientHeight}}return r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(UJ).positionInfo(this.view,t,r,n,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className=`cm-tooltip cm-completionInfo `+(e.class||``)):this.info.style.cssText=`top: -1e6px`)}createListBox(e,t,n){let r=document.createElement(`ul`);r.id=t,r.setAttribute(`role`,`listbox`),r.setAttribute(`aria-expanded`,`true`),r.setAttribute(`aria-label`,this.view.state.phrase(`Completions`)),r.addEventListener(`mousedown`,e=>{e.target==r&&e.preventDefault()});let i=null;for(let a=n.from;a<n.to;a++){let{completion:o,match:s}=e[a],{section:c}=o;if(c){let e=typeof c==`string`?c:c.name;if(e!=i&&(a>n.from||n.from==0))if(i=e,typeof c!=`string`&&c.header)r.appendChild(c.header(c));else{let t=r.appendChild(document.createElement(`completion-section`));t.textContent=e}}let l=r.appendChild(document.createElement(`li`));l.id=t+`-`+a,l.setAttribute(`role`,`option`);let u=this.optionClass(o);u&&(l.className=u);for(let e of this.optionContent){let t=e(o,this.view.state,this.view,s);t&&l.appendChild(t)}}return n.from&&r.classList.add(`cm-completionListIncompleteTop`),n.to<e.length&&r.classList.add(`cm-completionListIncompleteBottom`),r}destroyInfo(){this.info&&=(this.infoDestroy&&this.infoDestroy(),this.info.remove(),null)}destroy(){this.destroyInfo()}};function YJ(e,t){return n=>new JJ(n,e,t)}function XJ(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}function ZJ(e){return(e.boost||0)*100+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}function QJ(e,t){let n=[],r=null,i=null,a=e=>{n.push(e);let{section:t}=e.completion;if(t){r||=[];let e=typeof t==`string`?t:t.name;r.some(t=>t.name==e)||r.push(typeof t==`string`?{name:e}:t)}},o=t.facet(UJ);for(let r of e)if(r.hasResult()){let e=r.result.getMatch;if(r.result.filter===!1)for(let t of r.result.options)a(new MJ(t,r.source,e?e(t):[],1e9-n.length));else{let n=t.sliceDoc(r.from,r.to),s,c=o.filterStrict?new HJ(n):new VJ(n);for(let t of r.result.options)if(s=c.match(t.label)){let n=t.displayLabel?e?e(t,s.matched):[]:s.matched,o=s.score+(t.boost||0);if(a(new MJ(t,r.source,n,o)),typeof t.section==`object`&&t.section.rank===`dynamic`){let{name:e}=t.section;i||=Object.create(null),i[e]=Math.max(o,i[e]||-1e9)}}}}if(r){let e=Object.create(null),t=0,a=(e,t)=>(e.rank===`dynamic`&&t.rank===`dynamic`?i[t.name]-i[e.name]:0)||(typeof e.rank==`number`?e.rank:1e9)-(typeof t.rank==`number`?t.rank:1e9)||(e.name<t.name?-1:1);for(let n of r.sort(a))t-=1e5,e[n.name]=t;for(let t of n){let{section:n}=t.completion;n&&(t.score+=e[typeof n==`string`?n:n.name])}}let s=[],c=null,l=o.compareCompletions;for(let e of n.sort((e,t)=>t.score-e.score||l(e.completion,t.completion))){let t=e.completion;!c||c.label!=t.label||c.detail!=t.detail||c.type!=null&&t.type!=null&&c.type!=t.type||c.apply!=t.apply||c.boost!=t.boost?s.push(e):ZJ(e.completion)>ZJ(c)&&(s[s.length-1]=e),c=e.completion}return s}var $J=class e{constructor(e,t,n,r,i,a){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=a}setSelected(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,iY(n,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,n,r,i,a,o){if(i&&!o&&t.some(e=>e.isPending))return i.setDisabled();let s=QJ(t,n);if(!s.length)return i&&t.some(e=>e.isPending)?i.setDisabled():null;let c=n.facet(UJ).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let e=i.options[i.selected].completion;for(let t=0;t<s.length;t++)if(s[t].completion==e){c=t;break}}return new e(s,iY(r,c),{pos:t.reduce((e,t)=>t.hasResult()?Math.min(e,t.from):e,1e8),create:mY,above:a.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(t){return new e(this.options,this.attrs,{...this.tooltip,pos:t.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new e(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}},eY=class e{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new e(aY,`cm-ac-`+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:n}=t,r=n.facet(UJ),i=(r.override||n.languageDataAt(`autocomplete`,NJ(n)).map(RJ)).map(e=>(this.active.find(t=>t.source==e)||new sY(e,this.active.some(e=>e.state!=0)?1:0)).update(t,r));i.length==this.active.length&&i.every((e,t)=>e==this.active[t])&&(i=this.active);let a=this.open,o=t.effects.some(e=>e.is(uY));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||i.some(e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to))||!tY(i,this.active)||o?a=$J.build(i,n,this.id,a,r,o):a&&a.disabled&&!i.some(e=>e.isPending)&&(a=null),!a&&i.every(e=>!e.isPending)&&i.some(e=>e.hasResult())&&(i=i.map(e=>e.hasResult()?new sY(e.source,0):e));for(let e of t.effects)e.is(dY)&&(a&&=a.setSelected(e.value,this.id));return i==this.active&&a==this.open?this:new e(i,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?nY:rY}};function tY(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;r<t.length&&!t[r].hasResult();)r++;let i=n==e.length,a=r==t.length;if(i||a)return i==a;if(e[n++].result!=t[r++].result)return!1}}var nY={"aria-autocomplete":`list`},rY={};function iY(e,t){let n={"aria-autocomplete":`list`,"aria-haspopup":`listbox`,"aria-controls":e};return t>-1&&(n[`aria-activedescendant`]=e+`-`+t),n}var aY=[];function oY(e,t){if(e.isUserEvent(`input.complete`)){let n=e.annotation(FJ);if(n&&t.activateOnCompletion(n))return 12}let n=e.isUserEvent(`input.type`);return n&&t.activateOnTyping?5:n?1:e.isUserEvent(`delete.backward`)?2:e.selection?8:e.docChanged?16:0}var sY=class e{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(t,n){let r=oY(t,n),i=this;(r&8||r&16&&this.touches(t))&&(i=new e(i.source,0)),r&4&&i.state==0&&(i=new e(this.source,1)),i=i.updateFor(t,r);for(let n of t.effects)if(n.is(zJ))i=new e(i.source,1,n.value);else if(n.is(BJ))i=new e(i.source,0);else if(n.is(uY))for(let e of n.value)e.source==i.source&&(i=e);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(NJ(e.state))}},cY=class e extends sY{constructor(e,t,n,r,i,a){super(e,3,t),this.limit=n,this.result=r,this.from=i,this.to=a}hasResult(){return!0}updateFor(t,n){if(!(n&3))return this.map(t.changes);let r=this.result;r.map&&!t.changes.empty&&(r=r.map(r,t.changes));let i=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),o=NJ(t.state);if(o>a||!r||n&2&&(NJ(t.startState)==this.from||o<this.limit))return new sY(this.source,n&4?1:0);let s=t.changes.mapPos(this.limit);return lY(r.validFor,t.state,i,a)?new e(this.source,this.explicit,s,r,i,a):r.update&&(r=r.update(r,i,a,new OJ(t.state,o,!1)))?new e(this.source,this.explicit,s,r,r.from,r.to??NJ(t.state)):new sY(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new e(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new sY(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}};function lY(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return typeof e==`function`?e(i,n,r,t):PJ(e,!0).test(i)}var uY=mN.define({map(e,t){return e.map(e=>e.map(t))}}),dY=mN.define(),fY=qM.define({create(){return eY.start()},update(e,t){return e.update(t)},provide:e=>[OB.from(e,e=>e.tooltip),cz.contentAttributes.from(e,e=>e.attrs)]});function pY(e,t){let n=t.completion.apply||t.completion.label,r=e.state.field(fY).active.find(e=>e.source==t.source);return r instanceof cY?(typeof n==`string`?e.dispatch({...IJ(e.state,n,r.from,r.to),annotations:FJ.of(t.completion)}):n(e,t.completion,r.from,r.to),!0):!1}var mY=YJ(fY,pY);function hY(e,t=`option`){return n=>{let r=n.state.field(fY,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(UJ).interactionDelay)return!1;let i=1,a;t==`page`&&(a=LB(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector(`li`).offsetHeight)-1));let{length:o}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(e?1:-1):e?0:o-1;return s<0?s=t==`page`?0:o-1:s>=o&&(s=t==`page`?o-1:0),n.dispatch({effects:dY.of(s)}),!0}}var gY=e=>{let t=e.state.field(fY,!1);return e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(UJ).interactionDelay?!1:pY(e,t.open.options[t.open.selected])},_Y=e=>e.state.field(fY,!1)?(e.dispatch({effects:zJ.of(!0)}),!0):!1,vY=e=>{let t=e.state.field(fY,!1);return!t||!t.active.some(e=>e.state!=0)?!1:(e.dispatch({effects:BJ.of(null)}),!0)},yY=class{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}},bY=50,xY=1e3,SY=tI.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(fY).active)t.isPending&&this.startQuery(t)}update(e){let t=e.state.field(fY),n=e.state.facet(UJ);if(!e.selectionSet&&!e.docChanged&&e.startState.field(fY)==t)return;let r=e.transactions.some(e=>{let t=oY(e,n);return t&8||(e.selection||e.docChanged)&&!(t&3)});for(let t=0;t<this.running.length;t++){let n=this.running[t];if(r||n.context.abortOnDocChange&&e.docChanged||n.updates.length+e.transactions.length>bY&&Date.now()-n.time>xY){for(let e of n.context.abortListeners)try{e()}catch(e){ZF(this.view.state,e)}n.context.abortListeners=null,this.running.splice(t--,1)}else n.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(e=>e.effects.some(e=>e.is(zJ)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(e=>e.isPending&&!this.running.some(t=>t.active.source==e.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let t of e.transactions)t.isUserEvent(`input.type`)?this.composing=2:this.composing==2&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(fY);for(let e of t.active)e.isPending&&!this.running.some(t=>t.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(UJ).updateSyncTime))}startQuery(e){let{state:t}=this.view,n=new OJ(t,NJ(t),e.explicit,this.view),r=new yY(e,n);this.running.push(r),Promise.resolve(e.source(n)).then(e=>{r.context.aborted||(r.done=e||null,this.scheduleAccept())},e=>{this.view.dispatch({effects:BJ.of(null)}),ZF(this.view.state,e)})}scheduleAccept(){this.running.every(e=>e.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(UJ).updateSyncTime))}accept(){this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(UJ),n=this.view.state.field(fY);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let n=NJ(i.updates.length?i.updates[0].startState:this.view.state),r=Math.min(n,i.done.from+(i.active.explicit?0:1)),a=new cY(i.active.source,i.active.explicit,r,i.done,i.done.from,i.done.to??n);for(let e of i.updates)a=a.update(e,t);if(a.hasResult()){e.push(a);continue}}let a=n.active.find(e=>e.source==i.active.source);if(a&&a.isPending)if(i.done==null){let n=new sY(i.active.source,0);for(let e of i.updates)n=n.update(e,t);n.isPending||e.push(n)}else this.startQuery(a)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:uY.of(e)})}},{eventHandlers:{blur(e){let t=this.view.state.field(fY,!1);if(t&&t.tooltip&&this.view.state.facet(UJ).closeOnBlur){let n=t.open&&LB(this.view,t.open.tooltip);(!n||!n.dom.contains(e.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:BJ.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:zJ.of(!1)}),20),this.composing=0}}}),CY=typeof navigator==`object`&&/Win/.test(navigator.platform),wY=XM.highest(cz.domEventHandlers({keydown(e,t){let n=t.state.field(fY,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&!(CY&&e.altKey)||e.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(e=>e.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(e.key)>-1&&pY(t,r),!1}})),TY=cz.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:`monospace`,whiteSpace:`nowrap`,overflow:`hidden auto`,maxWidth_fallback:`700px`,maxWidth:`min(700px, 95vw)`,minWidth:`250px`,maxHeight:`10em`,height:`100%`,listStyle:`none`,margin:0,padding:0,"& > li, & > completion-section":{padding:`1px 3px`,lineHeight:1.2},"& > li":{overflowX:`hidden`,textOverflow:`ellipsis`,cursor:`pointer`},"& > completion-section":{display:`list-item`,borderBottom:`1px solid silver`,paddingLeft:`0.5em`,opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:`#17c`,color:`white`},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:`#777`},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:`#347`,color:`white`},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:`#444`},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:`"Â·Â·Â·"`,opacity:.5,display:`block`,textAlign:`center`},".cm-tooltip.cm-completionInfo":{position:`absolute`,padding:`3px 9px`,width:`max-content`,maxWidth:`400px`,boxSizing:`border-box`,whiteSpace:`pre-line`},".cm-completionInfo.cm-completionInfo-left":{right:`100%`},".cm-completionInfo.cm-completionInfo-right":{left:`100%`},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`30px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`30px`},"&light .cm-snippetField":{backgroundColor:`#00000022`},"&dark .cm-snippetField":{backgroundColor:`#ffffff22`},".cm-snippetFieldPosition":{verticalAlign:`text-top`,width:0,height:`1.15em`,display:`inline-block`,margin:`0 -0.7px -.7em`,borderLeft:`1.4px dotted #888`},".cm-completionMatchedText":{textDecoration:`underline`},".cm-completionDetail":{marginLeft:`0.5em`,fontStyle:`italic`},".cm-completionIcon":{fontSize:`90%`,width:`.8em`,display:`inline-block`,textAlign:`center`,paddingRight:`.6em`,opacity:`0.6`,boxSizing:`content-box`},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:`'Æ'`}},".cm-completionIcon-class":{"&:after":{content:`'â'`}},".cm-completionIcon-interface":{"&:after":{content:`'â'`}},".cm-completionIcon-variable":{"&:after":{content:`'ð¥'`}},".cm-completionIcon-constant":{"&:after":{content:`'ð¶'`}},".cm-completionIcon-type":{"&:after":{content:`'ð¡'`}},".cm-completionIcon-enum":{"&:after":{content:`'âª'`}},".cm-completionIcon-property":{"&:after":{content:`'â¡'`}},".cm-completionIcon-keyword":{"&:after":{content:`'ðï¸'`}},".cm-completionIcon-namespace":{"&:after":{content:`'â¢'`}},".cm-completionIcon-text":{"&:after":{content:`'abc'`,fontSize:`50%`,verticalAlign:`middle`}}}),EY={brackets:[`(`,`[`,`{`,`'`,`"`],before:`)]}:;>`,stringPrefixes:[]},DY=mN.define({map(e,t){return t.mapPos(e,-1,OM.TrackAfter)??void 0}}),OY=new class extends jN{};OY.startSide=1,OY.endSide=-1;var kY=qM.define({create(){return IN.empty},update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}for(let n of t.effects)n.is(DY)&&(e=e.update({add:[OY.range(n.value,n.value+1)]}));return e}});function AY(){return[FY,kY]}var jY=`()[]{}<>Â«Â»Â»Â«ï¼»ï¼½ï½ï½`;function MY(e){for(let t=0;t<16;t+=2)if(jY.charCodeAt(t)==e)return jY.charAt(t+1);return TM(e<128?e:e+1)}function NY(e,t){return e.languageDataAt(`closeBrackets`,t)[0]||EY}var PY=typeof navigator==`object`&&/Android\b/.test(navigator.userAgent),FY=cz.inputHandler.of((e,t,n,r)=>{if((PY?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||r.length==2&&EM(wM(r,0))==1||t!=i.from||n!=i.to)return!1;let a=LY(e.state,r);return a?(e.dispatch(a),!0):!1}),IY=[{key:`Backspace`,run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=NY(e,e.selection.main.head).brackets||EY.brackets,r=null,i=e.changeByRange(t=>{if(t.empty){let r=BY(e.doc,t.head);for(let i of n)if(i==r&&zY(e.doc,t.head)==MY(wM(i,0)))return{changes:{from:t.head-i.length,to:t.head+i.length},range:Q.cursor(t.head-i.length)}}return{range:r=t}});return r||t(e.update(i,{scrollIntoView:!0,userEvent:`delete.backward`})),!r}}];function LY(e,t){let n=NY(e,e.selection.main.head),r=n.brackets||EY.brackets;for(let i of r){let a=MY(wM(i,0));if(t==i)return a==i?UY(e,i,r.indexOf(i+i+i)>-1,n):VY(e,i,a,n.before||EY.before);if(t==a&&RY(e,e.selection.main.from))return HY(e,i,a)}return null}function RY(e,t){let n=!1;return e.field(kY).between(0,e.doc.length,e=>{e==t&&(n=!0)}),n}function zY(e,t){let n=e.sliceString(t,t+2);return n.slice(0,EM(wM(n,0)))}function BY(e,t){let n=e.sliceString(t-2,t);return EM(wM(n,0))==n.length?n:n.slice(1)}function VY(e,t,n,r){let i=null,a=e.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:n,from:a.to}],effects:DY.of(a.to+t.length),range:Q.range(a.anchor+t.length,a.head+t.length)};let o=zY(e.doc,a.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:t+n,from:a.head},effects:DY.of(a.head+t.length),range:Q.cursor(a.head+t.length)}:{range:i=a}});return i?null:e.update(a,{scrollIntoView:!0,userEvent:`input.type`})}function HY(e,t,n){let r=null,i=e.changeByRange(t=>t.empty&&zY(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:Q.cursor(t.head+n.length)}:r={range:t});return r?null:e.update(i,{scrollIntoView:!0,userEvent:`input.type`})}function UY(e,t,n,r){let i=r.stringPrefixes||EY.stringPrefixes,a=null,o=e.changeByRange(r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:DY.of(r.to+t.length),range:Q.range(r.anchor+t.length,r.head+t.length)};let o=r.head,s=zY(e.doc,o),c;if(s==t){if(WY(e,o))return{changes:{insert:t+t,from:o},effects:DY.of(o+t.length),range:Q.cursor(o+t.length)};if(RY(e,o)){let r=n&&e.sliceDoc(o,o+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:o,to:o+r.length,insert:r},range:Q.cursor(o+r.length)}}}else if(n&&e.sliceDoc(o-2*t.length,o)==t+t&&(c=KY(e,o-2*t.length,i))>-1&&WY(e,c))return{changes:{insert:t+t+t+t,from:o},effects:DY.of(o+t.length),range:Q.cursor(o+t.length)};else if(e.charCategorizer(o)(s)!=wN.Word&&KY(e,o,i)>-1&&!GY(e,o,t,i))return{changes:{insert:t+t,from:o},effects:DY.of(o+t.length),range:Q.cursor(o+t.length)};return{range:a=r}});return a?null:e.update(o,{scrollIntoView:!0,userEvent:`input.type`})}function WY(e,t){let n=QV(e).resolveInner(t+1);return n.parent&&n.from==t}function GY(e,t,n,r){let i=QV(e).resolveInner(t,-1),a=r.reduce((e,t)=>Math.max(e,t.length),0);for(let o=0;o<5;o++){let o=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),s=o.indexOf(n);if(!s||s>-1&&r.indexOf(o.slice(0,s))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>n.length+s;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let c=i.to==t&&i.parent;if(!c)break;i=c}return!1}function KY(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=wN.Word)return t;for(let i of n){let n=t-i.length;if(e.sliceDoc(n,t)==i&&r(e.sliceDoc(n-1,n))!=wN.Word)return n}return-1}function qY(e={}){return[wY,fY,UJ.of(e),SY,YY,TY]}var JY=[{key:`Ctrl-Space`,run:_Y},{mac:"Alt-`",run:_Y},{mac:`Alt-i`,run:_Y},{key:`Escape`,run:vY},{key:`ArrowDown`,run:hY(!0)},{key:`ArrowUp`,run:hY(!1)},{key:`PageDown`,run:hY(!0,`page`)},{key:`PageUp`,run:hY(!1,`page`)},{key:`Enter`,run:gY}],YY=XM.highest(_z.computeN([UJ],e=>e.facet(UJ).defaultKeymap?[JY]:[])),XY=J(`<div class="jse-status-bar-info svelte-elhb0f"> </div>`),ZY=J(`<div class="jse-status-bar-info svelte-elhb0f"> </div>`),QY=J(`<div class="jse-status-bar-info svelte-elhb0f"> </div>`),$Y=J(`<div class="jse-status-bar svelte-elhb0f"><!> <!> <!></div>`);function eX(e,t){Re(t,!1);let n=Z(t,`editorState`,8),r=R(),i=R(),a=R(),o=R(),s=R();H(()=>K(n()),()=>{z(r,n()?.selection?.main?.head)}),H(()=>(W(r),K(n())),()=>{z(i,W(r)===void 0?void 0:n()?.doc?.lineAt(W(r)))}),H(()=>W(i),()=>{z(a,W(i)===void 0?void 0:W(i).number)}),H(()=>(W(i),W(r)),()=>{z(o,W(i)!==void 0&&W(r)!==void 0?W(r)-W(i).from+1:void 0)}),H(()=>K(n()),()=>{z(s,n()?.selection?.ranges?.reduce((e,t)=>e+t.to-t.from,0))}),gn(),Li();var c=$Y(),l=B(c),u=e=>{var t=XY(),n=B(t);I(t),U(()=>jr(n,`Line: ${W(a)??``}`)),Y(e,t)};X(l,e=>{W(a)!==void 0&&e(u)});var d=V(l,2),f=e=>{var t=ZY(),n=B(t);I(t),U(()=>jr(n,`Column: ${W(o)??``}`)),Y(e,t)};X(d,e=>{W(o)!==void 0&&e(f)});var p=V(d,2),m=e=>{var t=QY(),n=B(t);I(t),U(()=>jr(n,`Selection: ${W(s)??``} characters`)),Y(e,t)};X(p,e=>{W(s)!==void 0&&W(s)>0&&e(m)}),I(c),Y(e,c),ze()}var tX=oU.define([{tag:$.propertyName,color:`var(--internal-key-color)`},{tag:$.number,color:`var(--internal-value-color-number)`},{tag:$.bool,color:`var(--internal-value-color-boolean)`},{tag:$.string,color:`var(--internal-value-color-string)`},{tag:$.keyword,color:`var(--internal-value-color-null)`}]);const nX=uU(tX);var rX=tX.style;tX.style=e=>rX(e||[]);function iX(e,t=e.state){let n=new Set;for(let{from:r,to:i}of e.visibleRanges){let e=r;for(;e<=i;){let r=t.doc.lineAt(e);n.has(r)||n.add(r),e=r.to+1}}return n}function aX(e){let t=e.selection.main.head;return e.doc.lineAt(t)}function oX(e,t){let n=0;loop:for(let r=0;r<e.length;r++)switch(e[r]){case` `:case`\xA0`:n+=1;continue loop;case`	`:n+=t-n%t;continue loop;case`\r`:continue loop;default:break loop}return n}var sX=BM.define({combine(e){return AN(e,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:`fullScope`,thickness:1})}}),cX=class{constructor(e,t,n,r){this.lines=e,this.state=t,this.map=new Map,this.unitWidth=n,this.markerType=r;for(let e of this.lines)this.add(e);this.state.facet(sX).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e==`number`?e:e.number)}get(e){let t=this.map.get(typeof e==`number`?e:e.number);if(!t)throw Error(`Line not found in indentation map`);return t}set(e,t,n){let r={line:e,col:t,level:n,empty:!e.text.trim().length};return this.map.set(r.line.number,r),r}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){let t=this.closestNonEmpty(e,-1);return this.set(e,0,t.level)}let t=this.closestNonEmpty(e,-1),n=this.closestNonEmpty(e,1);return t.level>=n.level&&this.markerType!==`codeOnly`?this.set(e,0,t.level):t.empty&&t.level===0&&n.level!==0?this.set(e,0,0):n.level>t.level?this.set(e,0,t.level+1):this.set(e,0,n.level)}let t=oX(e.text,this.state.tabSize),n=Math.floor(t/this.unitWidth);return this.set(e,t,n)}closestNonEmpty(e,t){let n=e.number+t;for(;t===-1?n>=1:n<=this.state.doc.lines;){if(this.has(n)){let e=this.get(n);if(!e.empty)return e}let e=this.state.doc.line(n);if(e.text.trim().length){let t=oX(e.text,this.state.tabSize),n=Math.floor(t/this.unitWidth);return this.set(e,t,n)}n+=t}let r=this.state.doc.line(t===-1?1:this.state.doc.lines);return this.set(r,0,0)}findAndSetActiveLines(){let e=aX(this.state);if(!this.has(e))return;let t=this.get(e);if(this.has(t.line.number+1)){let e=this.get(t.line.number+1);e.level>t.level&&(t=e)}if(this.has(t.line.number-1)){let e=this.get(t.line.number-1);e.level>t.level&&(t=e)}if(t.level===0)return;t.active=t.level;let n,r;for(n=t.line.number;n>1;n--){if(!this.has(n-1))continue;let e=this.get(n-1);if(e.level<t.level)break;e.active=t.level}for(r=t.line.number;r<this.state.doc.lines;r++){if(!this.has(r+1))continue;let e=this.get(r+1);if(e.level<t.level)break;e.active=t.level}}};function lX(e){let t={light:`#F0F1F2`,dark:`#2B3245`,activeLight:`#E4E5E6`,activeDark:`#3C445C`},n=t;return e&&(n=Object.assign(Object.assign({},t),e)),cz.baseTheme({"&light":{"--indent-marker-bg-color":n.light,"--indent-marker-active-bg-color":n.activeLight},"&dark":{"--indent-marker-bg-color":n.dark,"--indent-marker-active-bg-color":n.activeDark},".cm-line":{position:`relative`},".cm-indent-markers::before":{content:`""`,position:`absolute`,top:0,left:`2px`,right:0,bottom:0,background:`var(--indent-markers)`,pointerEvents:`none`,zIndex:`-1`}})}function uX(e,t,n,r,i){return`${`repeating-linear-gradient(to right, var(${e}) 0 ${t}px, transparent ${t}px ${n}ch)`} ${r*n}.5ch/calc(${n*i}ch - 1px) no-repeat`}function dX(e,t,n,r,i){let{level:a,active:o}=e;if(i??=r,n&&a===0)return[];let s=n?1:0,c=[];if(o!==void 0){let e=o-s-1;e>0&&c.push(uX(`--indent-marker-bg-color`,r,t,s,e)),c.push(uX(`--indent-marker-active-bg-color`,i,t,o-1,1)),o!==a&&c.push(uX(`--indent-marker-bg-color`,r,t,o,a-o))}else c.push(uX(`--indent-marker-bg-color`,r,t,s,a-s));return c.join(`,`)}var fX=class{constructor(e){this.view=e,this.unitWidth=fH(e.state),this.currentLineNumber=aX(e.state).number,this.generate(e.state)}update(e){let t=fH(e.state),n=t!==this.unitWidth;n&&(this.unitWidth=t);let r=aX(e.state).number,i=r!==this.currentLineNumber;this.currentLineNumber=r;let a=e.state.facet(sX).highlightActiveBlock&&i;(e.docChanged||e.viewportChanged||n||a)&&this.generate(e.state)}generate(e){let t=new RN,n=iX(this.view,e),{hideFirstIndent:r,markerType:i,thickness:a,activeThickness:o}=e.facet(sX),s=new cX(n,e,this.unitWidth,i);for(let e of n){let n=s.get(e.number);if(!n?.level)continue;let i=dX(n,this.unitWidth,r,a,o);t.add(e.from,e.from,NP.line({class:`cm-indent-markers`,attributes:{style:`--indent-markers: ${i}`}}))}this.decorations=t.finish()}};function pX(e={}){return[sX.of(e),lX(e.colors),tI.fromClass(fX,{decorations:e=>e.decorations})]}var mX=class{constructor(e){this.view=e,this.indentUnit=fH(e.state),this.initialPaddingLeft=null,this.isChrome=window==null?void 0:window.navigator.userAgent.includes(`Chrome`),this.generate(e.state)}update(e){let t=fH(e.state);(t!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=t,this.generate(e.state))}generate(e){let t=new RN;this.initialPaddingLeft?this.addStyleToBuilder(t,e,this.initialPaddingLeft):this.view.requestMeasure({read:e=>{let n=e.contentDOM.querySelector(`.cm-line`);n&&(this.initialPaddingLeft=window.getComputedStyle(n).getPropertyValue(`padding-left`),this.addStyleToBuilder(t,e.state,this.initialPaddingLeft)),this.decorations=t.finish()}}),this.decorations=t.finish()}addStyleToBuilder(e,t,n){let r=this.getVisibleLines(t);for(let i of r){let{numColumns:r,containsTab:a}=this.numColumns(i.text,t.tabSize),o=`calc(${r+this.indentUnit}ch + ${n})`,s=this.isChrome?`calc(-${r+this.indentUnit}ch - ${a?1:0}px)`:`-${r+this.indentUnit}ch`;e.add(i.from,i.from,NP.line({attributes:{style:`padding-left: ${o}; text-indent: ${s};`}}))}}getVisibleLines(e){let t=new Set,n=null;for(let{from:r,to:i}of this.view.visibleRanges){let a=r;for(;a<=i;){let r=e.doc.lineAt(a);n!==r&&(t.add(r),n=r),a=r.to+1}}return t}numColumns(e,t){let n=0,r=!1;loop:for(let i=0;i<e.length;i++)switch(e[i]){case` `:n+=1;continue loop;case`	`:n+=t-n%t,r=!0;continue loop;case`\r`:continue loop;default:break loop}return{numColumns:n,containsTab:r}}};const hX=[tI.fromClass(mX,{decorations:e=>e.decorations})];var gX=u(Za()),_X=J(`<div class="jse-fold-progress svelte-1sed3tc"><span class="jse-fold-tip svelte-1sed3tc">Collapsing</span> <div class="jse-fold-progress-track svelte-1sed3tc"><div class="jse-fold-progress-fill svelte-1sed3tc"></div></div> <button class="jse-fold-cancel-button svelte-1sed3tc" type="button" title="Cancel folding">Cancel</button></div>`),vX=J(`<!> <div class="jse-contents jse-preview svelte-1sed3tc"> </div>`,1),yX=J(`<!> <!> <!> <!>`,1),bX=J(`<div></div> <!> <!>`,1),xX=J(`<div class="jse-contents svelte-1sed3tc"><div class="jse-loading-space svelte-1sed3tc"></div> <div class="jse-loading svelte-1sed3tc">loading...</div></div>`),SX=J(`<div><!> <!> <!></div>`);function CX(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=Z(t,`readOnly`,9),a=Z(t,`mainMenuBar`,9),o=Z(t,`statusBar`,9),s=Z(t,`askToFormat`,9),c=Z(t,`externalContent`,9),l=Z(t,`externalSelection`,9),u=Z(t,`history`,9),d=Z(t,`indentation`,9),f=Z(t,`tabSize`,9),p=Z(t,`escapeUnicodeCharacters`,9),m=Z(t,`parser`,9),h=Z(t,`validator`,9),g=Z(t,`validationParser`,9),_=Z(t,`onChange`,9),v=Z(t,`onChangeMode`,9),y=Z(t,`onSelect`,9),b=Z(t,`onUndo`,9),x=Z(t,`onRedo`,9),S=Z(t,`onError`,9),C=Z(t,`onFocus`,9),w=Z(t,`onBlur`,9),T=Z(t,`onRenderMenu`,9),ee=Z(t,`onSortModal`,9),te=Z(t,`onTransformModal`,9),E=$i(`jsoneditor:TextMode`),ne={key:`Mod-i`,run:Ne,shift:Pe,preventDefault:!0},re=typeof window>`u`;E(`isSSR:`,re);let ie=R(void 0,!0),ae=R(void 0,!0),D,oe=R(void 0,!0),O=R(!1,!0),se=R(s(),!0),ce=R([],!0),le=R(!1,!0),ue=R(0,!0),de=R(0,!0),fe=null,pe=new QM,me=new QM,k=new QM,he=new QM,ge=new QM,A=c(),j=R(vv(A,d(),m()),!0),_e=dN.define(),ve=null;function M(){if(!ve||ve.length===0)return!1;let e=ve[0].startState,t=ve[ve.length-1].state,n=ve.map(e=>e.changes).reduce((e,t)=>e.compose(t)),r={type:`text`,undo:{changes:n.invert(e.doc).toJSON(),selection:xt(e.selection)},redo:{changes:n.toJSON(),selection:xt(t.selection)}};return E(`add history item`,r),u().add(r),ve=null,!0}let N=R(p(),!0);qi(async()=>{if(!re)try{D=Ze({target:W(ie),initialText:Ct(W(j),W(O))?``:W(n).escapeValue(W(j)),readOnly:i(),indentation:d()})}catch(e){console.error(e)}}),Ji(()=>{vt(),D&&(E(`Destroy CodeMirror editor`),D.destroy()),Ee()});let ye=W_(),be=W_();function xe(){D&&(E(`focus`),D.focus())}function Se(e,t){if(D)try{Te(e,t)}catch(e){S()(e)}}function Ce(){return kH.of((e,t,n)=>{let r=$V(e,e.doc.length,1/0);if(!r||r.length<n)return null;let i=r.resolveStack(n,1),a=null;for(let o=i;o;o=o.next){let i=o.node;if(i.to<=n||i.from>n)continue;if(a&&i.from<t)break;let s=i.type.prop(AH);if(s&&(i.to<r.length-50||r.length==e.doc.length||!P(i))){let r=s(i,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(a=r)}}return a})}function P(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function we(e,t,n,r=!0){let i=[],a=new Set;return e.iterate({enter(e){if(n===void 0||e.from>=n){let n=PH(t,e.from,e.to);if(n){let e=`${n.from}-${n.to}`;a.has(e)||(r?(i.push({from:n.from,to:n.to}),a.add(e)):i.some(e=>e.from<=n.from&&e.to>=n.to)||(i.push({from:n.from,to:n.to}),a.add(e)))}}}}),i}async function F(e){if(e.length===0)return;let t=e.length>5e3;t&&(z(le,!0),z(ue,0),z(de,e.length),fe=new AbortController);let n=r=>new Promise(i=>{if(t&&fe?.signal.aborted){i();return}requestAnimationFrame(()=>{let a=Math.min(r+100,e.length),o=e.slice(r,a);D.dispatch({effects:o.map(e=>IH.of({from:e.from,to:e.to}))}),t&&z(ue,a),a<e.length?n(a).then(i):i()})});await n(0),t&&(z(le,!1),z(ue,0),z(de,0),fe=null)}function Te(e=[],t=!0){let r=D.state,i=r.doc.length,a=$V(r,i,1/0);if(!a)return;let o=[];if(e.length===0)o=we(a,r,void 0,t);else{let{from:i}=dv(W(n).escapeValue(W(j)),e);i!==void 0&&i!==0&&(o=we(a,r,i,t))}o.length>0&&F(o)}function Ee(){fe&&fe.abort()}function De(e,t=bS){if(D)try{if(e&&e.length>0){let{from:t}=dv(W(n).escapeValue(W(j)),e);t!==void 0&&(D.dispatch({selection:{anchor:t,head:t}}),GH(D))}else JH(D);t?.(e)}catch(e){S()(e)}}function Oe(){De([],()=>!0)}function ke(){Se([],!0)}let Ae=!1;YD({onMount:qi,onDestroy:Ji,getWindow:()=>ey(W(ae)),hasFocus:()=>Ae&&document.hasFocus()||ty(W(ae)),onFocus:C(),onBlur:()=>{vt(),w()()}});function je(e){return Me(e,!1)}function Me(e,t){E(`handlePatch`,e,t);let n=m().parse(W(j)),r=Na(n,e),i=Ga(n,e);return at({text:m().stringify(r,null,d())},t,!1),{json:r,previousJson:n,undo:i,redo:e}}function Ne(){if(E(`format`),i())return!1;try{let e=m().parse(W(j));return at({text:m().stringify(e,null,d())},!0,!1),z(se,s()),!0}catch(e){S()(e)}return!1}function Pe(){if(E(`compact`),i())return!1;try{let e=m().parse(W(j));return at({text:m().stringify(e)},!0,!1),z(se,!1),!0}catch(e){S()(e)}return!1}function L(){if(E(`repair`),!i())try{at({text:Io(W(j))},!0,!1),z(wt,sx),z(Tt,void 0)}catch(e){S()(e)}}function Fe(){if(!i())try{let e=m().parse(W(j));Ae=!0,ee()({id:ye,json:e,rootPath:[],onSort:async({operations:e})=>{E(`onSort`,e),Me(e,!0)},onClose:()=>{Ae=!1,xe()}})}catch(e){S()(e)}}function Ie({id:e,rootPath:t,onTransform:n,onClose:r}){try{let i=m().parse(W(j));Ae=!0,te()({id:e||be,json:i,rootPath:t||[],onTransform:e=>{n?n({operations:e,json:i,transformedJson:Na(i,e)}):(E(`onTransform`,e),Me(e,!0))},onClose:()=>{Ae=!1,xe(),r&&r()}})}catch(e){S()(e)}}function Le(){i()||Ie({rootPath:[]})}function Be(){D&&(W(ie)&&W(ie).querySelector(`.cm-search`)?yJ(D):vJ(D))}function Ve(){if(i())return!1;vt();let e=u().undo();return E(`undo`,e),Mx(e)?(D.dispatch({annotations:_e.of(`undo`),changes:AM.fromJSON(e.undo.changes),selection:Q.fromJSON(e.undo.selection),scrollIntoView:!0}),!0):(b()(e),!1)}function He(){if(i())return!1;vt();let e=u().redo();return E(`redo`,e),Mx(e)?(D.dispatch({annotations:_e.of(`redo`),changes:AM.fromJSON(e.redo.changes),selection:Q.fromJSON(e.redo.selection),scrollIntoView:!0}),!0):(x()(e),!1)}function Ue(){z(O,!0),at(c(),!0,!0)}function We(){v()(Dv.tree)}function Ge(){ut()}function Ke(e){E(`select validation error`,e);let{from:t,to:n}=tt(e);t===void 0||n===void 0||(Je(t,n),xe())}function qe(e){E(`select parse error`,e);let t=nt(e,!1);Je(t.from==null?0:t.from,t.to==null?0:t.to),xe()}function Je(e,t){E(`setSelection`,{anchor:e,head:t}),D&&D.dispatch(D.state.update({selection:{anchor:e,head:t},scrollIntoView:!0}))}function Ye(e,t){if(t.state.selection.ranges.length===1){let e=t.state.selection.ranges[0],n=W(j).slice(e.from,e.to);if(n===`{`||n===`[`){let t=gX.parse(W(j)),n=Object.keys(t.pointers).find(n=>t.pointers[n].value?.pos===e.from),r=t.pointers[n];n&&r&&r.value&&r.valueEnd&&(E(`pointer found, selecting inner contents of path:`,n,r),Je(r.value.pos+1,r.valueEnd.pos-1))}}}function Xe(){return _K(Et,{delay:300})}function Ze({target:e,initialText:t,readOnly:n,indentation:r}){E(`Create CodeMirror editor`,{readOnly:n,indentation:r});let i=et(l(),t)?st(l()):void 0;return D=new cz({state:kN.create({doc:t,selection:i,extensions:[_z.of([XG,ne]),pe.of(Xe()),zK(),fV(),gV(),eB(),iU(),Ce(),Fz(),Wz(),kN.allowMultipleSelections.of(!0),OH(),uU(pU,{fallback:!0}),SU(),AY(),qY(),hB(),vB(),sB(),Mq(),_z.of([...IY,...YG,...bJ,{key:`Mod-z`,run:Ve,preventDefault:!0},{key:`Mod-y`,mac:`Mod-Shift-z`,run:He,preventDefault:!0},{key:`Ctrl-Shift-z`,run:He,preventDefault:!0},...YH,...JY,...fK]),nX,pX({hideFirstIndent:!0}),cz.domEventHandlers({dblclick:Ye}),cz.updateListener.of(e=>{z(oe,e.state),e.docChanged&&(e.transactions.some(e=>!!e.annotation(_e))||(ve=[...ve??[],e]),_t()),e.selectionSet&&bt()}),mq(),Uq({top:!0}),cz.lineWrapping,me.of(kN.readOnly.of(n)),he.of(kN.tabSize.of(f())),k.of(gt(r)),ge.of(cz.theme({},{dark:$e()}))]}),parent:e}),i&&D.dispatch(D.state.update({selection:i.main,scrollIntoView:!0})),D}function Qe(){return D?W(n).unescapeValue(D.state.doc.toString()):``}function $e(){return W(ie)?getComputedStyle(W(ie)).getPropertyValue(`--jse-theme`).includes(`dark`):!1}function et(e,t){return AS(e)?e.ranges.every(e=>e.anchor<t.length&&e.head<t.length):!1}function tt(e){let{path:t,message:r,severity:i}=e,{line:a,column:o,from:s,to:c}=dv(W(n).escapeValue(W(j)),t);return{path:t,line:a,column:o,from:s,to:c,message:r,severity:i,actions:[]}}function nt(e,t){let{line:n,column:r,position:a,message:o}=e;return{path:[],line:n,column:r,from:a,to:a,severity:Av.error,message:o,actions:t&&!i()?[{name:`Auto repair`,apply:()=>L()}]:void 0}}function rt(e){return{from:e.from||0,to:e.to||0,message:e.message||``,actions:e.actions,severity:e.severity}}function at(e,t,r){let i=vv(e,d(),m()),a=!f_(e,A),o=A;E(`setCodeMirrorContent`,{isChanged:a,emitChange:t,forceUpdate:r}),!(!D||!a&&!r)&&(A=e,z(j,i),Ct(W(j),W(O))||D.dispatch({changes:{from:0,to:D.state.doc.length,insert:W(n).escapeValue(W(j))}}),M(),a&&t&&yt(A,o))}function ot(e){if(!AS(e))return;let t=st(e);D&&t&&(!W(oe)||!W(oe).selection.eq(t))&&(E(`applyExternalSelection`,t),D.dispatch({selection:t}))}function st(e){return AS(e)?Q.fromJSON(e):void 0}async function ct(){E(`refresh`),await ht()}function lt(){E(`forceUpdateText`,{escapeUnicodeCharacters:p()}),D&&D.dispatch({changes:{from:0,to:D.state.doc.length,insert:W(n).escapeValue(W(j))}})}function ut(){if(!D)return;let e=Qe(),t=e!==W(j);if(E(`onChangeCodeMirrorValue`,{isChanged:t}),!t)return;let n=A;z(j,e),A={text:W(j)},M(),yt(A,n),it(),bt()}function dt(e){E(`updateLinter`,e),D&&D.dispatch({effects:pe.reconfigure(Xe())})}function ft(e){D&&(E(`updateIndentation`,e),D.dispatch({effects:k.reconfigure(gt(e))}))}function pt(e){D&&(E(`updateTabSize`,e),D.dispatch({effects:he.reconfigure(kN.tabSize.of(e))}))}function mt(e){D&&(E(`updateReadOnly`,e),D.dispatch({effects:[me.reconfigure(kN.readOnly.of(e))]}))}async function ht(){if(it(),D){let e=$e();return E(`updateTheme`,{dark:e}),D.dispatch({effects:[ge.reconfigure(cz.theme({},{dark:e}))]}),new Promise(e=>setTimeout(e))}return Promise.resolve()}function gt(e){let t=dH.of(typeof e==`number`?` `.repeat(e):e);return e===`	`?[t]:[t,hX]}let _t=Rg(ut,300);function vt(){_t.flush()}function yt(e,t){_()&&_()(e,t,{contentErrors:Dt(),patchResult:void 0})}function bt(){y()(xt(W(oe).selection))}function xt(e){return{type:Ov.text,...e.toJSON()}}function Ct(e,t){return(e?e.length>10485760:!1)&&!t}let wt=R(sx,!0),Tt=R(void 0,!0);function Et(){if(Ct(W(j),W(O)))return[];let e=Dt();if(xx(e)){let{parseError:t,isRepairable:n}=e;return[rt(nt(t,n))]}return Sx(e)?e.validationErrors.map(tt).map(rt):[]}function Dt(){E(`validate:start`),vt();let e=Ot(W(n).escapeValue(W(j)),h(),m(),g());return xx(e)?(z(wt,e.isRepairable?`repairable`:`invalid`),z(Tt,e.parseError),z(ce,[])):(z(wt,sx),z(Tt,void 0),z(ce,e?.validationErrors||[])),E(`validate:end`),e}let Ot=Xk(KD);function kt(){W(Tt)&&qe(W(Tt))}let At={icon:Cw,text:`Show me`,title:`Move to the parse error location`,onClick:kt};H(()=>K(p()),()=>{z(n,Pv({escapeControlCharacters:!1,escapeUnicodeCharacters:p()}))}),H(()=>K(c()),()=>{at(c(),!1,!1)}),H(()=>K(l()),()=>{ot(l())}),H(()=>K(h()),()=>{dt(h())}),H(()=>K(d()),()=>{ft(d())}),H(()=>K(f()),()=>{pt(f())}),H(()=>K(i()),()=>{mt(i())}),H(()=>(W(N),K(p())),()=>{W(N)!==p()&&(z(N,p()),lt())}),H(()=>(W(wt),K(i()),Iw),()=>{z(r,W(wt)===`repairable`&&!i()?[{icon:Iw,text:`Auto repair`,title:`Automatically repair JSON`,onClick:L},At]:[At])}),gn();var jt={focus:xe,collapse:Se,expand:De,patch:je,handlePatch:Me,openTransformModal:Ie,refresh:ct,flush:vt,validate:Dt};Li(!0);var Mt=SX();let Nt;var Pt=B(Mt),Ft=e=>{let t=St(()=>(W(j),G(()=>W(j).length===0)));{let n=St(()=>!W(t)),r=St(()=>!W(t)),a=St(()=>!W(t)),o=St(()=>!W(t)),s=St(()=>!W(t)),c=St(()=>!W(t));Zj(e,{get readOnly(){return i()},onExpandAll:Oe,onCollapseAll:ke,onFormat:Ne,onCompact:Pe,onSort:Fe,onTransform:Le,onToggleSearch:Be,onUndo:Ve,onRedo:He,get canExpandAll(){return W(n)},get canCollapseAll(){return W(r)},get canFormat(){return W(a)},get canCompact(){return W(o)},get canSort(){return W(s)},get canTransform(){return W(c)},get canUndo(){return K(u()),G(()=>u().canUndo)},get canRedo(){return K(u()),G(()=>u().canRedo)},get onRenderMenu(){return T()}})}};X(Pt,e=>{a()&&e(Ft)});var It=V(Pt,2),Lt=e=>{var t=_X(),n=V(B(t),2),r=B(n);I(n);var i=V(n,2);I(t),U(()=>di(r,`width: ${W(de)>0?W(ue)/W(de)*100:0}%`)),q(`click`,i,Ee),Y(e,t)};X(It,e=>{W(le)&&e(Lt)});var Rt=V(It,2),zt=e=>{let t=St(()=>(W(j),W(O),G(()=>Ct(W(j),W(O)))));var n=bX(),i=Xt(n);let a;Ni(i,e=>z(ie,e),()=>W(ie));var s=V(i,2),c=e=>{var t=vX(),n=Xt(t);{let e=St(()=>(K(aw),K(tx),W(j),G(()=>`The JSON document is larger than ${aw(tx)}, and may crash your browser when loading it in text mode. Actual size: ${aw(W(j).length)}.`)));QD(n,{get icon(){return Kw},type:`error`,get message(){return W(e)},actions:[{text:`Open anyway`,title:`Open the document in text mode. This may freeze or crash your browser.`,onClick:Ue},{text:`Open in tree mode`,title:`Open the document in tree mode. Tree mode can handle large documents.`,onClick:We},{text:`Cancel`,title:`Cancel opening this large document.`,onClick:Ge}],onClose:xe})}var r=V(n,2),i=B(r,!0);I(r),U(e=>jr(i,e),[()=>(K(nb),W(j),K($b),G(()=>nb(W(j)||``,$b)))]),Y(e,t)};X(s,e=>{W(t)&&e(c)});var l=V(s,2),u=e=>{var t=yX(),n=Xt(t),i=e=>{eX(e,{get editorState(){return W(oe)}})};X(n,e=>{o()&&e(i)});var a=V(n,2),s=e=>{QD(e,{type:`error`,get icon(){return Kw},get message(){return W(Tt),G(()=>W(Tt).message)},get actions(){return W(r)},onClick:kt,onClose:xe})};X(a,e=>{W(Tt)&&e(s)});var c=V(a,2),l=e=>{{let t=St(()=>[{icon:gk,text:`Format`,title:`Format JSON: add proper indentation and new lines (Ctrl+I)`,onClick:Ne},{icon:Vw,text:`No thanks`,title:`Close this message`,onClick:()=>z(se,!1)}]);QD(e,{type:`success`,message:`Do you want to format the JSON?`,get actions(){return W(t)},onClose:xe})}};X(c,e=>{W(Tt),W(se),K(Tv),W(j),G(()=>!W(Tt)&&W(se)&&Tv(W(j)))&&e(l)}),aO(V(c,2),{get validationErrors(){return W(ce)},selectError:Ke}),Y(e,t)};X(l,e=>{W(t)||e(u)}),U(()=>a=li(i,1,`jse-contents svelte-1sed3tc`,null,a,{"jse-hidden":W(t)})),Y(e,n)},Bt=e=>{Y(e,xX())};return X(Rt,e=>{re?e(Bt,!1):e(zt)}),I(Mt),Ni(Mt,e=>z(ae,e),()=>W(ae)),U(()=>Nt=li(Mt,1,`jse-text-mode svelte-1sed3tc`,null,Nt,{"no-main-menu":!a()})),Y(e,Mt),ji(t,`focus`,xe),ji(t,`collapse`,Se),ji(t,`expand`,De),ji(t,`patch`,je),ji(t,`handlePatch`,Me),ji(t,`openTransformModal`,Ie),ji(t,`refresh`,ct),ji(t,`flush`,vt),ji(t,`validate`,Dt),ze(jt)}function wX(e,t){Re(t,!1);let n=Z(t,`containsValidArray`,9),r=Z(t,`readOnly`,9),i=Z(t,`showSearch`,13,!1),a=Z(t,`history`,9),o=Z(t,`onSort`,9),s=Z(t,`onTransform`,9),c=Z(t,`onContextMenu`,9),l=Z(t,`onUndo`,9),u=Z(t,`onRedo`,9),d=Z(t,`onRenderMenu`,9);function f(){i(!i())}let p=R(void 0,!0),m=R(void 0,!0);H(()=>(K(r()),K(o()),K(n()),K(s()),K(c()),K(l()),K(a()),K(u())),()=>{z(p,r()?[{type:`space`}]:[{type:`button`,icon:Gw,title:`Sort`,className:`jse-sort`,onClick:o(),disabled:r()||!n()},{type:`button`,icon:yw,title:`Transform contents (filter, sort, project)`,className:`jse-transform`,onClick:s(),disabled:r()||!n()},{type:`button`,icon:Sw,title:`Search (Ctrl+F)`,className:`jse-search`,onClick:f,disabled:!n()},{type:`button`,icon:Dw,title:rx,className:`jse-contextmenu`,onClick:c()},{type:`separator`},{type:`button`,icon:tT,title:`Undo (Ctrl+Z)`,className:`jse-undo`,onClick:l(),disabled:!a().canUndo},{type:`button`,icon:$w,title:`Redo (Ctrl+Shift+Z)`,className:`jse-redo`,onClick:u(),disabled:!a().canRedo},{type:`space`}])}),H(()=>(K(d()),W(p)),()=>{z(m,d()(W(p))||W(p))}),gn(),Li(!0),hO(e,{get items(){return W(m)}}),ze()}var TX=J(`<button type="button"> </button>`);function EX(e,t){Re(t,!1);let n=Z(t,`path`,9),r=Z(t,`value`,9),i=Z(t,`parser`,9),a=Z(t,`isSelected`,9),o=Z(t,`containsSearchResult`,9),s=Z(t,`containsActiveSearchResult`,9),c=Z(t,`onEdit`,9);Li(!0);var l=TX();let u;var d=B(l,!0);I(l),U(e=>{u=li(l,1,`jse-inline-value svelte-11x5eo4`,null,u,{"jse-selected":a(),"jse-highlight":o(),"jse-active":s()}),jr(d,e)},[()=>(K(nb),K(i()),K(r()),K(50),G(()=>nb(i().stringify(r())??``,50)))]),q(`dblclick`,l,()=>c()(n())),Y(e,l),ze()}var DX=J(`<span class="jse-column-sort-icon svelte-jv0pvc"><!></span>`),OX=J(`<button type="button"><span class="jse-column-name"> </span> <!></button>`);function kX(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=Z(t,`path`,9),o=Z(t,`sortedColumn`,9),s=Z(t,`readOnly`,9),c=Z(t,`onSort`,9);function l(){s()||c()({path:a(),sortDirection:W(r)===Mv.asc?Mv.desc:Mv.asc})}H(()=>(K(a()),iT),()=>{z(n,u_(a())?`values`:iT(a()))}),H(()=>(K(o()),K(a())),()=>{z(r,o()&&f_(a(),o()?.path)?o().sortDirection:void 0)}),H(()=>(W(r),cx),()=>{z(i,W(r)?cx[W(r)]:void 0)}),gn(),Li(!0);var u=OX();let d;var f=B(u),p=B(f,!0);I(f);var m=V(f,2),h=e=>{var t=DX(),n=B(t);{let e=St(()=>(W(r),K(Mv),K(eT),K(Yw),G(()=>W(r)===Mv.asc?eT:Yw)));bb(n,{get data(){return W(e)}})}I(t),U(()=>Si(t,`title`,`Currently sorted in ${W(i)} order`)),Y(e,t)};X(m,e=>{W(r)!==void 0&&e(h)}),I(u),U(e=>{d=li(u,1,`jse-column-header svelte-jv0pvc`,null,d,{"jse-readonly":s()}),Si(u,`title`,s()?W(n):W(n)+` (Click to sort the data by this column)`),jr(p,e)},[()=>(K(nb),W(n),K(50),G(()=>nb(W(n),50)))]),q(`click`,u,l),Y(e,u),ze()}var AX,jX;function MX(e,t){return AX||=(jX=new WeakMap,new ResizeObserver(e=>{for(let t of e){let e=jX.get(t.target);e&&e(t.target)}})),jX.set(e,t),AX.observe(e),{destroy:()=>{jX.delete(e),AX.unobserve(e)}}}var NX=J(`An empty document cannot be opened in table mode. You can go to tree mode instead, or paste
        a JSON Array using <b>Ctrl+V</b>.`,1),PX=J(`<button type="button" class="jse-nested-array-action svelte-t7oile">Extract</button>`),FX=J(`<div class="jse-nested-property svelte-t7oile"><div class="jse-nested-property-path svelte-t7oile"> <span class="jse-nested-property-count svelte-t7oile"> </span></div> <button type="button" class="jse-nested-array-action svelte-t7oile"> </button> <!></div>`),IX=J(`<div class="jse-table-mode-welcome svelte-t7oile" role="none"><div class="jse-space jse-before svelte-t7oile"></div> <div class="jse-nested-arrays svelte-t7oile"><div class="jse-nested-arrays-title"> </div> <div class="jse-nested-arrays-info svelte-t7oile"><!></div> <!> <button type="button" class="jse-nested-array-action svelte-t7oile">Switch to tree mode</button></div> <div class="jse-space jse-after svelte-t7oile"></div></div>`);function LX(e,t){Re(t,!0);let n=xt(()=>t.json?_A(t.json).slice(0,99).filter(e=>e.length>0):[]),r=xt(()=>!u_(W(n))),i=xt(()=>t.json===void 0&&(t.text===``||t.text===void 0)),a=xt(()=>W(r)?`Object with nested arrays`:W(i)?`An empty document`:ca(t.json)?`An object`:sa(t.json)?`An empty array`:`A ${Jo(t.json,t.parser)}`);function o(e){return Sa(t.json,e).length}var s=IX();s.__click=()=>t.onClick();var c=V(B(s),2),l=B(c),u=B(l,!0);I(l);var d=V(l,2),f=B(d),p=e=>{Y(e,kr(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`))},m=e=>{var n=Ar(),r=Xt(n),o=e=>{var t=NX();De(2),Y(e,t)},s=e=>{var t=kr();U(()=>jr(t,`${W(a)??``} cannot be opened in table mode. You can open the document in tree mode instead.`)),Y(e,t)};X(r,e=>{W(i)&&!t.readOnly?e(o):e(s,!1)},!0),Y(e,n)};X(f,e=>{W(r)?e(p):e(m,!1)}),I(d);var h=V(d,2);Hr(h,17,()=>W(n),Rr,(e,n)=>{let r=xt(()=>o(W(n)));var i=FX(),a=B(i),s=B(a),c=V(s),l=B(c);I(c),I(a);var u=V(a,2);u.__click=()=>t.openJSONEditorModal(W(n));var d=B(u,!0);I(u);var f=V(u,2),p=e=>{var r=PX();r.__click=()=>t.extractPath(W(n)),Y(e,r)};X(f,e=>{t.readOnly||e(p)}),I(i),U(e=>{jr(s,`"${e??``}" `),jr(l,`(${W(r)??``} ${W(r)===1?`item`:`items`})`),jr(d,t.readOnly?`View`:`Edit`)},[()=>iT(W(n))]),Y(e,i)});var g=V(h,2);g.__click=()=>t.onChangeMode(Dv.tree),I(c),De(2),I(s),U(()=>jr(u,W(a))),Y(e,s),ze()}Sr([`click`]);var RX=J(`<button type="button"><!></button>`);function zX(e,t){Re(t,!1);let n=Z(t,`count`,9),r=Z(t,`maxSampleCount`,9),i=Z(t,`readOnly`,9),a=Z(t,`onRefresh`,9);Li(!0);var o=RX();let s;bb(B(o),{get data(){return gw}}),I(o),U(()=>{s=li(o,1,`jse-column-header svelte-gfc1zr`,null,s,{"jse-readonly":i()}),Si(o,`title`,`The Columns are created by sampling ${r()} items out of ${n()}. If you're missing a column, click here to sample all of the items instead of a subset. This is slower.`)}),q(`click`,o,()=>a()()),Y(e,o),ze()}function BX({json:e,documentState:t,selection:n,readOnly:r,onEditValue:i,onEditRow:a,onToggleEnforceString:o,onCut:s,onCopy:c,onPaste:l,onRemove:u,onDuplicateRow:d,onInsertBeforeRow:f,onInsertAfterRow:p,onRemoveRow:m}){let h=e!==void 0,g=!!n,_=e!==void 0&&n?Sa(e,pC(n)):void 0,v=h&&(DS(n)||TS(n)||ES(n)),y=!r&&h&&n!==void 0&&KS(n),b=y&&!Ho(_),x=!r&&v,S=n===void 0?!1:dS(e,t,pC(n));return[{type:`separator`},{type:`row`,items:[{type:`column`,items:[{type:`label`,text:`Table cell:`},{type:`dropdown-button`,main:{type:`button`,onClick:()=>i(),icon:Hw,text:`Edit`,title:`Edit the value (Double-click on the value)`,disabled:!y},width:`11em`,items:[{type:`button`,icon:Hw,text:`Edit`,title:`Edit the value (Double-click on the value)`,onClick:()=>i(),disabled:!y},{type:`button`,icon:S?Aw:nT,text:`Enforce string`,title:`Enforce keeping the value as string when it contains a numeric value`,onClick:()=>o(),disabled:!b}]},{type:`dropdown-button`,main:{type:`button`,onClick:()=>s(!0),icon:qw,text:`Cut`,title:`Cut selected contents, formatted with indentation (Ctrl+X)`,disabled:!x},width:`10em`,items:[{type:`button`,icon:qw,text:`Cut formatted`,title:`Cut selected contents, formatted with indentation (Ctrl+X)`,onClick:()=>s(!0),disabled:r||!v},{type:`button`,icon:qw,text:`Cut compacted`,title:`Cut selected contents, without indentation (Ctrl+Shift+X)`,onClick:()=>s(!1),disabled:r||!v}]},{type:`dropdown-button`,main:{type:`button`,onClick:()=>c(!0),icon:Qw,text:`Copy`,title:`Copy selected contents, formatted with indentation (Ctrl+C)`,disabled:!v},width:`12em`,items:[{type:`button`,icon:Qw,text:`Copy formatted`,title:`Copy selected contents, formatted with indentation (Ctrl+C)`,onClick:()=>c(!1),disabled:!v},{type:`button`,icon:Qw,text:`Copy compacted`,title:`Copy selected contents, without indentation (Ctrl+Shift+C)`,onClick:()=>c(!1),disabled:!v}]},{type:`button`,onClick:()=>l(),icon:_w,text:`Paste`,title:`Paste clipboard contents (Ctrl+V)`,disabled:r||!g},{type:`button`,onClick:()=>u(),icon:Lw,text:`Remove`,title:`Remove selected contents (Delete)`,disabled:r||!v}]},{type:`column`,items:[{type:`label`,text:`Table row:`},{type:`button`,onClick:()=>a(),icon:Hw,text:`Edit row`,title:`Edit the current row`,disabled:r||!g||!h},{type:`button`,onClick:()=>d(),icon:kw,text:`Duplicate row`,title:`Duplicate the current row (Ctrl+D)`,disabled:r||!g||!h},{type:`button`,onClick:()=>f(),icon:Zw,text:`Insert before`,title:`Insert a row before the current row`,disabled:r||!g||!h},{type:`button`,onClick:()=>p(),icon:Zw,text:`Insert after`,title:`Insert a row after the current row`,disabled:r||!g||!h},{type:`button`,onClick:()=>m(),icon:Lw,text:`Remove row`,title:`Remove current row`,disabled:r||!g||!h}]}]}]}var VX=J(`<div class="jse-table-root-error svelte-m90oz6"><!></div>`),HX=J(`<th class="jse-table-cell jse-table-cell-header svelte-m90oz6"><!></th>`),UX=J(`<th class="jse-table-cell jse-table-cell-header svelte-m90oz6"><!></th>`),WX=J(`<th class="jse-table-cell jse-table-cell-gutter svelte-m90oz6"> <!></th>`),GX=J(`<div class="jse-context-menu-anchor svelte-m90oz6"><!></div>`),KX=J(`<td class="jse-table-cell svelte-m90oz6"><div><!><!></div> <!></td>`),qX=J(`<td class="jse-table-cell svelte-m90oz6"></td>`),JX=J(`<tr class="jse-table-row svelte-m90oz6"><!><!><!></tr>`),YX=J(`<div class="jse-search-box-container svelte-m90oz6"><!></div> <div class="jse-contents svelte-m90oz6"><table class="jse-table-main svelte-m90oz6"><tbody><tr class="jse-table-row jse-table-row-header svelte-m90oz6"><th class="jse-table-cell jse-table-cell-header svelte-m90oz6"><!></th><!><!></tr><tr><td class="svelte-m90oz6"></td></tr><!><tr class="jse-table-invisible-end-section svelte-m90oz6"><td class="svelte-m90oz6"></td></tr></tbody></table></div> <!> <!> <!> <!>`,1),XX=J(`<!> <!>`,1),ZX=J(`<label class="jse-hidden-input-label svelte-m90oz6"><input type="text" tabindex="-1" class="jse-hidden-input svelte-m90oz6"/></label> <!>`,1),QX=J(`<div class="jse-contents jse-contents-loading svelte-m90oz6"><div class="jse-loading-space svelte-m90oz6"></div> <div class="jse-loading svelte-m90oz6">loading...</div></div>`),$X=J(`<div role="table"><!> <!></div> <!> <!>`,1);function eZ(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=$i(`jsoneditor:TableMode`),{openAbsolutePopup:o,closeAbsolutePopup:s}=Ie(`absolute-popup`),c=zD(),l=W_(),u=W_(),d=typeof window>`u`;a(`isSSR:`,d);let f=Z(t,`readOnly`,9),p=Z(t,`externalContent`,9),m=Z(t,`externalSelection`,9),h=Z(t,`history`,9),g=Z(t,`truncateTextSize`,9),_=Z(t,`mainMenuBar`,9),v=Z(t,`escapeControlCharacters`,9),y=Z(t,`escapeUnicodeCharacters`,9),b=Z(t,`flattenColumns`,9),x=Z(t,`parser`,9),S=Z(t,`parseMemoizeOne`,9),C=Z(t,`validator`,9),w=Z(t,`validationParser`,9),T=Z(t,`indentation`,9),ee=Z(t,`onChange`,9),te=Z(t,`onChangeMode`,9),E=Z(t,`onSelect`,9),ne=Z(t,`onUndo`,9),re=Z(t,`onRedo`,9),ie=Z(t,`onRenderValue`,9),ae=Z(t,`onRenderMenu`,9),D=Z(t,`onRenderContextMenu`,9),oe=Z(t,`onFocus`,9),O=Z(t,`onBlur`,9),se=Z(t,`onSortModal`,9),ce=Z(t,`onTransformModal`,9),le=Z(t,`onJSONEditorModal`,9),ue=R(void 0,!0),de=R(void 0,!0),fe=R(void 0,!0),pe=R(void 0,!0),me=R(void 0,!0);YD({onMount:qi,onDestroy:Ji,getWindow:()=>ey(W(de)),hasFocus:()=>F&&document.hasFocus()||ty(W(de)),onFocus:()=>{Te=!0,oe()&&oe()()},onBlur:()=>{Te=!1,O()&&O()()}});let k=R(void 0,!0),he=R(void 0,!0),ge=R(void 0,!0),A=R(void 0,!0),j=R(void 0,!0),_e,ve=R(void 0,!0),M=R(!1,!0),N=R(!1,!0);function ye(e){if(!W(fe))return;let t=e?100:-100;W(fe).scrollTo({top:Mt(fe,W(fe).scrollTop+=t),left:W(fe).scrollLeft})}function be(e){_e=e,z(ve,_e?tw(W(k),_e.items):void 0)}async function xe(e){z(L,void 0),await lt(e)}function Se(){z(M,!1),z(N,!1),tt()}let Ce=R(1e4,!0),P=R([],!0),we=R(void 0,!0),F=!1,Te=!1,Ee=R(!1,!0),De=R({},!0),Oe=R(600,!0),ke=R(0,!0);function Ae(e){W(fe)&&W(fe).scrollTo({top:W(fe).scrollTop,left:W(fe).scrollLeft})}function je(e){z(L,e)}function Me(e){f_(e,m())||(a(`onSelect`,e),E()(e))}function Ne(e){!W(L)||e===void 0||Oa(e,mC(W(L)))&&Oa(e,pC(W(L)))||(a(`clearing selection: path does not exist anymore`,W(L)),z(L,void 0))}let Pe=R(W(k)===void 0?void 0:Fx({json:W(k)}),!0),L=R(kS(m())?m():void 0,!0),Fe=R(void 0,!0),Le=R(!1,!0);qi(()=>{W(L)&&ft(pC(W(L)))});function Be(e){if(f())return;a(`onSortByHeader`,e);let t=[],n=e.sortDirection===Mv.desc?-1:1;Xe(wk(W(k),t,e.path,n),(t,n)=>({state:n,sortedColumn:e}))}let Ve=R(void 0,!0);function He(e){let t={json:W(k)},n=mv(e)?e.text!==W(he):!f_(t.json,e.json);if(a(`update external content`,{isChanged:n}),!n)return;let r={json:W(k),documentState:W(Pe),selection:W(L),sortedColumn:W(Fe),text:W(he),textIsRepaired:W(Le)};if(mv(e))try{z(k,S()(e.text)),z(Pe,Vx(W(k),W(Pe))),z(he,e.text),z(Le,!1),z(ge,void 0)}catch(t){try{z(k,S()(Io(e.text))),z(Pe,Vx(W(k),W(Pe))),z(he,e.text),z(Le,!0),z(ge,void 0)}catch{z(k,void 0),z(Pe,void 0),z(he,e.text),z(Le,!1),z(ge,W(he)===``?void 0:cv(W(he),t.message||String(t)))}}else z(k,e.json),z(Pe,Vx(W(k),W(Pe))),z(he,void 0),z(Le,!1),z(ge,void 0);Ne(W(k)),z(Fe,void 0),We(r)}function Ue(e){f_(W(L),e)||(a(`applyExternalSelection`,{selection:W(L),externalSelection:e}),kS(e)&&z(L,e))}function We(e){if(e.json===void 0&&e.text===void 0)return;let t=W(k)!==void 0&&e.json!==void 0;h().add({type:`tree`,undo:{patch:t?[{op:`replace`,path:``,value:e.json}]:void 0,json:e.json,text:e.text,documentState:e.documentState,textIsRepaired:e.textIsRepaired,selection:YS(e.selection),sortedColumn:e.sortedColumn},redo:{patch:t?[{op:`replace`,path:``,value:W(k)}]:void 0,json:W(k),text:W(he),documentState:W(Pe),textIsRepaired:W(Le),selection:YS(W(L)),sortedColumn:W(Fe)}})}let Ge=R([],!0),Ke=Xk(GD);function qe(e,t,n,r){BD(()=>{let i;try{i=Ke(e,t,n,r)}catch(e){i=[{path:[],message:`Failed to validate: `+e.message,severity:Av.warning}]}f_(i,W(Ge))||(a(`validationErrors changed:`,i),z(Ge,i))},e=>a(`validationErrors updated in ${e} ms`))}function Je(){return a(`validate`),W(ge)?{parseError:W(ge),isRepairable:!1}:(qe(W(k),C(),x(),w()),u_(W(Ge))?void 0:{validationErrors:W(Ge)})}function Ye(e,t){if(a(`patch`,e,t),W(k)===void 0)throw Error(`Cannot apply patch: no JSON`);let n=W(k),r={json:void 0,text:W(he),documentState:W(Pe),selection:YS(W(L)),sortedColumn:W(Fe),textIsRepaired:W(Le)},i=NC(W(k),e),o=Qx(W(k),W(Pe),e),s=hA(W(Fe),e,W(P)),c=typeof t==`function`?t(o.json,o.documentState,W(L)):void 0;return z(k,c?.json===void 0?o.json:c.json),z(Pe,c?.state===void 0?o.documentState:c.state),z(L,c?.selection===void 0?W(L):c.selection),z(Fe,c?.sortedColumn===void 0?s:c.sortedColumn),z(he,void 0),z(Le,!1),z(A,void 0),z(j,void 0),z(ge,void 0),h().add({type:`tree`,undo:{patch:i,...r},redo:{patch:e,json:void 0,text:void 0,documentState:W(Pe),selection:YS(W(L)),sortedColumn:W(Fe),textIsRepaired:W(Le)}}),{json:W(k),previousJson:n,undo:i,redo:e}}function Xe(e,t){a(`handlePatch`,e,t);let n={json:W(k),text:W(he)},r=Ye(e,t);return Ze(n,r),r}function Ze(e,t){if(!(e.json===void 0&&e?.text===void 0)&&ee()){if(W(he)!==void 0){let n={text:W(he),json:void 0};ee()(n,e,{contentErrors:Je(),patchResult:t})}else if(W(k)!==void 0){let n={text:void 0,json:W(k)};ee()(n,e,{contentErrors:Je(),patchResult:t})}}}function Qe(e){a(`pasted json as text`,e),z(A,e)}function $e(e){a(`pasted multiline text`,{pastedText:e}),z(j,e)}function et(e){let t=parseInt(e[0],10),n=[String(t+1),...e.slice(1)];return Oa(W(k),n)?QS(n):QS(e)}function tt(){a(`focus`),W(pe)&&(W(pe).focus(),W(pe).select())}function nt(e){Zv(e.target,e=>e===W(de))||iC(W(L))&&(a(`click outside the editor, exit edit mode`),z(L,YS(W(L))),Te&&W(pe)&&(W(pe).focus(),W(pe).blur()),a(`blur (outside editor)`),W(pe)&&W(pe).blur())}function rt(e){z(ke,e.target.scrollTop)}function at(e){if(e.buttons!==1&&e.buttons!==2)return;let t=e.target;t.isContentEditable||tt();let n=oy(t);if(n){if(iC(W(L))&&dC(W(k),W(L),n))return;z(L,QS(n)),e.preventDefault()}}function ot(){if(sa(W(k))&&!u_(W(k))&&!u_(W(P)))return QS([`0`,...W(P)[0]])}function st(){W(L)||z(L,ot())}function ct(){if(W(Le)&&W(k)!==void 0){let e={json:W(k),text:W(he)},t={json:W(k),documentState:W(Pe),selection:W(L),sortedColumn:W(Fe),text:W(he),textIsRepaired:W(Le)};z(he,void 0),z(Le,!1),Ne(W(k)),We(t),Ze(e,void 0)}return{json:W(k),text:W(he)}}function lt(e,{scrollToWhenVisible:t=!0}={}){let n=W(M)?100:0,r=rA(e,W(P),De,18),i=r-W(ke)+n+18,o=pt(e);if(a(`scrollTo`,{path:e,top:r,scrollTop:W(ke),elem:o}),!W(fe))return Promise.resolve();let s=W(fe).getBoundingClientRect();if(o&&!t){let e=o.getBoundingClientRect();if(e.bottom>s.top&&e.top<s.bottom)return Promise.resolve()}let l=-Math.max(n+36,s.height/4);return o?new Promise(t=>{c(o,{container:W(fe),offset:l,duration:300,callback:()=>{dt(e),t()}})}):new Promise(t=>{c(i,{container:W(fe),offset:l,duration:300,callback:()=>{it(),dt(e),t()}})})}function ut(e){if(!W(fe))return;let{rowIndex:t}=lA(e,W(P)),n=rA(e,W(P),De,18),r=n+(De[t]||18),i=W(fe).getBoundingClientRect(),a=W(ke),o=W(ke)+i.height-18;if(r>o){let e=r-o;Mt(fe,W(fe).scrollTop+=e)}if(n<a){let e=a-n;Mt(fe,W(fe).scrollTop-=e)}}function dt(e){let t=pt(e);if(!t||!W(fe))return;let n=W(fe).getBoundingClientRect(),r=t.getBoundingClientRect();if(r.right>n.right){let e=r.right-n.right;Mt(fe,W(fe).scrollLeft+=e)}if(r.left<n.left){let e=n.left-r.left;Mt(fe,W(fe).scrollLeft-=e)}}function ft(e){ut(e),dt(e)}function pt(e){let t=W(P).find(t=>JS(e.slice(1),t)),n=t?e.slice(0,1).concat(t):e;return W(fe)?.querySelector(`td[data-path="${iy(n)}"]`)??void 0}function mt({anchor:e,left:t,top:n,width:r,height:i,offsetTop:a,offsetLeft:c,showTip:l}){let u=BX({json:W(k),documentState:W(Pe),selection:W(L),readOnly:f(),onEditValue:_t,onEditRow:vt,onToggleEnforceString:yt,onCut:Dt,onCopy:Ot,onPaste:xt,onRemove:kt,onDuplicateRow:jt,onInsertBeforeRow:Nt,onInsertAfterRow:Pt,onRemoveRow:Ft}),d=D()(u)??u;if(d===!1)return;let p={tip:l?`Tip: you can open this context menu via right-click or with Ctrl+Q`:void 0,items:d,onRequestClose(){s(h),tt()}},m={left:t,top:n,offsetTop:a,offsetLeft:c,width:r,height:i,anchor:e,closeOnOuterClick:!0,onClose:()=>{F=!1,tt()}};F=!0;let h=o(JA,p,m)}function ht(e){if(!iC(W(L)))if(e&&(e.stopPropagation(),e.preventDefault()),e&&e.type===`contextmenu`&&e.target!==W(pe))mt({left:e.clientX,top:e.clientY,width:260,height:336,showTip:!1});else{let e=W(fe)?.querySelector(`.jse-table-cell.jse-selected-value`);if(e)mt({anchor:e,offsetTop:2,width:260,height:336,showTip:!1});else{let e=W(fe)?.getBoundingClientRect();e&&mt({top:e.top+2,left:e.left+2,width:260,height:336,showTip:!1})}}}function gt(e){mt({anchor:ny(e.target,`BUTTON`),offsetTop:0,width:260,height:336,showTip:!0})}function _t(){if(f()||!W(L))return;let e=pC(W(L));Ho(Sa(W(k),e))?Kt(e):z(L,QS(e))}function vt(){f()||!W(L)||Kt(pC(W(L)).slice(0,1))}function yt(){if(f()||!ES(W(L)))return;let e=W(L).path,t=Aa(e),n=Sa(W(k),e),r=!dS(W(k),W(Pe),e),i=r?String(n):Zo(String(n),x());a(`handleToggleEnforceString`,{enforceString:r,value:n,updatedValue:i}),Xe([{op:`replace`,path:t,value:i}],(t,n)=>({state:rS(W(k),n,e,{type:`value`,enforceString:r})}))}async function bt(){if(a(`apply pasted json`,W(A)),!W(A))return;let{onPasteAsJson:e}=W(A);e(),setTimeout(tt)}async function xt(){try{zt(await navigator.clipboard.readText())}catch(e){console.error(e),z(Ee,!0)}}async function Ct(){a(`apply pasted multiline text`,W(j)),W(j)&&(zt(JSON.stringify(W(j))),setTimeout(tt))}function wt(){a(`clear pasted json`),z(A,void 0),tt()}function Tt(){a(`clear pasted multiline text`),z(j,void 0),tt()}function Et(){te()(Dv.text)}async function Dt(e){await yA({json:W(k),selection:W(L),indentation:e?T():void 0,readOnly:f(),parser:x(),onPatch:Xe})}async function Ot(e=!0){W(k)!==void 0&&await bA({json:W(k),selection:W(L),indentation:e?T():void 0,parser:x()})}function kt(){CA({json:W(k),text:W(he),selection:W(L),keepSelection:!0,readOnly:f(),onChange:ee(),onPatch:Xe})}function At(e){f()||(a(`extract`,{path:e}),Xe(TC(W(k),QS(e))))}function jt(){wA({json:W(k),selection:W(L),columns:W(P),readOnly:f(),onPatch:Xe})}function Nt(){TA({json:W(k),selection:W(L),columns:W(P),readOnly:f(),onPatch:Xe})}function Pt(){EA({json:W(k),selection:W(L),columns:W(P),readOnly:f(),onPatch:Xe})}function Ft(){DA({json:W(k),selection:W(L),columns:W(P),readOnly:f(),onPatch:Xe})}async function It(e){await kA({char:e,selectInside:!1,json:W(k),selection:W(L),readOnly:f(),parser:x(),onPatch:Xe,onReplaceJson:Bt,onSelect:je})}function Lt(e){let t=ly(e);if(a(`keydown`,{combo:t,key:e.key}),t===`Ctrl+X`&&(e.preventDefault(),Dt(!0)),t===`Ctrl+Shift+X`&&(e.preventDefault(),Dt(!1)),t===`Ctrl+C`&&(e.preventDefault(),Ot(!0)),t===`Ctrl+Shift+C`&&(e.preventDefault(),Ot(!1)),t===`Ctrl+D`&&(e.preventDefault(),jt()),(t===`Delete`||t===`Backspace`)&&(e.preventDefault(),kt()),t===`Insert`&&e.preventDefault(),t===`Ctrl+A`&&e.preventDefault(),t===`Ctrl+Q`&&ht(e),t===`ArrowLeft`&&(e.preventDefault(),st(),W(L))){let e=sA(W(P),W(L));z(L,e),ft(pC(e))}if(t===`ArrowRight`&&(e.preventDefault(),st(),W(L))){let e=cA(W(P),W(L));z(L,e),ft(pC(e))}if(t===`ArrowUp`&&(e.preventDefault(),st(),W(L))){let e=aA(W(P),W(L));z(L,e),ft(pC(e))}if(t===`ArrowDown`&&(e.preventDefault(),st(),W(L))){let e=oA(W(k),W(P),W(L));z(L,e),ft(pC(e))}if(t===`Enter`&&W(L)&&ES(W(L))){e.preventDefault();let t=W(L).path;Ho(Sa(W(k),t))?Kt(t):f()||z(L,{...W(L),edit:!0})}if(t.replace(/^Shift\+/,``).length===1&&W(L)){e.preventDefault(),It(e.key);return}if(t===`Ctrl+Enter`&&ES(W(L))){e.preventDefault();let t=Sa(W(k),W(L).path);Xo(t)&&window.open(String(t),`_blank`)}t===`Escape`&&W(L)&&(e.preventDefault(),z(L,void 0)),t===`Ctrl+F`&&(e.preventDefault(),Zt(!1)),t===`Ctrl+H`&&(e.preventDefault(),Zt(!0)),t===`Ctrl+Z`&&(e.preventDefault(),Qt()),t===`Ctrl+Shift+Z`&&(e.preventDefault(),$t())}function Rt(e){e.preventDefault();let t=e.clipboardData?.getData(`text/plain`);zt(t)}function zt(e){e!==void 0&&xA({clipboardText:e,json:W(k),selection:W(L),readOnly:f(),parser:x(),onPatch:Xe,onChangeText:Ht,onPasteMultilineText:$e,openRepairModal:qt})}function Bt(e,t){let n={json:W(k),text:W(he)},r={json:W(k),documentState:W(Pe),selection:W(L),sortedColumn:W(Fe),text:W(he),textIsRepaired:W(Le)},i=Vx(e,W(Pe)),a=typeof t==`function`?t(e,i,W(L)):void 0;z(k,a?.json===void 0?e:a.json),z(Pe,a?.state===void 0?i:a.state),z(L,a?.selection===void 0?W(L):a.selection),z(Fe,void 0),z(he,void 0),z(Le,!1),z(ge,void 0),Ne(W(k)),We(r),Ze(n,void 0)}function Ht(e,t){a(`handleChangeText`);let n={json:W(k),text:W(he)},r={json:W(k),documentState:W(Pe),selection:W(L),sortedColumn:W(Fe),text:W(he),textIsRepaired:W(Le)};try{z(k,S()(e)),z(Pe,Vx(W(k),W(Pe))),z(he,void 0),z(Le,!1),z(ge,void 0)}catch(t){try{z(k,S()(Io(e))),z(Pe,Vx(W(k),W(Pe))),z(he,e),z(Le,!0),z(ge,void 0)}catch{z(k,void 0),z(Pe,void 0),z(he,e),z(Le,!1),z(ge,W(he)===``?void 0:cv(W(he),t.message||String(t)))}}if(typeof t==`function`){let e=t(W(k),W(Pe),W(L));z(k,e?.json===void 0?W(k):e.json),z(Pe,e?.state===void 0?W(Pe):e.state),z(L,e?.selection===void 0?W(L):e.selection)}Ne(W(k)),We(r),Ze(n,void 0)}function Ut(e){a(`select validation error`,e),z(L,QS(e.path)),lt(e.path)}function Wt(e){f()||W(k)===void 0||(F=!0,se()({id:l,json:W(k),rootPath:e,onSort:({operations:t,itemPath:n,direction:r})=>{a(`onSort`,t,e,n,r),Xe(t,(e,t)=>({state:t,sortedColumn:{path:n,sortDirection:r===-1?Mv.desc:Mv.asc}}))},onClose:()=>{F=!1,setTimeout(tt)}}))}function Gt(e){if(W(k)===void 0)return;let{id:t,onTransform:n,onClose:r}=e,i=e.rootPath||[];F=!0,ce()({id:t||u,json:W(k),rootPath:i||[],onTransform:e=>{n?n({operations:e,json:W(k),transformedJson:Na(W(k),e)}):(a(`onTransform`,i,e),Xe(e))},onClose:()=>{F=!1,setTimeout(tt),r&&r()}})}function Kt(e){a(`openJSONEditorModal`,{path:e}),F=!0,le()({content:{json:Sa(W(k),e)},path:e,onPatch:Xe,onClose:()=>{F=!1,setTimeout(tt)}})}function qt(e,t){z(me,{text:e,onParse:e=>av(e,e=>rv(e,x())),onRepair:ov,onApply:t,onClose:tt})}function Jt(){Wt([])}function Yt(){Gt({rootPath:[]})}function Zt(e){a(`openFind`,{findAndReplace:e}),z(M,!1),z(N,!1),it(),z(M,!0),z(N,e)}function Qt(){if(f()||!h().canUndo)return;let e=h().undo();if(!jx(e)){ne()(e);return}let t={json:W(k),text:W(he)};z(k,e.undo.patch?Na(W(k),e.undo.patch):e.undo.json),z(Pe,e.undo.documentState),z(L,e.undo.selection),z(Fe,e.undo.sortedColumn),z(he,e.undo.text),z(Le,e.undo.textIsRepaired),z(ge,void 0),a(`undo`,{item:e,json:W(k)}),Ze(t,e.undo.patch&&e.redo.patch?{json:W(k),previousJson:t.json,redo:e.undo.patch,undo:e.redo.patch}:void 0),tt(),W(L)&&lt(pC(W(L)),{scrollToWhenVisible:!1})}function $t(){if(f()||!h().canRedo)return;let e=h().redo();if(!jx(e)){re()(e);return}let t={json:W(k),text:W(he)};z(k,e.redo.patch?Na(W(k),e.redo.patch):e.redo.json),z(Pe,e.redo.documentState),z(L,e.redo.selection),z(Fe,e.redo.sortedColumn),z(he,e.redo.text),z(Le,e.redo.textIsRepaired),z(ge,void 0),a(`redo`,{item:e,json:W(k)}),Ze(t,e.undo.patch&&e.redo.patch?{json:W(k),previousJson:t.json,redo:e.redo.patch,undo:e.undo.patch}:void 0),tt(),W(L)&&lt(pC(W(L)),{scrollToWhenVisible:!1})}function en(e){z(Oe,e.getBoundingClientRect().height)}function tn(e,t){De[t]=e.getBoundingClientRect().height}H(()=>(K(v()),K(y())),()=>{z(ue,Pv({escapeControlCharacters:v(),escapeUnicodeCharacters:y()}))}),H(()=>W(M),()=>{ye(W(M))}),H(()=>K(p()),()=>{He(p())}),H(()=>K(m()),()=>{Ue(m())}),H(()=>(W(P),W(k),K(b()),W(Ce)),()=>{z(P,sa(W(k))?tA(Qk(W(k),b(),W(Ce)),W(P)):[])}),H(()=>(W(k),W(P)),()=>{z(we,!!(W(k)&&!u_(W(P))))}),H(()=>(W(k),W(Ce)),()=>{z(n,Array.isArray(W(k))&&W(k).length>W(Ce))}),H(()=>(W(ke),W(Oe),W(k),W(M),100),()=>{z(r,nA(W(ke),W(Oe),W(k),De,18,W(M)?100:0))}),H(()=>W(k),()=>{Ae(W(k))}),H(()=>W(L),()=>{Me(W(L))}),H(()=>(K(f()),K(g()),K(x()),W(ue),W(k),W(Pe),K(ie())),()=>{z(Ve,{mode:Dv.table,readOnly:f(),truncateTextSize:g(),parser:x(),normalization:W(ue),getJson:()=>W(k),getDocumentState:()=>W(Pe),findElement:pt,findNextInside:et,focus:tt,onPatch:(e,t)=>Xe(zC(e,W(k)),t),onSelect:je,onFind:Zt,onPasteJson:Qe,onRenderValue:ie()})}),H(()=>(W(k),K(C()),K(x()),K(w())),()=>{qe(W(k),C(),x(),w())}),H(()=>(W(Ge),W(P)),()=>{z(i,dA(W(Ge),W(P)))}),gn();var nn={validate:Je,patch:Ye,focus:tt,acceptAutoRepair:ct,scrollTo:lt,findElement:pt,openTransformModal:Gt};Li(!0);var rn=$X();q(`mousedown`,Vt,nt);var an=Xt(rn);let on;var sn=B(an),cn=e=>{wX(e,{get containsValidArray(){return W(we)},get readOnly(){return f()},get history(){return h()},onSort:Jt,onTransform:Yt,onUndo:Qt,onRedo:$t,onContextMenu:gt,get onRenderMenu(){return ae()},get showSearch(){return W(M)},set showSearch(e){z(M,e)},$$legacy:!0})};X(sn,e=>{_()&&e(cn)});var ln=V(sn,2),un=e=>{var t=ZX(),a=Xt(t),o=B(a);o.readOnly=!0,Ni(o,e=>z(pe,e),()=>W(pe)),I(a);var s=V(a,2),c=e=>{var t=YX(),a=Xt(t);Kk(B(a),{get json(){return W(k)},get documentState(){return W(Pe)},get parser(){return x()},get showSearch(){return W(M)},get showReplace(){return W(N)},get readOnly(){return f()},get columns(){return W(P)},onSearch:be,onFocus:xe,onPatch:Xe,onClose:Se}),I(a);var o=V(a,2),s=B(o),c=B(s),l=B(c),u=B(l),d=B(u),p=e=>{let t=St(()=>(K(fA),W(i),G(()=>fA([],W(i)?.root))));var n=Ar(),r=Xt(n),a=e=>{var n=VX();IO(B(n),{get validationError(){return W(t)},get onExpand(){return gj}}),I(n),Y(e,n)};X(r,e=>{W(t)&&e(a)}),Y(e,n)};X(d,e=>{K(u_),W(i),G(()=>!u_(W(i)?.root))&&e(p)}),I(u);var m=V(u);Hr(m,1,()=>W(P),Rr,(e,t)=>{var n=HX();kX(B(n),{get path(){return W(t)},get sortedColumn(){return W(Fe)},get readOnly(){return f()},onSort:Be}),I(n),Y(e,n)});var h=V(m),g=e=>{var t=UX(),n=B(t);{let e=St(()=>(W(k),G(()=>Array.isArray(W(k))?W(k).length:0)));zX(n,{get count(){return W(e)},get maxSampleCount(){return W(Ce)},get readOnly(){return f()},onRefresh:()=>z(Ce,1/0)})}I(t),Y(e,t)};X(h,e=>{W(n)&&e(g)}),I(l);var _=V(l);let v;var y=B(_);let b;I(_);var S=V(_);Hr(S,1,()=>(W(r),G(()=>W(r).visibleItems)),Rr,(e,t,a)=>{let o=St(()=>(W(r),G(()=>W(r).startIndex+a))),s=St(()=>(W(i),K(W(o)),G(()=>W(i).rows[W(o)]))),c=St(()=>(K(fA),K(W(o)),K(W(s)),G(()=>fA([String(W(o))],W(s)?.row)))),l=St(()=>(K(eS),W(k),W(ve),K(W(o)),G(()=>eS(W(k),W(ve),[String(W(o))]))));var u=JX(),d=B(u);Lr(d,()=>W(o),e=>{var t=WX(),n=B(t),r=V(n),i=e=>{IO(e,{get validationError(){return W(c)},get onExpand(){return gj}})};X(r,e=>{W(c)&&e(i)}),I(t),$r(t,(e,t)=>MX?.(e,t),()=>e=>tn(e,W(o))),U(()=>jr(n,`${W(o)??``} `)),Y(e,t)});var p=V(d);Hr(p,1,()=>W(P),Rr,(e,n,r,i)=>{let a=St(()=>(K(W(o)),W(n),G(()=>[String(W(o))].concat(W(n))))),c=St(()=>(K(Sa),W(t),W(n),G(()=>Sa(W(t),W(n))))),u=St(()=>(K(ES),W(L),K(JS),K(W(a)),G(()=>ES(W(L))&&JS(W(L).path,W(a))))),d=St(()=>(K(W(s)),G(()=>W(s)?.columns[r]))),p=St(()=>(K(fA),K(W(a)),K(W(d)),G(()=>fA(W(a),W(d)))));var m=KX(),h=B(m);let g;var _=B(h),v=e=>{let r=St(()=>(K(nw),K(eS),W(t),K(W(l)),W(n),G(()=>nw(eS(W(t),W(l),W(n)))))),i=St(()=>(K(W(r)),G(()=>W(r)?W(r).some(e=>e.active):!1)));{let t=St(()=>(K(u_),K(W(r)),G(()=>!u_(W(r)))));EX(e,{get path(){return W(a)},get value(){return W(c)},get parser(){return x()},get isSelected(){return W(u)},get containsSearchResult(){return W(t)},get containsActiveSearchResult(){return W(i)},onEdit:Kt})}},y=e=>{let t=St(()=>(K(eS),W(k),W(ve),K(W(a)),G(()=>eS(W(k),W(ve),W(a))?.searchResults)));{let n=St(()=>W(c)===void 0?``:W(c)),r=St(()=>(K(dS),W(k),W(Pe),K(W(a)),G(()=>dS(W(k),W(Pe),W(a))))),i=St(()=>W(u)?W(L):void 0);kO(e,{get path(){return W(a)},get value(){return W(n)},get enforceString(){return W(r)},get selection(){return W(i)},get searchResultItems(){return W(t)},get context(){return W(Ve)}})}};X(_,e=>{K(Ho),K(W(c)),G(()=>Ho(W(c)))?e(v):e(y,!1)});var b=V(_),S=e=>{var t=GX();wO(B(t),{selected:!0,onContextMenu:mt}),I(t),Y(e,t)};X(b,e=>{K(f()),K(W(u)),K(iC),W(L),G(()=>!f()&&W(u)&&!iC(W(L)))&&e(S)}),I(h);var C=V(h,2),w=e=>{IO(e,{get validationError(){return W(p)},get onExpand(){return gj}})};X(C,e=>{W(p)&&e(w)}),I(m),U(e=>{Si(m,`data-path`,e),g=li(h,1,`jse-value-outer svelte-m90oz6`,null,g,{"jse-selected-value":W(u)})},[()=>(K(iy),K(W(a)),G(()=>iy(W(a))))]),Y(e,m)});var m=V(p),h=e=>{Y(e,qX())};X(m,e=>{W(n)&&e(h)}),I(u),Y(e,u)});var C=V(S),w=B(C);let T;I(C),I(c),I(s),I(o),Ni(o,e=>z(fe,e),()=>W(fe)),$r(o,(e,t)=>MX?.(e,t),()=>en),hn(()=>q(`scroll`,o,rt));var ee=V(o,2),te=e=>{{let t=St(()=>(W(A),G(()=>`You pasted a JSON ${Array.isArray(W(A).contents)?`array`:`object`} as text`))),n=St(()=>[{icon:Iw,text:`Paste as JSON instead`,title:`Paste the text as JSON instead of a single value`,onMouseDown:bt},{text:`Leave as is`,title:`Keep the pasted content as a single value`,onClick:wt}]);QD(e,{type:`info`,get message(){return W(t)},get actions(){return W(n)}})}};X(ee,e=>{W(A)&&e(te)});var E=V(ee,2),ne=e=>{{let t=St(()=>[{icon:Iw,text:`Paste as string instead`,title:`Paste the clipboard data as a single string value instead of an array`,onClick:Ct},{text:`Leave as is`,title:`Keep the pasted array`,onClick:Tt}]);QD(e,{type:`info`,message:`Multiline text was pasted as array`,get actions(){return W(t)}})}};X(E,e=>{W(j)&&e(ne)});var re=V(E,2),ie=e=>{{let t=St(()=>f()?[]:[{icon:Rw,text:`Ok`,title:`Accept the repaired document`,onClick:ct},{icon:Mw,text:`Repair manually instead`,title:`Leave the document unchanged and repair it manually instead`,onClick:Et}]);QD(e,{type:`success`,message:`The loaded JSON document was invalid but is successfully repaired.`,get actions(){return W(t)},onClose:tt})}};X(re,e=>{W(Le)&&e(ie)}),aO(V(re,2),{get validationErrors(){return W(Ge)},selectError:Ut}),U(()=>{v=li(_,1,`jse-table-invisible-start-section svelte-m90oz6`,null,v,{"jse-search-box-background":W(M)}),Si(y,`colspan`,(W(P),G(()=>W(P).length))),b=di(y,``,b,{height:(W(r),G(()=>W(r).startHeight+`px`))}),Si(w,`colspan`,(W(P),G(()=>W(P).length))),T=di(w,``,T,{height:(W(r),G(()=>W(r).endHeight+`px`))})}),Y(e,t)},l=e=>{var t=Ar(),n=Xt(t),r=e=>{var t=XX(),n=Xt(t);{let e=St(()=>f()?[]:[{icon:Mw,text:`Repair manually`,title:`Open the document in "code" mode and repair it manually`,onClick:Et}]);QD(n,{type:`error`,message:`The loaded JSON document is invalid and could not be repaired automatically.`,get actions(){return W(e)}})}MA(V(n,2),{get text(){return W(he)},get json(){return W(k)},get indentation(){return T()},get parser(){return x()}}),Y(e,t)},i=e=>{LX(e,{get text(){return W(he)},get json(){return W(k)},get readOnly(){return f()},get parser(){return x()},openJSONEditorModal:Kt,extractPath:At,get onChangeMode(){return te()},onClick:()=>{tt()}})};X(n,e=>{W(ge)&&W(he)!==void 0&&W(he)!==``?e(r):e(i,!1)},!0),Y(e,t)};X(s,e=>{W(we)?e(c):e(l,!1)}),q(`paste`,o,Rt),Y(e,t)},dn=e=>{Y(e,QX())};X(ln,e=>{d?e(dn,!1):e(un)}),I(an),Ni(an,e=>z(de,e),()=>W(de));var fn=V(an,2),pn=e=>{uO(e,{onClose:()=>z(Ee,!1)})};X(fn,e=>{W(Ee)&&e(pn)});var mn=V(fn,2),_n=e=>{yO(e,Ki(()=>W(me),{onClose:()=>{W(me)?.onClose(),z(me,void 0)}}))};return X(mn,e=>{W(me)&&e(_n)}),U(()=>on=li(an,1,`jse-table-mode svelte-m90oz6`,null,on,{"no-main-menu":!_()})),q(`mousedown`,an,at),q(`keydown`,an,Lt),q(`contextmenu`,an,ht),Y(e,rn),ji(t,`validate`,Je),ji(t,`patch`,Ye),ji(t,`focus`,tt),ji(t,`acceptAutoRepair`,ct),ji(t,`scrollTo`,lt),ji(t,`findElement`,pt),ji(t,`openTransformModal`,Gt),ze(nn)}function tZ(e,t){Re(t,!1);let n=Z(t,`content`,8),r=Z(t,`selection`,12),i=Z(t,`readOnly`,8),a=Z(t,`indentation`,8),o=Z(t,`tabSize`,8),s=Z(t,`truncateTextSize`,8),c=Z(t,`externalMode`,8),l=Z(t,`mainMenuBar`,8),u=Z(t,`navigationBar`,8),d=Z(t,`statusBar`,8),f=Z(t,`askToFormat`,8),p=Z(t,`escapeControlCharacters`,8),m=Z(t,`escapeUnicodeCharacters`,8),h=Z(t,`flattenColumns`,8),g=Z(t,`parser`,8),_=Z(t,`parseMemoizeOne`,8),v=Z(t,`validator`,8),y=Z(t,`validationParser`,8),b=Z(t,`pathParser`,8),x=Z(t,`insideModal`,8),S=Z(t,`onChange`,8),C=Z(t,`onChangeMode`,8),w=Z(t,`onSelect`,8),T=Z(t,`onRenderValue`,8),ee=Z(t,`onClassName`,8),te=Z(t,`onRenderMenu`,8),E=Z(t,`onRenderContextMenu`,8),ne=Z(t,`onError`,8),re=Z(t,`onFocus`,8),ie=Z(t,`onBlur`,8),ae=Z(t,`onSortModal`,8),D=Z(t,`onTransformModal`,8),oe=Z(t,`onJSONEditorModal`,8),O=R(),se=R(),ce=R(),le=$i(`jsoneditor:JSONEditorRoot`),ue=R(sj({onChange:e=>z(ue,e)}).get()),de=R(c());function fe(e){if(e===W(de))return;let t={type:`mode`,undo:{mode:W(de),selection:void 0},redo:{mode:e,selection:void 0}};W(de)===`text`&&W(ce)&&W(ce).flush(),le(`add history item`,t),W(ue).add(t),z(de,e)}function pe(e){if(Nx(e)){z(de,e.undo.mode);let t=W(ue).items(),n=t.findIndex(t=>t===e),i=n===-1?void 0:t[n-1];le(`handleUndo`,{index:n,item:e,items:t,prevItem:i}),i&&r(i.redo.selection),C()(W(de))}}function me(e){if(Nx(e)){z(de,e.redo.mode);let t=W(ue).items(),n=t.findIndex(t=>t===e),i=n===-1?void 0:t[n+1];le(`handleRedo`,{index:n,item:e,items:t,nextItem:i}),i&&r(i.undo.selection),C()(W(de))}}let k=R(),he={type:`separator`},ge=R(),A=R();function j(e){if(W(O))return W(O).patch(e);if(W(se))return W(se).patch(e);if(W(ce))return W(ce).patch(e);throw Error(`Method patch is not available in mode "${W(de)}"`)}function _e(e,t){if(W(O))return W(O).expand(e,t);if(W(ce))return W(ce).expand(e,t);throw Error(`Method expand is not available in mode "${W(de)}"`)}function ve(e,t){if(W(O))return W(O).collapse(e,t);if(W(ce))return W(ce).collapse(e,t);throw Error(`Method collapse is not available in mode "${W(de)}"`)}function M(e){if(W(ce))W(ce).openTransformModal(e);else if(W(O))W(O).openTransformModal(e);else if(W(se))W(se).openTransformModal(e);else throw Error(`Method transform is not available in mode "${W(de)}"`)}function N(){if(W(ce))return W(ce).validate();if(W(O))return W(O).validate();if(W(se))return W(se).validate();throw Error(`Method validate is not available in mode "${W(de)}"`)}function ye(){return W(O)?W(O).acceptAutoRepair():n()}function be(e){if(W(O))return W(O).scrollTo(e);if(W(se))return W(se).scrollTo(e);throw Error(`Method scrollTo is not available in mode "${W(de)}"`)}function xe(e){if(W(O))return W(O).findElement(e);if(W(se))return W(se).findElement(e);throw Error(`Method findElement is not available in mode "${W(de)}"`)}function Se(){W(ce)?W(ce).focus():W(O)?W(O).focus():W(se)&&W(se).focus()}async function Ce(){W(ce)&&await W(ce).refresh()}H(()=>K(c()),()=>{fe(c())}),H(()=>(W(de),K(C())),()=>{z(k,[{type:`button`,text:`text`,title:`Switch to text mode (current mode: ${W(de)})`,className:`jse-group-button jse-first`+(W(de)===Dv.text?` jse-selected`:``),onClick:()=>C()(Dv.text)},{type:`button`,text:`tree`,title:`Switch to tree mode (current mode: ${W(de)})`,className:`jse-group-button `+(W(de)===Dv.tree?` jse-selected`:``),onClick:()=>C()(Dv.tree)},{type:`button`,text:`table`,title:`Switch to table mode (current mode: ${W(de)})`,className:`jse-group-button jse-last`+(W(de)===Dv.table?` jse-selected`:``),onClick:()=>C()(Dv.table)}])}),H(()=>(W(k),K(te()),W(de),K(x()),K(i())),()=>{z(ge,e=>{let t=mx(e[0])?W(k).concat(e):W(k).concat(he,e),n=Um(t);return te()(t,{mode:W(de),modal:x(),readOnly:i()})||n})}),H(()=>(K(E()),W(de),K(x()),K(i()),K(r())),()=>{z(A,e=>{let t=Um(e);return E()(e,{mode:W(de),modal:x(),readOnly:i(),selection:r()})??(i()?!1:t)})}),gn();var P={patch:j,expand:_e,collapse:ve,transform:M,validate:N,acceptAutoRepair:ye,scrollTo:be,findElement:xe,focus:Se,refresh:Ce};Li();var we=Ar(),F=Xt(we),Te=e=>{Ni(CX(e,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return W(ue)},get readOnly(){return i()},get indentation(){return a()},get tabSize(){return o()},get mainMenuBar(){return l()},get statusBar(){return d()},get askToFormat(){return f()},get escapeUnicodeCharacters(){return m()},get parser(){return g()},get validator(){return v()},get validationParser(){return y()},get onChange(){return S()},get onChangeMode(){return C()},get onSelect(){return w()},onUndo:pe,onRedo:me,get onError(){return ne()},get onFocus(){return re()},get onBlur(){return ie()},get onRenderMenu(){return W(ge)},get onSortModal(){return ae()},get onTransformModal(){return D()},$$legacy:!0}),e=>z(ce,e),()=>W(ce))},Ee=e=>{var t=Ar(),o=Xt(t),c=e=>{Ni(eZ(e,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return W(ue)},get readOnly(){return i()},get truncateTextSize(){return s()},get mainMenuBar(){return l()},get escapeControlCharacters(){return p()},get escapeUnicodeCharacters(){return m()},get flattenColumns(){return h()},get parser(){return g()},get parseMemoizeOne(){return _()},get validator(){return v()},get validationParser(){return y()},get indentation(){return a()},get onChange(){return S()},get onChangeMode(){return C()},get onSelect(){return w()},onUndo:pe,onRedo:me,get onRenderValue(){return T()},get onFocus(){return re()},get onBlur(){return ie()},get onRenderMenu(){return W(ge)},get onRenderContextMenu(){return W(A)},get onSortModal(){return ae()},get onTransformModal(){return D()},get onJSONEditorModal(){return oe()},$$legacy:!0}),e=>z(se,e),()=>W(se))},d=e=>{Ni(nj(e,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return W(ue)},get readOnly(){return i()},get indentation(){return a()},get truncateTextSize(){return s()},get mainMenuBar(){return l()},get navigationBar(){return u()},get escapeControlCharacters(){return p()},get escapeUnicodeCharacters(){return m()},get parser(){return g()},get parseMemoizeOne(){return _()},get validator(){return v()},get validationParser(){return y()},get pathParser(){return b()},get onError(){return ne()},get onChange(){return S()},get onChangeMode(){return C()},get onSelect(){return w()},onUndo:pe,onRedo:me,get onRenderValue(){return T()},get onClassName(){return ee()},get onFocus(){return re()},get onBlur(){return ie()},get onRenderMenu(){return W(ge)},get onRenderContextMenu(){return W(A)},get onSortModal(){return ae()},get onTransformModal(){return D()},get onJSONEditorModal(){return oe()},$$legacy:!0}),e=>z(O,e),()=>W(O))};X(o,e=>{W(de),K(Dv),G(()=>W(de)===Dv.table)?e(c):e(d,!1)},!0),Y(e,t)};return X(F,e=>{W(de),K(Dv),G(()=>W(de)===Dv.text||String(W(de))===`code`)?e(Te):e(Ee,!1)}),Y(e,we),ji(t,`patch`,j),ji(t,`expand`,_e),ji(t,`collapse`,ve),ji(t,`transform`,M),ji(t,`validate`,N),ji(t,`acceptAutoRepair`,ye),ji(t,`scrollTo`,be),ji(t,`findElement`,xe),ji(t,`focus`,Se),ji(t,`refresh`,Ce),ze(P)}var nZ=J(`<div class="jse-error svelte-1hvu55v"> </div>`),rZ=J(`<button type="button" class="jse-secondary svelte-1hvu55v"><!> Back</button>`),iZ=J(`<button type="button" class="jse-primary svelte-1hvu55v">Apply</button>`),aZ=J(`<button type="button" class="jse-primary svelte-1hvu55v">Close</button>`),oZ=J(`<!> <div class="jse-modal-contents svelte-1hvu55v"><div class="jse-label svelte-1hvu55v"><div class="jse-label-inner svelte-1hvu55v">Path</div></div> <input class="jse-path svelte-1hvu55v" type="text" readonly="" title="Selected path"/> <div class="jse-label svelte-1hvu55v"><div class="jse-label-inner svelte-1hvu55v">Contents</div></div> <div class="jse-modal-inline-editor svelte-1hvu55v"><!></div> <div class="jse-actions svelte-1hvu55v"><!> <!> <!></div></div>`,1),sZ=J(`<div class="jse-modal-wrapper svelte-1hvu55v"><!></div>`);function cZ(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=R(void 0,!0),o=$i(`jsoneditor:JSONEditorModal`),s=Z(t,`content`,9),c=Z(t,`path`,9),l=Z(t,`onPatch`,9),u=Z(t,`readOnly`,9),d=Z(t,`indentation`,9),f=Z(t,`tabSize`,9),p=Z(t,`truncateTextSize`,9),m=Z(t,`mainMenuBar`,9),h=Z(t,`navigationBar`,9),g=Z(t,`statusBar`,9),_=Z(t,`askToFormat`,9),v=Z(t,`escapeControlCharacters`,9),y=Z(t,`escapeUnicodeCharacters`,9),b=Z(t,`flattenColumns`,9),x=Z(t,`parser`,9),S=Z(t,`validator`,9),C=Z(t,`validationParser`,9),w=Z(t,`pathParser`,9),T=Z(t,`onRenderValue`,9),ee=Z(t,`onClassName`,9),te=Z(t,`onRenderMenu`,9),E=Z(t,`onRenderContextMenu`,9),ne=Z(t,`onSortModal`,9),re=Z(t,`onTransformModal`,9),ie=Z(t,`onClose`,9),ae=R(void 0,!0),D=R(void 0,!0),oe={mode:ce(s()),content:s(),selection:void 0,relativePath:c()},O=R([oe],!0),se=R(void 0,!0);qi(()=>{W(ae)?.focus()});function ce(e){return hv(e)&&sa(e.json)?Dv.table:Dv.tree}function le(){let e=Bg(W(O))?.selection;kS(e)&&W(ae).scrollTo(pC(e))}function ue(){if(o(`handleApply`),!u())try{z(se,void 0);let e=W(n).relativePath,t=W(n).content,r=[{op:`replace`,path:Aa(e),value:_v(t,x()).json}];if(W(O).length>1){let e=W(O)[W(O).length-2].content,t=_v(e,x()).json,n={json:Na(t,r)},i={...W(O)[W(O).length-2]||oe,content:n};z(O,[...W(O).slice(0,W(O).length-2),i]),it(),le()}else l()(r),ie()()}catch(e){z(se,String(e))}}function de(){o(`handleClose`),W(D)?z(D,!1):W(O).length>1?(z(O,a_(W(O))),it(),W(ae)?.focus(),le(),z(se,void 0)):ie()()}function fe(e){o(`handleChange`,e),k(t=>({...t,content:e}))}function pe(e){o(`handleChangeSelection`,e),k(t=>({...t,selection:e}))}function me(e){o(`handleChangeMode`,e),k(t=>({...t,mode:e}))}function k(e){let t=e(Bg(W(O)));z(O,[...a_(W(O)),t])}function he(e){z(se,e.toString()),console.error(e)}function ge({content:e,path:t}){o(`handleJSONEditorModal`,{content:e,path:t});let n={mode:ce(e),content:e,selection:void 0,relativePath:t};z(O,[...W(O),n]),it(),W(ae)?.focus()}function A(e){e.focus()}H(()=>W(O),()=>{z(n,Bg(W(O))||oe)}),H(()=>W(O),()=>{z(r,W(O).flatMap(e=>e.relativePath))}),H(()=>(W(r),iT),()=>{z(i,u_(W(r))?`(document root)`:iT(W(r)))}),H(()=>K(x()),()=>{z(a,Xk(x().parse))}),gn(),Li(!0),cO(e,{onClose:de,className:`jse-jsoneditor-modal`,get fullscreen(){return W(D)},children:(e,t)=>{var r=sZ();gy(B(r),{children:(e,t)=>{var r=oZ(),o=Xt(r);{let e=St(()=>(W(O),G(()=>W(O).length>1?` (${W(O).length})`:``)));ND(o,{get title(){return`Edit nested content ${W(e)??``}`},fullScreenButton:!0,onClose:de,get fullscreen(){return W(D)},set fullscreen(e){z(D,e)},$$legacy:!0})}var s=V(o,2),c=V(B(s),2);yi(c);var l=V(c,4);Ni(tZ(B(l),{get externalMode(){return W(n),G(()=>W(n).mode)},get content(){return W(n),G(()=>W(n).content)},get selection(){return W(n),G(()=>W(n).selection)},get readOnly(){return u()},get indentation(){return d()},get tabSize(){return f()},get truncateTextSize(){return p()},get statusBar(){return g()},get askToFormat(){return _()},get mainMenuBar(){return m()},get navigationBar(){return h()},get escapeControlCharacters(){return v()},get escapeUnicodeCharacters(){return y()},get flattenColumns(){return b()},get parser(){return x()},get parseMemoizeOne(){return W(a)},get validator(){return S()},get validationParser(){return C()},get pathParser(){return w()},insideModal:!0,onError:he,onChange:fe,onChangeMode:me,onSelect:pe,get onRenderValue(){return T()},get onClassName(){return ee()},get onFocus(){return gj},get onBlur(){return gj},get onRenderMenu(){return te()},get onRenderContextMenu(){return E()},get onSortModal(){return ne()},get onTransformModal(){return re()},onJSONEditorModal:ge,$$legacy:!0}),e=>z(ae,e),()=>W(ae)),I(l);var ie=V(l,2),oe=B(ie),ce=e=>{var t=nZ(),n=B(t,!0);I(t),U(()=>jr(n,W(se))),Y(e,t)};X(oe,e=>{W(se)&&e(ce)});var le=V(oe,2),k=e=>{var t=rZ();bb(B(t),{get data(){return ww}}),De(),I(t),q(`click`,t,de),Y(e,t)};X(le,e=>{W(O),G(()=>W(O).length>1)&&e(k)});var j=V(le,2),_e=e=>{var t=iZ();hn(()=>q(`click`,t,ue)),$r(t,e=>A?.(e)),Y(e,t)},ve=e=>{var t=aZ();q(`click`,t,de),Y(e,t)};X(j,e=>{u()?e(ve,!1):e(_e)}),I(ie),I(s),U(()=>bi(c,W(i))),Y(e,r)},$$slots:{default:!0}}),I(r),Y(e,r)},$$slots:{default:!0}}),ze()}const lZ={};var uZ=zi(()=>lZ),dZ=J(`<tr><th class="svelte-bng95m">Property</th><td class="svelte-bng95m"><!></td></tr>`),fZ=J(`<div class="jse-error svelte-bng95m"> </div>`),pZ=J(`<!> <div class="jse-modal-contents svelte-bng95m"><table class="svelte-bng95m"><colgroup><col width="25%"/><col width="75%"/></colgroup><tbody><tr><th class="svelte-bng95m">Path</th><td class="svelte-bng95m"><input class="jse-path svelte-bng95m" type="text" readonly="" title="Selected path"/></td></tr><!><tr><th class="svelte-bng95m">Direction</th><td class="svelte-bng95m"><!></td></tr></tbody></table> <div class="jse-space svelte-bng95m"><!></div> <div class="jse-actions svelte-bng95m"><button type="button" class="jse-primary svelte-bng95m">Sort</button></div></div>`,1);function mZ(e,t){Re(t,!1);let n=R(void 0,!0),r=R(void 0,!0),i=R(void 0,!0),a=R(void 0,!0),o=$i(`jsoneditor:SortModal`),s=Z(t,`id`,9),c=Z(t,`json`,9),l=Z(t,`rootPath`,9),u=Z(t,`onSort`,9),d=Z(t,`onClose`,9),f={value:1,label:`ascending`},p=[f,{value:-1,label:`descending`}],m=`${s()}:${Aa(l())}`,h=R(uZ()[m]?.selectedProperty,!0),g=R(uZ()[m]?.selectedDirection||f,!0),_=R(void 0,!0);function v(){try{z(_,void 0);let e=W(h)?.value||W(a)?.[0]?.value||[],t=W(g)?.value,n=wk(c(),l(),e,t);u()!==void 0&&l()!==void 0&&u()({operations:n,rootPath:l(),itemPath:e,direction:t}),d()()}catch(e){z(_,String(e))}}function y(e){e.focus()}H(()=>(K(c()),K(l())),()=>{z(n,Sa(c(),l()))}),H(()=>W(n),()=>{z(r,Array.isArray(W(n)))}),H(()=>(W(r),W(n)),()=>{z(i,W(r)?J_(W(n)):void 0)}),H(()=>(W(i),sT),()=>{z(a,W(i)?W(i).map(sT):void 0)}),H(()=>(uZ(),W(h),W(g)),()=>{uZ(uZ()[m]={selectedProperty:W(h),selectedDirection:W(g)}),o(`store state in memory`,m,uZ()[m])}),gn(),Li(!0),cO(e,{get onClose(){return d()},className:`jse-sort-modal`,children:(e,t)=>{var n=pZ(),i=Xt(n);{let e=St(()=>W(r)?`Sort array items`:`Sort object keys`);ND(i,{get title(){return W(e)},get onClose(){return d()}})}var o=V(i,2),s=B(o),c=V(B(s)),u=B(c),f=V(B(u)),m=B(f);yi(m),I(f),I(u);var b=V(u),x=e=>{var t=dZ(),n=V(B(t));TD(B(n),{showChevron:!0,get items(){return W(a)},get value(){return W(h)},set value(e){z(h,e)},$$legacy:!0}),I(n),I(t),Y(e,t)};X(b,e=>{W(r),W(a),G(()=>W(r)&&W(a)&&W(a)?.length>1)&&e(x)});var S=V(b),C=V(B(S));TD(B(C),{showChevron:!0,clearable:!1,get items(){return p},get value(){return W(g)},set value(e){z(g,e)},$$legacy:!0}),I(C),I(S),I(c),I(s);var w=V(s,2),T=B(w),ee=e=>{var t=fZ(),n=B(t,!0);I(t),U(()=>jr(n,W(_))),Y(e,t)};X(T,e=>{W(_)&&e(ee)}),I(w);var te=V(w,2),E=B(te);hn(()=>q(`click`,E,v)),$r(E,e=>y?.(e)),I(te),I(o),U(e=>{bi(m,e),E.disabled=(W(r),W(a),W(h),G(()=>W(r)&&W(a)&&W(a)?.length>1?!W(h):!1))},[()=>(K(l()),K(u_),K(iT),G(()=>l()&&!u_(l())?iT(l()):`(document root)`))]),Y(e,n)},$$slots:{default:!0}}),ze()}var hZ=J(`<div role="none"><!></div> <!> <!> <!>`,1);function gZ(e,t){Re(t,!1);let n=R(void 0,!0),r=$i(`jsoneditor:JSONEditor`),i={text:``},a=1e3,o=Dv.tree,s=JSON,c=JSON,l={parse:oT,stringify:iT},u=[ib],d=u[0].id,f=gj,p=hw,m=gj,h=gj,g=gj,_=gj,v=e=>{console.error(e),alert(e.toString())},y=gj,b=gj,x=Z(t,`content`,13,i),S=Z(t,`selection`,13,void 0),C=Z(t,`readOnly`,13,!1),w=Z(t,`indentation`,13,2),T=Z(t,`tabSize`,13,4),ee=Z(t,`truncateTextSize`,13,a),te=Z(t,`mode`,13,o),E=Z(t,`mainMenuBar`,13,!0),ne=Z(t,`navigationBar`,13,!0),re=Z(t,`statusBar`,13,!0),ie=Z(t,`askToFormat`,13,!0),ae=Z(t,`escapeControlCharacters`,13,!1),D=Z(t,`escapeUnicodeCharacters`,13,!1),oe=Z(t,`flattenColumns`,13,!0),O=Z(t,`parser`,13,s),se=Z(t,`validator`,13,void 0),ce=Z(t,`validationParser`,13,c),le=Z(t,`pathParser`,13,l),ue=Z(t,`queryLanguages`,13,u),de=Z(t,`queryLanguageId`,13,d),fe=Z(t,`onChangeQueryLanguage`,13,f),pe=Z(t,`onChange`,13,void 0),me=Z(t,`onSelect`,13,void 0),k=Z(t,`onRenderValue`,13,p),he=Z(t,`onClassName`,13,m),ge=Z(t,`onRenderMenu`,13,h),A=Z(t,`onRenderContextMenu`,13,g),j=Z(t,`onChangeMode`,13,_),_e=Z(t,`onError`,13,v),ve=Z(t,`onFocus`,13,y),M=Z(t,`onBlur`,13,b),N=R(oa(),!0),ye=R(!1,!0),be=R(void 0,!0),xe=R(void 0,!0),Se=R(void 0,!0),Ce=R(void 0,!0),P=R(O(),!0);function we(){return x()}function F(e){r(`set`);let t=pv(e);if(t)throw Error(t);z(N,oa()),x(e),it()}function Te(e){r(`update`);let t=pv(e);if(t)throw Error(t);x(e),it()}function Ee(e){let t=W(be).patch(e);return it(),t}function De(e){S(e),it()}function Oe(e,t){W(be).expand(e,t),it()}function ke(e,t=!1){W(be).collapse(e,t),it()}function Ae(e={}){W(be).transform(e),it()}function je(){return W(be).validate()}function Me(){let e=W(be).acceptAutoRepair();return it(),e}async function Ne(e){await W(be).scrollTo(e)}function Pe(e){return W(be).findElement(e)}function L(){W(be).focus(),it()}async function Fe(){await W(be).refresh()}function Ie(e){let t=Object.keys(e);for(let r of t)switch(r){case`content`:x(e[r]??i);break;case`selection`:S(e[r]??void 0);break;case`readOnly`:C(e[r]??!1);break;case`indentation`:w(e[r]??2);break;case`tabSize`:T(e[r]??4);break;case`truncateTextSize`:ee(e[r]??a);break;case`mode`:te(e[r]??o);break;case`mainMenuBar`:E(e[r]??!0);break;case`navigationBar`:ne(e[r]??!0);break;case`statusBar`:re(e[r]??!0);break;case`askToFormat`:ie(e[r]??!0);break;case`escapeControlCharacters`:ae(e[r]??!1);break;case`escapeUnicodeCharacters`:D(e[r]??!1);break;case`flattenColumns`:oe(e[r]??!0);break;case`parser`:O(e[r]??s);break;case`validator`:se(e[r]??void 0);break;case`validationParser`:ce(e[r]??c);break;case`pathParser`:le(e[r]??l);break;case`queryLanguages`:ue(e[r]??u);break;case`queryLanguageId`:de(e[r]??d);break;case`onChangeQueryLanguage`:fe(e[r]??f);break;case`onChange`:pe(e[r]??void 0);break;case`onRenderValue`:k(e[r]??p);break;case`onClassName`:he(e[r]??m);break;case`onRenderMenu`:ge(e[r]??h);break;case`onRenderContextMenu`:A(e[r]??g);break;case`onChangeMode`:j(e[r]??_);break;case`onSelect`:me(e[r]??void 0);break;case`onError`:_e(e[r]??v);break;case`onFocus`:ve(e[r]??y);break;case`onBlur`:M(e[r]??b);break;default:n(r)}ue().some(e=>e.id===de())||de(ue()[0].id);function n(e){r(`Unknown property "${e}"`)}it()}async function Le(){throw Error(`class method destroy() is deprecated. It is replaced with a method destroy() in the vanilla library.`)}function Be(e,t,n){x(e),pe()&&pe()(e,t,n)}function Ve(e){S(e),me()&&me()(Um(e))}function He(){z(ye,!0),ve()&&ve()()}function Ue(){z(ye,!1),M()&&M()()}async function We(e){te()!==e&&(te(e),it(),L(),j()(e))}function Ge(e){r(`handleChangeQueryLanguage`,e),de(e),fe()(e)}function Ke({id:e,json:t,rootPath:r,onTransform:i,onClose:a}){C()||z(Ce,{id:e,json:t,rootPath:r,indentation:w(),truncateTextSize:ee(),escapeControlCharacters:ae(),escapeUnicodeCharacters:D(),parser:O(),parseMemoizeOne:W(n),validationParser:ce(),pathParser:le(),queryLanguages:ue(),queryLanguageId:de(),onChangeQueryLanguage:Ge,onRenderValue:k(),onRenderMenu:e=>ge()(e,{mode:te(),modal:!0,readOnly:C()}),onRenderContextMenu:e=>A()(e,{mode:te(),modal:!0,readOnly:C(),selection:S()}),onClassName:he(),onTransform:i,onClose:a})}function qe(e){C()||z(Se,e)}function Je({content:e,path:t,onPatch:n,onClose:i}){r(`onJSONEditorModal`,{content:e,path:t}),z(xe,{content:e,path:t,onPatch:n,readOnly:C(),indentation:w(),tabSize:T(),truncateTextSize:ee(),mainMenuBar:E(),navigationBar:ne(),statusBar:re(),askToFormat:ie(),escapeControlCharacters:ae(),escapeUnicodeCharacters:D(),flattenColumns:oe(),parser:O(),validator:void 0,validationParser:ce(),pathParser:le(),onRenderValue:k(),onClassName:he(),onRenderMenu:ge(),onRenderContextMenu:A(),onSortModal:qe,onTransformModal:Ke,onClose:i})}function Ye(e){e.stopPropagation()}H(()=>(K(O()),W(P),K(x()),oa),()=>{if(!wv(O(),W(P))){if(r(`parser changed, recreate editor`),hv(x())){let e=W(P).stringify(x().json);x({json:e===void 0?void 0:O().parse(e)})}z(P,O()),z(N,oa())}}),H(()=>K(x()),()=>{let e=pv(x());e&&console.error(`Error: `+e)}),H(()=>K(S()),()=>{S()===null&&console.warn(`selection is invalid: it is null but should be undefined`)}),H(()=>K(O()),()=>{z(n,Xk(O().parse))}),H(()=>K(te()),()=>{r(`mode changed to`,te())}),gn();var Xe={get:we,set:F,update:Te,patch:Ee,select:De,expand:Oe,collapse:ke,transform:Ae,validate:je,acceptAutoRepair:Me,scrollTo:Ne,findElement:Pe,focus:L,refresh:Fe,updateProps:Ie,destroy:Le};return Li(!0),gy(e,{children:(e,t)=>{var r=hZ(),i=Xt(r);let a;Lr(B(i),()=>W(N),e=>{Ni(tZ(e,{get externalMode(){return te()},get content(){return x()},get selection(){return S()},get readOnly(){return C()},get indentation(){return w()},get tabSize(){return T()},get truncateTextSize(){return ee()},get statusBar(){return re()},get askToFormat(){return ie()},get mainMenuBar(){return E()},get navigationBar(){return ne()},get escapeControlCharacters(){return ae()},get escapeUnicodeCharacters(){return D()},get flattenColumns(){return oe()},get parser(){return O()},get parseMemoizeOne(){return W(n)},get validator(){return se()},get validationParser(){return ce()},get pathParser(){return le()},insideModal:!1,get onError(){return _e()},onChange:Be,onChangeMode:We,onSelect:Ve,get onRenderValue(){return k()},get onClassName(){return he()},onFocus:He,onBlur:Ue,get onRenderMenu(){return ge()},get onRenderContextMenu(){return A()},onSortModal:qe,onTransformModal:Ke,onJSONEditorModal:Je,$$legacy:!0}),e=>z(be,e),()=>W(be))}),I(i);var o=V(i,2),s=e=>{mZ(e,Ki(()=>W(Se),{onClose:()=>{W(Se)?.onClose(),z(Se,void 0)}}))};X(o,e=>{W(Se)&&e(s)});var c=V(o,2),l=e=>{hj(e,Ki(()=>W(Ce),{onClose:()=>{W(Ce)?.onClose(),z(Ce,void 0)}}))};X(c,e=>{W(Ce)&&e(l)});var u=V(c,2),d=e=>{cZ(e,Ki(()=>W(xe),{onClose:()=>{W(xe)?.onClose(),z(xe,void 0)}}))};X(u,e=>{W(xe)&&e(d)}),U(()=>a=li(i,1,`jse-main svelte-1k65mul`,null,a,{"jse-focus":W(ye)})),q(`keydown`,i,Ye),Y(e,r)},$$slots:{default:!0}}),ji(t,`get`,we),ji(t,`set`,F),ji(t,`update`,Te),ji(t,`patch`,Ee),ji(t,`select`,De),ji(t,`expand`,Oe),ji(t,`collapse`,ke),ji(t,`transform`,Ae),ji(t,`validate`,je),ji(t,`acceptAutoRepair`,Me),ji(t,`scrollTo`,Ne),ji(t,`findElement`,Pe),ji(t,`focus`,L),ji(t,`refresh`,Fe),ji(t,`updateProps`,Ie),ji(t,`destroy`,Le),ze(Xe)}var _Z=u(s(((e,t)=>{(function(n,r){typeof define==`function`&&define.amd?define(r):typeof e==`object`?t.exports=r():n.NProgress=r()})(e,function(){var e={};e.version=`0.2.0`;var t=e.settings={minimum:.08,easing:`ease`,positionUsing:``,speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:`[role="bar"]`,spinnerSelector:`[role="spinner"]`,parent:`body`,template:`<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>`};e.configure=function(e){var n,r;for(n in e)r=e[n],r!==void 0&&e.hasOwnProperty(n)&&(t[n]=r);return this},e.status=null,e.set=function(r){var s=e.isStarted();r=n(r,t.minimum,1),e.status=r===1?null:r;var c=e.render(!s),l=c.querySelector(t.barSelector),u=t.speed,d=t.easing;return c.offsetWidth,a(function(n){t.positionUsing===``&&(t.positionUsing=e.getPositioningCSS()),o(l,i(r,u,d)),r===1?(o(c,{transition:`none`,opacity:1}),c.offsetWidth,setTimeout(function(){o(c,{transition:`all `+u+`ms linear`,opacity:0}),setTimeout(function(){e.remove(),n()},u)},u)):setTimeout(n,u)}),this},e.isStarted=function(){return typeof e.status==`number`},e.start=function(){e.status||e.set(0);var n=function(){setTimeout(function(){e.status&&(e.trickle(),n())},t.trickleSpeed)};return t.trickle&&n(),this},e.done=function(t){return!t&&!e.status?this:e.inc(.3+.5*Math.random()).set(1)},e.inc=function(t){var r=e.status;return r?(typeof t!=`number`&&(t=(1-r)*n(Math.random()*r,.1,.95)),r=n(r+t,0,.994),e.set(r)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},(function(){var t=0,n=0;e.promise=function(r){return!r||r.state()===`resolved`?this:(n===0&&e.start(),t++,n++,r.always(function(){n--,n===0?(t=0,e.done()):e.set((t-n)/t)}),this)}})(),e.render=function(n){if(e.isRendered())return document.getElementById(`nprogress`);c(document.documentElement,`nprogress-busy`);var i=document.createElement(`div`);i.id=`nprogress`,i.innerHTML=t.template;var a=i.querySelector(t.barSelector),s=n?`-100`:r(e.status||0),l=document.querySelector(t.parent),u;return o(a,{transition:`all 0 linear`,transform:`translate3d(`+s+`%,0,0)`}),t.showSpinner||(u=i.querySelector(t.spinnerSelector),u&&d(u)),l!=document.body&&c(l,`nprogress-custom-parent`),l.appendChild(i),i},e.remove=function(){l(document.documentElement,`nprogress-busy`),l(document.querySelector(t.parent),`nprogress-custom-parent`);var e=document.getElementById(`nprogress`);e&&d(e)},e.isRendered=function(){return!!document.getElementById(`nprogress`)},e.getPositioningCSS=function(){var e=document.body.style,t=`WebkitTransform`in e?`Webkit`:`MozTransform`in e?`Moz`:`msTransform`in e?`ms`:`OTransform`in e?`O`:``;return t+`Perspective`in e?`translate3d`:t+`Transform`in e?`translate`:`margin`};function n(e,t,n){return e<t?t:e>n?n:e}function r(e){return(-1+e)*100}function i(e,n,i){var a=t.positionUsing===`translate3d`?{transform:`translate3d(`+r(e)+`%,0,0)`}:t.positionUsing===`translate`?{transform:`translate(`+r(e)+`%,0)`}:{"margin-left":r(e)+`%`};return a.transition=`all `+n+`ms `+i,a}var a=(function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),e.length==1&&t()}})(),o=(function(){var e=[`Webkit`,`O`,`Moz`,`ms`],t={};function n(e){return e.replace(/^-ms-/,`ms-`).replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function r(t){var n=document.body.style;if(t in n)return t;for(var r=e.length,i=t.charAt(0).toUpperCase()+t.slice(1),a;r--;)if(a=e[r]+i,a in n)return a;return t}function i(e){return e=n(e),t[e]||(t[e]=r(e))}function a(e,t,n){t=i(t),e.style[t]=n}return function(e,t){var n=arguments,r,i;if(n.length==2)for(r in t)i=t[r],i!==void 0&&t.hasOwnProperty(r)&&a(e,r,i);else a(e,n[1],n[2])}})();function s(e,t){return(typeof e==`string`?e:u(e)).indexOf(` `+t+` `)>=0}function c(e,t){var n=u(e),r=n+t;s(n,t)||(e.className=r.substring(1))}function l(e,t){var n=u(e),r;s(e,t)&&(r=n.replace(` `+t+` `,` `),e.className=r.substring(1,r.length-1))}function u(e){return(` `+(e.className||``)+` `).replace(/\s+/gi,` `)}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e})}))()),vZ=typeof window<`u`?window:null,yZ=vZ===null,bZ=yZ?void 0:vZ.document,xZ=`addEventListener`,SZ=`removeEventListener`,CZ=`getBoundingClientRect`,wZ=`_a`,TZ=`_b`,EZ=`_c`,DZ=`horizontal`,OZ=function(){return!1},kZ=yZ?`calc`:[``,`-webkit-`,`-moz-`,`-o-`].filter(function(e){var t=bZ.createElement(`div`);return t.style.cssText=`width:`+e+`calc(9px)`,!!t.style.length}).shift()+`calc`,AZ=function(e){return typeof e==`string`||e instanceof String},jZ=function(e){if(AZ(e)){var t=bZ.querySelector(e);if(!t)throw Error(`Selector `+e+` did not match a DOM element`);return t}return e},MZ=function(e,t,n){var r=e[t];return r===void 0?n:r},NZ=function(e,t,n,r){if(t){if(r===`end`)return 0;if(r===`center`)return e/2}else if(n){if(r===`start`)return 0;if(r===`center`)return e/2}return e},PZ=function(e,t){var n=bZ.createElement(`div`);return n.className=`gutter gutter-`+t,n},FZ=function(e,t,n){var r={};return AZ(t)?r[e]=t:r[e]=kZ+`(`+t+`% - `+n+`px)`,r},IZ=function(e,t){var n;return n={},n[e]=t+`px`,n},LZ=function(e,t){if(t===void 0&&(t={}),yZ)return{};var n=e,r,i,a,o,s,c;Array.from&&(n=Array.from(n));var l=jZ(n[0]).parentNode,u=getComputedStyle?getComputedStyle(l):null,d=u?u.flexDirection:null,f=MZ(t,`sizes`)||n.map(function(){return 100/n.length}),p=MZ(t,`minSize`,100),m=Array.isArray(p)?p:n.map(function(){return p}),h=MZ(t,`maxSize`,1/0),g=Array.isArray(h)?h:n.map(function(){return h}),_=MZ(t,`expandToMin`,!1),v=MZ(t,`gutterSize`,10),y=MZ(t,`gutterAlign`,`center`),b=MZ(t,`snapOffset`,30),x=Array.isArray(b)?b:n.map(function(){return b}),S=MZ(t,`dragInterval`,1),C=MZ(t,`direction`,DZ),w=MZ(t,`cursor`,C===DZ?`col-resize`:`row-resize`),T=MZ(t,`gutter`,PZ),ee=MZ(t,`elementStyle`,FZ),te=MZ(t,`gutterStyle`,IZ);C===DZ?(r=`width`,i=`clientX`,a=`left`,o=`right`,s=`clientWidth`):C===`vertical`&&(r=`height`,i=`clientY`,a=`top`,o=`bottom`,s=`clientHeight`);function E(e,t,n,i){var a=ee(r,t,n,i);Object.keys(a).forEach(function(t){e.style[t]=a[t]})}function ne(e,t,n){var i=te(r,t,n);Object.keys(i).forEach(function(t){e.style[t]=i[t]})}function re(){return c.map(function(e){return e.size})}function ie(e){return`touches`in e?e.touches[0][i]:e[i]}function ae(e){var t=c[this.a],n=c[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,E(t.element,t.size,this[TZ],t.i),E(n.element,n.size,this[EZ],n.i)}function D(e){var n,r=c[this.a],i=c[this.b];this.dragging&&(n=ie(e)-this.start+(this[TZ]-this.dragOffset),S>1&&(n=Math.round(n/S)*S),n<=r.minSize+r.snapOffset+this[TZ]?n=r.minSize+this[TZ]:n>=this.size-(i.minSize+i.snapOffset+this[EZ])&&(n=this.size-(i.minSize+this[EZ])),n>=r.maxSize-r.snapOffset+this[TZ]?n=r.maxSize+this[TZ]:n<=this.size-(i.maxSize-i.snapOffset+this[EZ])&&(n=this.size-(i.maxSize+this[EZ])),ae.call(this,n),MZ(t,`onDrag`,OZ)(re()))}function oe(){var e=c[this.a].element,t=c[this.b].element,n=e[CZ](),i=t[CZ]();this.size=n[r]+i[r]+this[TZ]+this[EZ],this.start=n[a],this.end=n[o]}function O(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[s];return n===0?null:(C===DZ?n-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n)}function se(e){var t=O(l);if(t===null||m.reduce(function(e,t){return e+t},0)>t)return e;var n=0,r=[],i=e.map(function(i,a){var o=t*i/100,s=NZ(v,a===0,a===e.length-1,y),c=m[a]+s;return o<c?(n+=c-o,r.push(0),c):(r.push(o-c),o)});return n===0?e:i.map(function(e,i){var a=e;if(n>0&&r[i]-n>0){var o=Math.min(n,r[i]-n);n-=o,a=e-o}return a/t*100})}function ce(){var e=this,n=c[e.a].element,r=c[e.b].element;e.dragging&&MZ(t,`onDragEnd`,OZ)(re()),e.dragging=!1,vZ[SZ](`mouseup`,e.stop),vZ[SZ](`touchend`,e.stop),vZ[SZ](`touchcancel`,e.stop),vZ[SZ](`mousemove`,e.move),vZ[SZ](`touchmove`,e.move),e.stop=null,e.move=null,n[SZ](`selectstart`,OZ),n[SZ](`dragstart`,OZ),r[SZ](`selectstart`,OZ),r[SZ](`dragstart`,OZ),n.style.userSelect=``,n.style.webkitUserSelect=``,n.style.MozUserSelect=``,n.style.pointerEvents=``,r.style.userSelect=``,r.style.webkitUserSelect=``,r.style.MozUserSelect=``,r.style.pointerEvents=``,e.gutter.style.cursor=``,e.parent.style.cursor=``,bZ.body.style.cursor=``}function le(e){if(!(`button`in e&&e.button!==0)){var n=this,r=c[n.a].element,i=c[n.b].element;n.dragging||MZ(t,`onDragStart`,OZ)(re()),e.preventDefault(),n.dragging=!0,n.move=D.bind(n),n.stop=ce.bind(n),vZ[xZ](`mouseup`,n.stop),vZ[xZ](`touchend`,n.stop),vZ[xZ](`touchcancel`,n.stop),vZ[xZ](`mousemove`,n.move),vZ[xZ](`touchmove`,n.move),r[xZ](`selectstart`,OZ),r[xZ](`dragstart`,OZ),i[xZ](`selectstart`,OZ),i[xZ](`dragstart`,OZ),r.style.userSelect=`none`,r.style.webkitUserSelect=`none`,r.style.MozUserSelect=`none`,r.style.pointerEvents=`none`,i.style.userSelect=`none`,i.style.webkitUserSelect=`none`,i.style.MozUserSelect=`none`,i.style.pointerEvents=`none`,n.gutter.style.cursor=w,n.parent.style.cursor=w,bZ.body.style.cursor=w,oe.call(n),n.dragOffset=ie(e)-n.end}}f=se(f);var ue=[];c=n.map(function(e,t){var r={element:jZ(e),size:f[t],minSize:m[t],maxSize:g[t],snapOffset:x[t],i:t},i;if(t>0&&(i={a:t-1,b:t,dragging:!1,direction:C,parent:l},i[TZ]=NZ(v,t-1==0,!1,y),i[EZ]=NZ(v,!1,t===n.length-1,y),d===`row-reverse`||d===`column-reverse`)){var a=i.a;i.a=i.b,i.b=a}if(t>0){var o=T(t,C,r.element);ne(o,v,t),i[wZ]=le.bind(i),o[xZ](`mousedown`,i[wZ]),o[xZ](`touchstart`,i[wZ]),l.insertBefore(o,r.element),i.gutter=o}return E(r.element,r.size,NZ(v,t===0,t===n.length-1,y),t),t>0&&ue.push(i),r});function de(e){var t=e.i===ue.length,n=t?ue[e.i-1]:ue[e.i];oe.call(n);var r=t?n.size-e.minSize-n[EZ]:e.minSize+n[TZ];ae.call(n,r)}c.forEach(function(e){var t=e.element[CZ]()[r];t<e.minSize&&(_?de(e):e.minSize=t)});function fe(e){var t=se(e);t.forEach(function(e,n){if(n>0){var r=ue[n-1],i=c[r.a],a=c[r.b];i.size=t[n-1],a.size=e,E(i.element,i.size,r[TZ],i.i),E(a.element,a.size,r[EZ],a.i)}})}function pe(e,t){ue.forEach(function(n){if(t===!0?(n.gutter[SZ](`mousedown`,n[wZ]),n.gutter[SZ](`touchstart`,n[wZ])):n.parent.removeChild(n.gutter),e!==!0){var i=ee(r,n.a.size,n[TZ]);Object.keys(i).forEach(function(e){c[n.a].element.style[e]=``,c[n.b].element.style[e]=``})}})}return{setSizes:fe,getSizes:re,collapse:function(e){de(c[e])},destroy:pe,parent:l,pairs:ue}},RZ=J(`<div class="l svelte-1n46o8q"><div class="s svelte-1n46o8q"></div> <div class="t svelte-1n46o8q">Loading configuration...</div></div>`),zZ=J(`<div class="e svelte-1n46o8q"><div class="i svelte-1n46o8q">â ï¸</div> <h2 class="svelte-1n46o8q">Failed to Load Configuration</h2> <p class="m svelte-1n46o8q"> </p> <button class="svelte-1n46o8q">Retry</button></div>`),BZ=J(`<div class="b svelte-1n46o8q"> </div>`),VZ=J(`<div class="w svelte-1n46o8q"><div class="editor-container svelte-1n46o8q"><!></div> <div><!></div></div>`);function HZ(e,t){Re(t,!0);let n=jt(Rt({json:{}})),r=jt(null),i=jt(!0),a=jt(null),o=null,s=jt(!1);qi(async()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&e.key===`s`&&(e.preventDefault(),c())};document.addEventListener(`keydown`,e,{capture:!0});try{let e=await fetch(`/fancy-config-backend/load-json`,{cache:`no-store`,headers:{"Cache-Control":`no-cache`}});if(!e.ok)throw Error(`Failed to load config: ${e.statusText}`);z(n,{json:await e.json()},!0),z(i,!1),await new Promise(e=>setTimeout(e,100)),o=LZ([`.editor-container`,`.results`],{direction:`vertical`,sizes:[70,30],minSize:[100,50],gutterSize:6,cursor:`ns-resize`}),setTimeout(()=>{let e=document.querySelector(`.jse-menu`);if(e){let t=document.createElement(`label`);t.className=`custom-menu-checkbox`;let n=document.createElement(`input`);n.type=`checkbox`,n.id=`save-disk`,n.checked=W(s),n.onchange=e=>{z(s,e.target.checked,!0)};let r=document.createElement(`span`);r.textContent=`Save to disk`,t.appendChild(n),t.appendChild(r),e.appendChild(t)}},200)}catch(e){z(a,e.message,!0),z(i,!1)}return()=>{document.removeEventListener(`keydown`,e,{capture:!0}),o&&o.destroy()}});async function c(){_Z.default.start();try{let t;t=W(n).text===void 0?JSON.stringify(W(n).json,null,2):W(n).text;try{JSON.parse(t)}catch(e){z(r,{success:!1,errors:[`Invalid JSON: ${e.message}`]},!0),_Z.default.done();return}var e=`/fancy-config-backend/save-json`;W(s)&&(e+=`?persistent=true`);let i=await fetch(e,{method:`POST`,headers:{"Content-Type":`application/json`},body:t}),a=await i.text();i.ok?z(r,{success:!0,message:a},!0):z(r,{success:!1,errors:a.split(`
`).filter(Boolean)},!0)}catch(e){z(r,{success:!1,errors:[e.message]},!0)}finally{_Z.default.done()}}function l(e){let t=null;return e.forEach(function(e,n){e.className===`jse-compact`&&(t=n)}),t!==null&&e.splice(t,1),e.filter(e=>!(e.mode===`table`||e.text===`table`))}var u=Ar();Qr(`1n46o8q`,e=>{hn(()=>{Ht.title=`Fancy Config Editor`})});var d=Xt(u),f=e=>{Y(e,RZ())},p=e=>{var t=Ar(),i=Xt(t),o=e=>{var t=zZ(),n=V(B(t),4),r=B(n,!0);I(n);var i=V(n,2);i.__click=()=>window.location.reload(),I(t),U(()=>jr(r,W(a))),Y(e,t)},s=e=>{var t=VZ(),i=B(t);gZ(B(i),{mode:`text`,onRenderMenu:l,get content(){return W(n)},set content(e){z(n,e,!0)}}),I(i);var a=V(i,2);let o;var s=B(a),c=e=>{var t=kr();U(()=>jr(t,W(r).message)),Y(e,t)},u=e=>{var t=Ar(),n=Xt(t),i=e=>{var t=Ar();Hr(Xt(t),17,()=>W(r).errors,Rr,(e,t)=>{var n=BZ(),r=B(n,!0);I(n),U(()=>jr(r,W(t))),Y(e,n)}),Y(e,t)},a=e=>{Y(e,kr(`Press Ctrl+S to save`))};X(n,e=>{W(r)?.errors?e(i):e(a,!1)},!0),Y(e,t)};X(s,e=>{W(r)?.success?e(c):e(u,!1)}),I(a),I(t),U(()=>o=li(a,1,`results svelte-1n46o8q`,null,o,{success:W(r)?.success})),Y(e,t)};X(i,e=>{W(a)?e(o):e(s,!1)},!0),Y(e,t)};X(d,e=>{W(i)?e(f):e(p,!1)}),Y(e,u),ze()}Sr([`click`]),Mr(HZ,{target:document.getElementById(`app`)});</script>
    <style rel="stylesheet" crossorigin>.jse-absolute-popup.svelte-w643yj{z-index:1001;width:0;height:0;position:relative;top:0;left:0}.jse-absolute-popup.svelte-w643yj .jse-hidden-input:where(.svelte-w643yj){border:none;outline:none;width:0;height:0;margin:0;padding:0;position:fixed;top:0;left:0;overflow:hidden}.jse-absolute-popup.svelte-w643yj .jse-absolute-popup-content:where(.svelte-w643yj){position:absolute}.fa-icon.svelte-v67cny{fill:currentColor;display:inline-block}.fa-flip-horizontal.svelte-v67cny{transform:scaleX(-1)}.fa-flip-vertical.svelte-v67cny{transform:scaleY(-1)}.fa-spin.svelte-v67cny{animation:1s linear infinite svelte-v67cny-fa-spin}.fa-inverse.svelte-v67cny{color:#fff}.fa-pulse.svelte-v67cny{animation:1s steps(8,end) infinite svelte-v67cny-fa-spin}@keyframes svelte-v67cny-fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.jse-boolean-toggle.svelte-16dbi57{vertical-align:top;color:var(--jse-value-color-boolean,#ff8c00);margin:1px 0 0;padding:0;display:inline-flex}.jse-boolean-toggle.svelte-16dbi57:not(.jse-readonly){cursor:pointer}.jse-color-picker-popup.svelte-soixqc .picker_wrapper.popup,.jse-color-picker-popup.svelte-soixqc .picker_wrapper.popup .picker_arrow:before,.jse-color-picker-popup.svelte-soixqc .picker_wrapper.popup .picker_arrow:after{background:var(--jse-color-picker-background,var(--jse-panel-background,#ebebeb));line-height:normal}.jse-color-picker-popup.svelte-soixqc .picker_slider,.jse-color-picker-popup.svelte-soixqc .picker_sl,.jse-color-picker-popup.svelte-soixqc .picker_editor input,.jse-color-picker-popup.svelte-soixqc .picker_sample,.jse-color-picker-popup.svelte-soixqc .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow,#cbcbcb 0 0 0 1px)}.jse-color-picker-popup.svelte-soixqc .picker_editor input{background:var(--jse-background-color,#fff);color:var(--jse-text-color,#4d4d4d)}.jse-color-picker-popup.svelte-soixqc .picker_done button{background:var(--jse-button-background,#e0e0e0);color:var(--jse-button-color,var(--jse-text-color,#4d4d4d))}.jse-color-picker-popup.svelte-soixqc .picker_done button:hover{background:var(--jse-button-background-highlight,#e7e7e7)}.jse-color-picker-button.svelte-1wgct3c{font-size:var(--jse-font-size-mono,14px);width:var(--jse-color-picker-button-size,1em);height:var(--jse-color-picker-button-size,1em);box-sizing:border-box;margin:2px 0 0 calc(.5*var(--jse-padding,10px));vertical-align:top;border:1px solid var(--jse-text-color,#4d4d4d);background:inherit;border-radius:2px;outline:none;padding:0;display:inline-flex}.jse-color-picker-button.svelte-1wgct3c:not(.jse-readonly){cursor:pointer}.jse-value.jse-string.svelte-l4qhpw{color:var(--jse-value-color-string,green)}.jse-value.jse-object.svelte-l4qhpw,.jse-value.jse-array.svelte-l4qhpw{min-width:16px;color:var(--jse-delimiter-color,#00000061)}.jse-value.jse-number.svelte-l4qhpw{color:var(--jse-value-color-number,#ee422e)}.jse-value.jse-boolean.svelte-l4qhpw{color:var(--jse-value-color-boolean,#ff8c00)}.jse-value.jse-null.svelte-l4qhpw{color:var(--jse-value-color-null,#004ed0)}.jse-value.jse-invalid.svelte-l4qhpw{color:var(--jse-text-color,#4d4d4d)}.jse-value.jse-url.svelte-l4qhpw{color:var(--jse-value-color-url,green);text-decoration:underline}div.jse-editable-div.svelte-l4qhpw{box-sizing:border-box;vertical-align:top;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere;border-radius:1px;outline:none;min-width:2em;padding:0 5px;cursor:text!important}div.jse-editable-div.jse-short-text.svelte-l4qhpw{overflow-wrap:normal}div.jse-editable-div.jse-table-cell.svelte-l4qhpw{overflow-wrap:normal;white-space:nowrap}div.jse-editable-div[contenteditable=true].svelte-l4qhpw{outline:var(--jse-edit-outline,2px solid #656565);background:var(--jse-background-color,#fff);z-index:3;border-radius:0;display:inline-block;position:relative}div.jse-editable-div.jse-empty.svelte-l4qhpw:not(:focus){outline:1px dotted var(--jse-tag-background,#0003);-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-l4qhpw:after{pointer-events:none;color:var(--jse-tag-background,#0003)}.jse-highlight.svelte-xeh62o{background-color:var(--jse-search-match-color,#ffe665);outline:var(--jse-search-match-outline,none)}.jse-highlight.jse-active.svelte-xeh62o{background-color:var(--jse-search-match-active-color,var(--jse-search-match-color,#ffe665));outline:var(--jse-search-match-outline,2px solid #e0be00)}.jse-tag.svelte-txvf7b{font-size:80%;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);color:var(--jse-tag-color,var(--jse-text-color-inverse,#fff));background:var(--jse-tag-background,#0003);cursor:pointer;border:none;border-radius:2px;margin:1px 0;padding:0 4px;line-height:normal;display:inline-block}.jse-tag.svelte-txvf7b:hover{opacity:.8}.jse-tag.disabled.svelte-txvf7b{opacity:.7;cursor:inherit}.jse-value.jse-string.svelte-1osa8zi{color:var(--jse-value-color-string,green)}.jse-value.jse-object.svelte-1osa8zi,.jse-value.jse-array.svelte-1osa8zi{min-width:16px;color:var(--jse-delimiter-color,#00000061)}.jse-value.jse-number.svelte-1osa8zi{color:var(--jse-value-color-number,#ee422e)}.jse-value.jse-boolean.svelte-1osa8zi{color:var(--jse-value-color-boolean,#ff8c00)}.jse-value.jse-null.svelte-1osa8zi{color:var(--jse-value-color-null,#004ed0)}.jse-value.jse-invalid.svelte-1osa8zi{color:var(--jse-text-color,#4d4d4d)}.jse-value.jse-url.svelte-1osa8zi{color:var(--jse-value-color-url,green);text-decoration:underline}.jse-value.svelte-1osa8zi{box-sizing:border-box;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap;border-radius:1px;outline:none;min-width:2em;padding:0 5px;display:inline-block}.jse-value.jse-table-cell.svelte-1osa8zi{overflow-wrap:normal;white-space:nowrap}.jse-value.jse-empty.svelte-1osa8zi{outline:1px dotted var(--jse-tag-background,#0003);-moz-outline-radius:2px;min-width:4em}.jse-value.jse-empty.svelte-1osa8zi:after{pointer-events:none;color:var(--jse-tag-background,#0003);content:"value"}.jse-tooltip.svelte-o8xoi4{font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px);background:var(--jse-context-menu-background,#656565);color:var(--jse-context-menu-color,var(--jse-text-color-inverse,#fff));white-space:nowrap;box-shadow:var(--jse-controls-box-shadow,0 2px 6px 0 #0000003d);border-radius:3px;line-height:normal}.jse-timestamp.svelte-1eo5fkn{vertical-align:middle;color:var(--jse-value-color-number,#ee422e);margin:0;padding:0;display:inline-flex}svg.svelte-1kxu7be{width:var(--chevron-icon-width,20px);height:var(--chevron-icon-width,20px);color:var(--chevron-icon-colour,currentColor)}svg.svelte-1hraxrc{width:var(--clear-icon-width,20px);height:var(--clear-icon-width,20px);color:var(--clear-icon-color,currentColor)}.loading.svelte-y9fi5p{width:var(--spinner-width,20px);height:var(--spinner-height,20px);color:var(--spinner-color,var(--icons-color));transform-origin:50%;animation:.75s linear infinite svelte-y9fi5p-rotate;transform:none}.circle_path.svelte-y9fi5p{stroke-dasharray:90;stroke-linecap:round}@keyframes svelte-y9fi5p-rotate{to{transform:rotate(360deg)}}.svelte-select.svelte-1ul7oo4{--borderRadius:var(--border-radius);--clearSelectColor:var(--clear-select-color);--clearSelectWidth:var(--clear-select-width);--disabledBackground:var(--disabled-background);--disabledBorderColor:var(--disabled-border-color);--disabledColor:var(--disabled-color);--disabledPlaceholderColor:var(--disabled-placeholder-color);--disabledPlaceholderOpacity:var(--disabled-placeholder-opacity);--errorBackground:var(--error-background);--errorBorder:var(--error-border);--groupItemPaddingLeft:var(--group-item-padding-left);--groupTitleColor:var(--group-title-color);--groupTitleFontSize:var(--group-title-font-size);--groupTitleFontWeight:var(--group-title-font-weight);--groupTitlePadding:var(--group-title-padding);--groupTitleTextTransform:var(--group-title-text-transform);--groupTitleBorderColor:var(--group-title-border-color);--groupTitleBorderWidth:var(--group-title-border-width);--groupTitleBorderStyle:var(--group-title-border-style);--indicatorColor:var(--chevron-color);--indicatorHeight:var(--chevron-height);--indicatorWidth:var(--chevron-width);--inputColor:var(--input-color);--inputLeft:var(--input-left);--inputLetterSpacing:var(--input-letter-spacing);--inputMargin:var(--input-margin);--inputPadding:var(--input-padding);--itemActiveBackground:var(--item-active-background);--itemColor:var(--item-color);--itemFirstBorderRadius:var(--item-first-border-radius);--itemHoverBG:var(--item-hover-bg);--itemHoverColor:var(--item-hover-color);--itemIsActiveBG:var(--item-is-active-bg);--itemIsActiveColor:var(--item-is-active-color);--itemIsNotSelectableColor:var(--item-is-not-selectable-color);--itemPadding:var(--item-padding);--listBackground:var(--list-background);--listBorder:var(--list-border);--listBorderRadius:var(--list-border-radius);--listEmptyColor:var(--list-empty-color);--listEmptyPadding:var(--list-empty-padding);--listEmptyTextAlign:var(--list-empty-text-align);--listMaxHeight:var(--list-max-height);--listPosition:var(--list-position);--listShadow:var(--list-shadow);--listZIndex:var(--list-z-index);--multiItemBG:var(--multi-item-bg);--multiItemBorderRadius:var(--multi-item-border-radius);--multiItemDisabledHoverBg:var(--multi-item-disabled-hover-bg);--multiItemDisabledHoverColor:var(--multi-item-disabled-hover-color);--multiItemHeight:var(--multi-item-height);--multiItemMargin:var(--multi-item-margin);--multiItemPadding:var(--multi-item-padding);--multiSelectInputMargin:var(--multi-select-input-margin);--multiSelectInputPadding:var(--multi-select-input-padding);--multiSelectPadding:var(--multi-select-padding);--placeholderColor:var(--placeholder-color);--placeholderOpacity:var(--placeholder-opacity);--selectedItemPadding:var(--selected-item-padding);--spinnerColor:var(--spinner-color);--spinnerHeight:var(--spinner-height);--spinnerWidth:var(--spinner-width);--internal-padding:0 0 0 16px;border:var(--border,1px solid #d8dbdf);border-radius:var(--border-radius,6px);min-height:var(--height,42px);padding:var(--padding,var(--internal-padding));background:var(--background,#fff);margin:var(--margin,0);width:var(--width,100%);font-size:var(--font-size,16px);max-height:var(--max-height);align-items:stretch;display:flex;position:relative}.svelte-1ul7oo4{box-sizing:var(--box-sizing,border-box)}.svelte-select.svelte-1ul7oo4:hover{border:var(--border-hover,1px solid #b2b8bf)}.value-container.svelte-1ul7oo4{padding:var(--value-container-padding,5px 0);overflow:var(--value-container-overflow,hidden);flex-wrap:wrap;flex:1;align-self:stretch;align-items:center;gap:5px 10px;display:flex;position:relative}.prepend.svelte-1ul7oo4,.indicators.svelte-1ul7oo4{flex-shrink:0;align-items:center;display:flex}.indicators.svelte-1ul7oo4{position:var(--indicators-position);top:var(--indicators-top);right:var(--indicators-right);bottom:var(--indicators-bottom)}input.svelte-1ul7oo4{cursor:default;color:var(--input-color,var(--item-color));padding:var(--input-padding,0);letter-spacing:var(--input-letter-spacing,inherit);margin:var(--input-margin,0);min-width:10px;font-size:var(--font-size,16px);background:0 0;border:none;position:absolute;inset:0}.svelte-1ul7oo4:not(.multi)>.value-container:where(.svelte-1ul7oo4)>input:where(.svelte-1ul7oo4){width:100%;height:100%}input.svelte-1ul7oo4::placeholder{color:var(--placeholder-color,#78848f);opacity:var(--placeholder-opacity,1)}input.svelte-1ul7oo4:focus{outline:none}.svelte-select.focused.svelte-1ul7oo4{border:var(--border-focused,1px solid #006fe8);border-radius:var(--border-radius-focused,var(--border-radius,6px))}.disabled.svelte-1ul7oo4{background:var(--disabled-background,#ebedef);border-color:var(--disabled-border-color,#ebedef);color:var(--disabled-color,#c1c6cc)}.disabled.svelte-1ul7oo4 input:where(.svelte-1ul7oo4)::placeholder{color:var(--disabled-placeholder-color,#c1c6cc);opacity:var(--disabled-placeholder-opacity,1)}.selected-item.svelte-1ul7oo4{overflow:var(--selected-item-overflow,hidden);padding:var(--selected-item-padding,0 20px 0 0);text-overflow:ellipsis;white-space:nowrap;color:var(--selected-item-color,inherit);font-size:var(--font-size,16px);position:relative}.multi.svelte-1ul7oo4 .selected-item:where(.svelte-1ul7oo4){line-height:var(--height,42px);height:var(--height,42px);position:absolute}.selected-item.svelte-1ul7oo4:focus{outline:none}.hide-selected-item.svelte-1ul7oo4{opacity:0}.icon.svelte-1ul7oo4{justify-content:center;align-items:center;display:flex}.clear-select.svelte-1ul7oo4{all:unset;width:var(--clear-select-width,40px);height:var(--clear-select-height,100%);color:var(--clear-select-color,var(--icons-color));margin:var(--clear-select-margin,0);pointer-events:all;flex-shrink:0;justify-content:center;align-items:center;display:flex}.clear-select.svelte-1ul7oo4:focus{outline:var(--clear-select-focus-outline,1px solid #006fe8)}.loading.svelte-1ul7oo4{width:var(--loading-width,40px);height:var(--loading-height);color:var(--loading-color,var(--icons-color));margin:var(--loading--margin,0);flex-shrink:0}.chevron.svelte-1ul7oo4{width:var(--chevron-width,40px);height:var(--chevron-height,40px);background:var(--chevron-background,transparent);pointer-events:var(--chevron-pointer-events,none);color:var(--chevron-color,var(--icons-color));border:var(--chevron-border,0 0 0 1px solid #d8dbdf);flex-shrink:0}.multi.svelte-1ul7oo4{padding:var(--multi-select-padding,var(--internal-padding))}.multi.svelte-1ul7oo4 input:where(.svelte-1ul7oo4){padding:var(--multi-select-input-padding,0);margin:var(--multi-select-input-margin,5px 0);flex:40px;position:relative}.svelte-select.error.svelte-1ul7oo4{border:var(--error-border,1px solid #ff2d55);background:var(--error-background,#fff)}.a11y-text.svelte-1ul7oo4{z-index:9999;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;width:1px;height:1px;padding:0;position:absolute;overflow:hidden}.multi-item.svelte-1ul7oo4{background:var(--multi-item-bg,#ebedef);margin:var(--multi-item-margin,0);outline:var(--multi-item-outline,1px solid #ddd);border-radius:var(--multi-item-border-radius,4px);height:var(--multi-item-height,25px);line-height:var(--multi-item-height,25px);cursor:default;padding:var(--multi-item-padding,0 5px);gap:var(--multi-item-gap,4px);outline-offset:-1px;max-width:var(--multi-max-width,none);color:var(--multi-item-color,var(--item-color));display:flex;overflow:hidden}.multi-item.disabled.svelte-1ul7oo4:hover{background:var(--multi-item-disabled-hover-bg,#ebedef);color:var(--multi-item-disabled-hover-color,#c1c6cc)}.multi-item-text.svelte-1ul7oo4{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.multi-item-clear.svelte-1ul7oo4{--clear-icon-color:var(--multi-item-clear-icon-color,#000);justify-content:center;align-items:center;display:flex}.multi-item.active.svelte-1ul7oo4{outline:var(--multi-item-active-outline,1px solid #006fe8)}.svelte-select-list.svelte-1ul7oo4{box-shadow:var(--list-shadow,0 2px 3px 0 #2c3e503d);border-radius:var(--list-border-radius,4px);max-height:var(--list-max-height,252px);background:var(--list-background,#fff);position:var(--list-position,absolute);z-index:var(--list-z-index,2);border:var(--list-border);overflow-y:auto}.prefloat.svelte-1ul7oo4{opacity:0;pointer-events:none}.list-group-title.svelte-1ul7oo4{color:var(--group-title-color,#8f8f8f);cursor:default;font-size:var(--group-title-font-size,16px);font-weight:var(--group-title-font-weight,600);height:var(--height,42px);line-height:var(--height,42px);padding:var(--group-title-padding,0 20px);text-overflow:ellipsis;white-space:nowrap;text-transform:var(--group-title-text-transform,uppercase);border-width:var(--group-title-border-width,medium);border-style:var(--group-title-border-style,none);border-color:var(--group-title-border-color,color);overflow-x:hidden}.empty.svelte-1ul7oo4{text-align:var(--list-empty-text-align,center);padding:var(--list-empty-padding,20px 0);color:var(--list-empty-color,#78848f)}.item.svelte-1ul7oo4{cursor:default;height:var(--item-height,var(--height,42px));line-height:var(--item-line-height,var(--height,42px));padding:var(--item-padding,0 20px);color:var(--item-color,inherit);text-overflow:ellipsis;white-space:nowrap;transition:var(--item-transition,all .2s);align-items:center;width:100%;overflow:hidden}.item.group-item.svelte-1ul7oo4{padding-left:var(--group-item-padding-left,40px)}.item.svelte-1ul7oo4:active{background:var(--item-active-background,#b9daff)}.item.active.svelte-1ul7oo4{background:var(--item-is-active-bg,#007aff);color:var(--item-is-active-color,#fff)}.item.first.svelte-1ul7oo4{border-radius:var(--item-first-border-radius,4px 4px 0 0)}.item.hover.svelte-1ul7oo4:not(.active){background:var(--item-hover-bg,#e7f2ff);color:var(--item-hover-color,inherit)}.item.not-selectable.svelte-1ul7oo4,.item.hover.item.not-selectable.svelte-1ul7oo4,.item.active.item.not-selectable.svelte-1ul7oo4,.item.not-selectable.svelte-1ul7oo4:active{color:var(--item-is-not-selectable-color,#999);background:0 0}.required.svelte-1ul7oo4{opacity:0;z-index:-1;position:absolute;inset:0}table.jse-transform-wizard.svelte-1brpr3g{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-1brpr3g input:where(.svelte-1brpr3g){font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) th:where(.svelte-1brpr3g){text-align:left;width:60px;font-weight:400}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g){width:100%;margin-bottom:calc(.5*var(--jse-padding,10px));flex-direction:row;display:flex}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select .multi-item{align-items:center}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select .value-container{gap:0!important}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select.jse-filter-path{margin-right:calc(.5*var(--jse-padding,10px));flex:4}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select.jse-filter-relation{margin-right:calc(.5*var(--jse-padding,10px));flex:1.5}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select.jse-sort-path{margin-right:calc(.5*var(--jse-padding,10px));flex:3}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select.jse-sort-direction,table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .svelte-select input{box-sizing:border-box}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .jse-filter-value:where(.svelte-1brpr3g){border:var(--jse-input-border,1px solid #d8dbdf);border-radius:var(--jse-input-radius,3px);background:var(--jse-input-background,var(--jse-background-color,#fff));color:inherit;outline:none;flex:4;padding:4px 8px}table.jse-transform-wizard.svelte-1brpr3g tr:where(.svelte-1brpr3g) td:where(.svelte-1brpr3g) .jse-horizontal:where(.svelte-1brpr3g) .jse-filter-value:where(.svelte-1brpr3g):focus{border:var(--jse-input-border-focus,1px solid var(--jse-input-border-focus,var(--jse-theme-color,#3883fa)))}.jse-select-query-language.svelte-189jx5g{width:32px;position:relative}.jse-select-query-language.svelte-189jx5g .jse-select-query-language-container:where(.svelte-189jx5g){box-shadow:var(--jse-controls-box-shadow,0 2px 6px 0 #0000003d);flex-direction:column;display:flex;position:absolute;top:0;right:0}.jse-select-query-language.svelte-189jx5g .jse-select-query-language-container:where(.svelte-189jx5g) .jse-query-language:where(.svelte-189jx5g){color:var(--jse-context-menu-color,var(--jse-text-color-inverse,#fff));cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);text-align:left;padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));white-space:nowrap;background:0 0;background:var(--jse-context-menu-background,#656565);border:none;margin:0}.jse-select-query-language.svelte-189jx5g .jse-select-query-language-container:where(.svelte-189jx5g) .jse-query-language:where(.svelte-189jx5g):hover{background:var(--jse-context-menu-background-highlight,#7a7a7a)}.jse-header.svelte-y8gvfs{background:var(--jse-theme-color,#3883fa);color:var(--jse-menu-color,var(--jse-text-color-inverse,#fff));display:flex}.jse-header.svelte-y8gvfs .jse-title:where(.svelte-y8gvfs){vertical-align:middle;flex:1;padding:5px}.jse-header.svelte-y8gvfs button:where(.svelte-y8gvfs){min-width:32px;color:inherit;cursor:pointer;background:0 0;border:none}.jse-header.svelte-y8gvfs button:where(.svelte-y8gvfs):hover{background:#ffffff1a}.jse-config.svelte-1r3wa3v{min-width:32px;color:inherit;cursor:pointer;background:0 0;border:none}.jse-config.svelte-1r3wa3v:hover{background:#ffffff1a}.jse-config.hide.svelte-1r3wa3v{display:none}.jse-message.svelte-1pn5qw0{font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);padding:var(--jse-padding,10px);gap:var(--jse-padding,10px);flex-wrap:wrap;align-items:stretch;display:flex}.jse-message.jse-success.svelte-1pn5qw0{background:var(--message-success-background,#9ac45d);color:var(--jse-message-success-color,#fff)}.jse-message.svelte-1pn5qw0 .jse-text:where(.svelte-1pn5qw0){flex:1;align-items:center;min-width:60%;display:flex}.jse-message.svelte-1pn5qw0 .jse-text.jse-clickable:where(.svelte-1pn5qw0){cursor:pointer}.jse-message.svelte-1pn5qw0 .jse-text.jse-clickable:where(.svelte-1pn5qw0):hover{background-color:#ffffff1a}.jse-message.jse-error.svelte-1pn5qw0{background:var(--jse-message-error-background,var(--jse-error-color,#ee5341));color:var(--jse-message-error-color,#fff)}.jse-message.jse-warning.svelte-1pn5qw0{background:var(--jse-message-warning-background,#ffde5c);color:var(--jse-message-warning-color,#4d4d4d)}.jse-message.jse-info.svelte-1pn5qw0{background:var(--jse-message-info-background,#4f91ff);color:var(--jse-message-info-color,#fff)}.jse-message.svelte-1pn5qw0 .jse-actions:where(.svelte-1pn5qw0){gap:var(--jse-padding,10px);display:flex}.jse-message.svelte-1pn5qw0 .jse-actions:where(.svelte-1pn5qw0) button.jse-action:where(.svelte-1pn5qw0){color:inherit;cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-message-action-background,#fff3);padding:5px;padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px);border:none;margin:0}.jse-message.svelte-1pn5qw0 .jse-actions:where(.svelte-1pn5qw0) button.jse-action:where(.svelte-1pn5qw0):hover{background:var(--jse-message-action-background-highlight,#ffffff4d)}.jse-validation-errors-overview.svelte-1chroj6{font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);max-height:25%;overflow:auto}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6){border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6){cursor:pointer}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr.jse-validation-error:where(.svelte-1chroj6){background:var(--jse-message-error-background,var(--jse-error-color,#ee5341));color:var(--jse-message-error-color,#fff)}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr.jse-validation-warning:where(.svelte-1chroj6){background:var(--jse-message-warning-background,#ffde5c);color:var(--jse-message-warning-color,#4d4d4d)}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr.jse-validation-warning:where(.svelte-1chroj6):hover{filter:brightness(105%)}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr.jse-validation-info:where(.svelte-1chroj6){background:var(--jse-message-info-background,#4f91ff);color:var(--jse-message-info-color,#fff)}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6):hover{filter:brightness(110%)}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6) td:where(.svelte-1chroj6){padding:4px var(--jse-padding,10px);vertical-align:middle}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6) td.jse-validation-error-icon:where(.svelte-1chroj6){box-sizing:border-box;width:36px}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6) td.jse-validation-error-action:where(.svelte-1chroj6){box-sizing:border-box;width:36px;padding:0}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6) td.jse-validation-error-action:where(.svelte-1chroj6) button.jse-validation-errors-collapse:where(.svelte-1chroj6){color:inherit;cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);cursor:pointer;background:0 0;border:none;width:36px;height:26px;margin:0;padding:5px}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6) td.jse-validation-error-action:where(.svelte-1chroj6) button.jse-validation-errors-collapse:where(.svelte-1chroj6):hover{background-color:#fff3}.jse-validation-errors-overview.svelte-1chroj6 table:where(.svelte-1chroj6) tr:where(.svelte-1chroj6) td:where(.svelte-1chroj6) div.jse-validation-errors-expand:where(.svelte-1chroj6){display:inline-block;position:relative;top:3px}dialog.jse-modal.svelte-puv2fa{font-size:var(--jse-padding,10px);border:none;border-radius:3px;min-width:0;margin:auto;padding:0;transition:width .1s ease-in-out,height .1s ease-in-out;display:flex;overflow:visible}dialog.jse-modal.jse-sort-modal.svelte-puv2fa{width:400px}dialog.jse-modal.jse-repair-modal.svelte-puv2fa{width:600px;height:500px}dialog.jse-modal.jse-jsoneditor-modal.svelte-puv2fa{width:800px;height:600px}dialog.jse-modal.jse-transform-modal.svelte-puv2fa{width:1200px;height:800px}dialog.jse-modal.jse-fullscreen.svelte-puv2fa{width:100%;height:100%}dialog.jse-modal.svelte-puv2fa::backdrop{background:var(--jse-overlay-background,#0000004d)}dialog.jse-modal[open].svelte-puv2fa{animation:.3s cubic-bezier(.34,1.56,.64,1) svelte-puv2fa-zoom}dialog.jse-modal[open].svelte-puv2fa::backdrop{animation:.2s ease-out svelte-puv2fa-fade}dialog.jse-modal.svelte-puv2fa .jse-modal-inner:where(.svelte-puv2fa){min-width:0;min-height:0;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:var(--jse-modal-background,#f5f5f5);color:var(--jse-text-color,#4d4d4d);flex-direction:column;flex:1;padding:0;line-height:normal;display:flex}@keyframes svelte-puv2fa-zoom{0%{transform:scale(.95)}to{transform:scale(1)}}@keyframes svelte-puv2fa-fade{0%{opacity:0}to{opacity:1}}dialog.jse-modal.svelte-puv2fa .svelte-select{--border:var(--jse-svelte-select-border,1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg,#3883fa);--border-radius:var(--jse-svelte-select-border-radius,3px);--background:var(--jse-svelte-select-background,#fff);--padding:var(--jse-svelte-select-padding,0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding,0 10px);--font-size:var(--jse-svelte-select-font-size,var(--jse-font-size,16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal-contents.svelte-11kndi4{flex-direction:column;flex:1;min-width:0;min-height:0;padding:20px;display:flex;overflow:auto}.jse-modal-contents.svelte-11kndi4 .jse-actions:where(.svelte-11kndi4){padding-top:var(--jse-padding,10px);flex-direction:row;justify-content:flex-end;display:flex}.jse-modal-contents.svelte-11kndi4 .jse-actions:where(.svelte-11kndi4) button.jse-primary:where(.svelte-11kndi4){color:var(--jse-button-primary-color,#fff);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-button-primary-background,var(--jse-theme-color,#3883fa));padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));border:none;border-radius:3px;margin:0}.jse-modal-contents.svelte-11kndi4 .jse-actions:where(.svelte-11kndi4) button.jse-primary:where(.svelte-11kndi4):hover{background:var(--jse-button-primary-background-highlight,var(--jse-theme-color-highlight,#5f9dff))}.jse-modal-contents.svelte-11kndi4 .jse-actions:where(.svelte-11kndi4) button.jse-primary:where(.svelte-11kndi4):disabled{background:var(--jse-button-primary-background-disabled,#9d9d9d)}.jse-shortcuts.svelte-11kndi4{margin:calc(2*var(--jse-padding,10px))0;flex-wrap:wrap;justify-content:space-around;display:flex}.jse-shortcuts.svelte-11kndi4 .jse-shortcut:where(.svelte-11kndi4) .jse-key:where(.svelte-11kndi4){color:var(--jse-theme-color,#3883fa);font-size:200%}.jse-menu.svelte-196gvk2{background:var(--jse-theme-color,#3883fa);font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size-main-menu,14px);color:var(--jse-menu-color,var(--jse-text-color-inverse,#fff));flex-wrap:wrap;align-items:stretch;display:flex;position:relative}.jse-menu.svelte-196gvk2 .jse-button:where(.svelte-196gvk2){font-family:inherit;font-size:inherit;color:inherit;cursor:pointer;width:var(--jse-menu-button-size,32px);height:var(--jse-menu-button-size,32px);padding:calc(.5*var(--jse-padding,10px));text-align:center;background:0 0;border:none;border-radius:0;justify-content:center;align-items:center;margin:0;line-height:1.5em;display:inline-flex}.jse-menu.svelte-196gvk2 .jse-button:where(.svelte-196gvk2):hover,.jse-menu.svelte-196gvk2 .jse-button:where(.svelte-196gvk2):focus{background:var(--jse-theme-color-highlight,#5f9dff)}.jse-menu.svelte-196gvk2 .jse-button:where(.svelte-196gvk2):disabled{color:var(--jse-menu-color,var(--jse-text-color-inverse,#fff));opacity:.5;background:0 0}.jse-menu.svelte-196gvk2 .jse-button.jse-group-button:where(.svelte-196gvk2){width:auto;height:calc(var(--jse-menu-button-size,32px) - var(--jse-padding,10px));margin:calc(.5*var(--jse-padding,10px))0;padding:0 calc(.5*var(--jse-padding,10px))1px;border:1px solid var(--jse-menu-color,var(--jse-text-color-inverse,#fff))}.jse-menu.svelte-196gvk2 .jse-button.jse-group-button:where(.svelte-196gvk2):not(.jse-last){border-right:none}.jse-menu.svelte-196gvk2 .jse-button.jse-group-button.jse-first:where(.svelte-196gvk2){margin-left:calc(.5*var(--jse-padding,10px))}.jse-menu.svelte-196gvk2 .jse-button.jse-group-button.jse-last:where(.svelte-196gvk2){margin-right:calc(.5*var(--jse-padding,10px))}.jse-menu.svelte-196gvk2 .jse-button.jse-group-button:where(.svelte-196gvk2):hover,.jse-menu.svelte-196gvk2 .jse-button.jse-group-button:where(.svelte-196gvk2):focus{background:var(--jse-theme-color-highlight,#5f9dff)}.jse-menu.svelte-196gvk2 .jse-button.jse-group-button.jse-selected:where(.svelte-196gvk2){background:var(--jse-menu-color,var(--jse-text-color-inverse,#fff));color:var(--jse-theme-color,#3883fa)}.jse-menu.svelte-196gvk2 .jse-space:where(.svelte-196gvk2){flex:1}.jse-menu.svelte-196gvk2 .jse-separator:where(.svelte-196gvk2){background:var(--jse-menu-color,var(--jse-text-color-inverse,#fff));opacity:.3;width:1px;margin:3px}.jse-json-repair-component.svelte-77h21f{background:var(--jse-background-color,#fff);color:var(--jse-text-color,#4d4d4d);flex-direction:column;flex:1;display:flex}.jse-json-repair-component.svelte-77h21f .jse-info:where(.svelte-77h21f){padding:calc(.5*var(--jse-padding,10px));font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);vertical-align:center}.jse-json-repair-component.svelte-77h21f .jse-json-text:where(.svelte-77h21f){font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);background:var(--jse-input-background,var(--jse-background-color,#fff));color:var(--jse-text-color,#4d4d4d);resize:none;border:none;outline:none;flex:1;padding:2px}div.jse-collapsed-items.svelte-1z9v8u{margin-left:calc(var(--level)*var(--jse-indent-size,calc(1em + 4px)));font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);color:var(--jse-collapsed-items-link-color,#00000061);padding:calc(.5*var(--jse-padding,10px));background-color:var(--jse-contents-background-color,transparent);background-image:linear-gradient(var(--jse-collapsed-items-background-color,#f5f5f5),var(--jse-collapsed-items-background-color,#f5f5f5)),linear-gradient(to bottom right,transparent 50.5%,var(--jse-collapsed-items-background-color,#f5f5f5)50.5%),linear-gradient(to bottom left,transparent 50.5%,var(--jse-collapsed-items-background-color,#f5f5f5)50.5%),linear-gradient(to top right,transparent 50.5%,var(--jse-collapsed-items-background-color,#f5f5f5)50.5%),linear-gradient(to top left,transparent 50.5%,var(--jse-collapsed-items-background-color,#f5f5f5)50.5%);background-position:0 0,8px 0,8px 0,8px 100%,8px 100%;background-repeat:repeat,repeat-x,repeat-x,repeat-x,repeat-x;background-size:auto,16px 16px,16px 16px,16px 16px,16px 16px;background-origin:padding-box,border-box,border-box,border-box,border-box;background-clip:padding-box,border-box,border-box,border-box,border-box;border:8px solid #0000;border-width:8px 0;display:flex}div.jse-collapsed-items.jse-selected.svelte-1z9v8u{background-color:var(--jse-selection-background-color,#d3d3d3);--jse-collapsed-items-background-color:var(--jse-collapsed-items-selected-background-color,#c2c2c2)}div.jse-collapsed-items.svelte-1z9v8u div.jse-text:where(.svelte-1z9v8u),div.jse-collapsed-items.svelte-1z9v8u button.jse-expand-items:where(.svelte-1z9v8u){margin:0 calc(.5*var(--jse-padding,10px))}div.jse-collapsed-items.svelte-1z9v8u div.jse-text:where(.svelte-1z9v8u){display:inline}div.jse-collapsed-items.svelte-1z9v8u button.jse-expand-items:where(.svelte-1z9v8u){font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color,#00000061);cursor:pointer;background:0 0;border:none;padding:0;text-decoration:underline}div.jse-collapsed-items.svelte-1z9v8u button.jse-expand-items:where(.svelte-1z9v8u):hover,div.jse-collapsed-items.svelte-1z9v8u button.jse-expand-items:where(.svelte-1z9v8u):focus{color:var(--jse-collapsed-items-link-color-highlight,#ee5341)}.jse-context-menu-pointer.svelte-1talivj{top:calc(-.5*var(--jse-context-menu-pointer-size,calc(1em + 4px)));right:calc(-.5*var(--jse-context-menu-pointer-size,calc(1em + 4px)));width:var(--jse-context-menu-pointer-size,calc(1em + 4px));height:var(--jse-context-menu-pointer-size,calc(1em + 4px));cursor:pointer;background:0 0;background:var(--jse-context-menu-pointer-hover-background,#b2b2b2);color:var(--jse-context-menu-pointer-color,var(--jse-context-menu-color,var(--jse-text-color-inverse,#fff)));box-shadow:var(--jse-controls-box-shadow,0 2px 6px 0 #0000003d);border:none;border-radius:2px;margin:0;padding:0;position:absolute}.jse-context-menu-pointer.jse-root.svelte-1talivj{top:0;right:calc(-2px - var(--jse-context-menu-pointer-size,calc(1em + 4px)))}.jse-context-menu-pointer.jse-insert.svelte-1talivj{right:-1px}.jse-context-menu-pointer.svelte-1talivj:hover{background:var(--jse-context-menu-pointer-background-highlight,var(--jse-context-menu-background-highlight,#7a7a7a))}.jse-context-menu-pointer.jse-selected.svelte-1talivj{background:var(--jse-context-menu-pointer-background,var(--jse-context-menu-background,#656565))}.jse-context-menu-pointer.jse-selected.svelte-1talivj:hover{background:var(--jse-context-menu-pointer-background-highlight,var(--jse-context-menu-background-highlight,#7a7a7a))}.jse-key.svelte-6o1g0a{box-sizing:border-box;vertical-align:top;min-width:2em;color:var(--jse-key-color,#1a1a1a);word-break:normal;overflow-wrap:normal;white-space:pre-wrap;border-radius:1px;outline:none;padding:0 5px;display:inline-block}.jse-key.jse-empty.svelte-6o1g0a{outline:1px dotted var(--jse-tag-background,#0003);-moz-outline-radius:2px;min-width:3em}.jse-key.jse-empty.svelte-6o1g0a:after{pointer-events:none;color:var(--jse-tag-background,#0003);content:"key"}button.jse-validation-error.svelte-1gvcg6h{color:var(--jse-error-color,#ee5341);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);vertical-align:top;background:0 0;border:none;margin:0;padding:0;display:inline-flex}button.jse-validation-info.svelte-1gvcg6h{color:var(--jse-info-color,#4f91ff);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);vertical-align:top;background:0 0;border:none;margin:0;padding:0;display:inline-flex}button.jse-validation-warning.svelte-1gvcg6h{color:var(--jse-warning-color,#fdc539);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);vertical-align:top;background:0 0;border:none;margin:0;padding:0;display:inline-flex}.jse-expand.svelte-ik1vm9{width:var(--jse-indent-size,calc(1em + 4px));cursor:pointer;color:var(--jse-delimiter-color,#00000061);font-size:var(--jse-font-size-mono,14px);height:var(--jse-line-height,calc(1em + 4px));background:0 0;border:none;margin:0;padding:0}.jse-expand.svelte-ik1vm9:hover{opacity:.8}.jse-meta.svelte-ik1vm9,.jse-separator.svelte-ik1vm9,.jse-index.svelte-ik1vm9,.jse-bracket.svelte-ik1vm9{vertical-align:top;color:var(--jse-delimiter-color,#00000061)}.jse-index.svelte-ik1vm9{padding:0 calc(.5*var(--jse-padding,10px))}.jse-bracket.svelte-ik1vm9{padding:0 2px}.jse-bracket.jse-expanded.svelte-ik1vm9{padding-right:var(--jse-padding,10px)}.jse-identifier.svelte-ik1vm9{vertical-align:top;position:relative}.jse-json-node.svelte-ik1vm9{color:var(--jse-text-color,#4d4d4d);position:relative}.jse-json-node.jse-root.svelte-ik1vm9{box-sizing:border-box;min-height:100%;padding-bottom:2px}.jse-json-node.jse-root.svelte-ik1vm9>.jse-contents-outer:where(.svelte-ik1vm9)>.jse-contents:where(.svelte-ik1vm9){padding-left:0}.jse-json-node.svelte-ik1vm9 .jse-props:where(.svelte-ik1vm9),.jse-json-node.svelte-ik1vm9 .jse-items:where(.svelte-ik1vm9){position:relative}.jse-json-node.svelte-ik1vm9 .jse-header-outer:where(.svelte-ik1vm9),.jse-json-node.svelte-ik1vm9 .jse-footer-outer:where(.svelte-ik1vm9){margin-left:calc(var(--level)*var(--jse-indent-size,calc(1em + 4px)));display:flex}.jse-json-node.svelte-ik1vm9 .jse-header:where(.svelte-ik1vm9){position:relative}.jse-json-node.svelte-ik1vm9 .jse-header:where(.svelte-ik1vm9) .jse-meta:where(.svelte-ik1vm9)>.jse-meta-inner:where(.svelte-ik1vm9){justify-content:center;display:flex}.jse-json-node.svelte-ik1vm9 .jse-contents-outer:where(.svelte-ik1vm9){margin-left:calc(var(--level)*var(--jse-indent-size,calc(1em + 4px)));display:flex}.jse-json-node.svelte-ik1vm9 .jse-header:where(.svelte-ik1vm9),.jse-json-node.svelte-ik1vm9 .jse-contents:where(.svelte-ik1vm9){flex-direction:row;align-items:flex-start;display:flex}.jse-json-node.svelte-ik1vm9 .jse-contents:where(.svelte-ik1vm9){padding-left:var(--jse-indent-size,calc(1em + 4px));cursor:var(--jse-contents-cursor,pointer)}.jse-json-node.svelte-ik1vm9 .jse-contents:where(.svelte-ik1vm9) .jse-value-outer:where(.svelte-ik1vm9){display:inline-flex}.jse-json-node.svelte-ik1vm9 .jse-footer:where(.svelte-ik1vm9){padding-left:calc(var(--jse-indent-size,calc(1em + 4px)) + 5px);display:inline-flex}.jse-json-node.svelte-ik1vm9 .jse-header:where(.svelte-ik1vm9),.jse-json-node.svelte-ik1vm9 .jse-contents:where(.svelte-ik1vm9),.jse-json-node.svelte-ik1vm9 .jse-footer:where(.svelte-ik1vm9){background:var(--jse-contents-background-color,transparent)}.jse-json-node.svelte-ik1vm9 .jse-insert-selection-area:where(.svelte-ik1vm9){padding:0 calc(.5*var(--jse-padding,10px));flex:1}.jse-json-node.svelte-ik1vm9 .jse-insert-selection-area.jse-inside:where(.svelte-ik1vm9){align-items:center;display:inline-flex}.jse-json-node.svelte-ik1vm9 .jse-insert-selection-area.jse-after:where(.svelte-ik1vm9){align-items:flex-end;display:flex}.jse-json-node.svelte-ik1vm9 .jse-context-menu-pointer-anchor:where(.svelte-ik1vm9){position:relative}.jse-json-node.svelte-ik1vm9 .jse-insert-area:where(.svelte-ik1vm9){z-index:1;margin-left:calc(var(--level)*var(--jse-indent-size,calc(1em + 4px)));min-width:100px;max-width:250px;height:0;margin-right:calc(.5*var(--jse-padding,10px));outline:1px solid;display:flex;position:relative}.jse-json-node.svelte-ik1vm9 .jse-insert-area.jse-hovered:where(.svelte-ik1vm9){outline-color:var(--jse-context-menu-pointer-hover-background,#b2b2b2)}.jse-json-node.svelte-ik1vm9 .jse-key-outer:where(.svelte-ik1vm9){position:relative}.jse-json-node.svelte-ik1vm9 .jse-key-outer:where(.svelte-ik1vm9):hover,.jse-json-node.svelte-ik1vm9 .jse-value-outer:where(.svelte-ik1vm9):hover,.jse-json-node.svelte-ik1vm9 .jse-meta:where(.svelte-ik1vm9):hover,.jse-json-node.svelte-ik1vm9 .jse-footer:where(.svelte-ik1vm9):hover,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-meta,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-footer{background:var(--jse-hover-background-color,#0000000f);cursor:var(--jse-contents-cursor,pointer)}.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-meta,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-meta,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-meta,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-meta,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-meta,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-meta,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-value-outer,.jse-json-node.jse-hovered.svelte-ik1vm9:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-meta{background:0 0}.jse-json-node.jse-selected.svelte-ik1vm9 .jse-header:where(.svelte-ik1vm9),.jse-json-node.jse-selected.svelte-ik1vm9 .jse-contents:where(.svelte-ik1vm9),.jse-json-node.jse-selected.svelte-ik1vm9 .jse-footer:where(.svelte-ik1vm9){background:var(--jse-selection-background-color,#d3d3d3);cursor:var(--jse-contents-selected-cursor,grab)}.jse-json-node.jse-selected.svelte-ik1vm9 .jse-key-outer:where(.svelte-ik1vm9):hover,.jse-json-node.jse-selected.svelte-ik1vm9 .jse-value-outer:where(.svelte-ik1vm9):hover,.jse-json-node.jse-selected.svelte-ik1vm9 .jse-meta:where(.svelte-ik1vm9):hover,.jse-json-node.jse-selected.svelte-ik1vm9 .jse-footer:where(.svelte-ik1vm9):hover{background:inherit;cursor:inherit}.jse-json-node.svelte-ik1vm9 .jse-key-outer.jse-selected-key:where(.svelte-ik1vm9),.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-value-outer,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-meta,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-items .jse-header,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-items .jse-contents,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-props .jse-header,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-props .jse-contents,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-footer{background:var(--jse-selection-background-color,#d3d3d3);cursor:var(--jse-contents-selected-cursor,grab)}.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-value-outer .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-meta .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-items .jse-header .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-items .jse-contents .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-props .jse-header .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-props .jse-contents .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-ik1vm9 .jse-footer .jse-key-outer:hover{background:inherit;cursor:inherit}.jse-json-node.jse-readonly.svelte-ik1vm9{--jse-contents-selected-cursor:pointer}.jse-json-node.svelte-ik1vm9 .jse-insert-area.jse-selected:where(.svelte-ik1vm9){outline-color:var(--jse-context-menu-pointer-background,var(--jse-context-menu-background,#656565))}.jse-welcome.svelte-9kz9uv{font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);flex-direction:column;flex:1;align-items:center;display:flex;overflow:auto}.jse-welcome.svelte-9kz9uv:last-child{border-bottom:var(--jse-main-border,1px solid #d7d7d7)}.jse-welcome.svelte-9kz9uv .jse-space.jse-before:where(.svelte-9kz9uv){flex:1}.jse-welcome.svelte-9kz9uv .jse-space.jse-after:where(.svelte-9kz9uv){flex:2}.jse-welcome.svelte-9kz9uv .jse-contents:where(.svelte-9kz9uv){max-width:300px;margin:2em var(--jse-padding,10px);gap:var(--jse-padding,10px);flex-direction:column;display:flex}.jse-welcome.svelte-9kz9uv .jse-contents:where(.svelte-9kz9uv) .jse-welcome-info:where(.svelte-9kz9uv){color:var(--jse-panel-color-readonly,#b2b2b2)}.jse-welcome.svelte-9kz9uv .jse-contents:where(.svelte-9kz9uv) button:where(.svelte-9kz9uv){color:var(--jse-button-primary-color,#fff);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-button-primary-background,var(--jse-theme-color,#3883fa));padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));border:none;border-radius:3px;margin:0}.jse-welcome.svelte-9kz9uv .jse-contents:where(.svelte-9kz9uv) button:where(.svelte-9kz9uv):hover{background:var(--jse-button-primary-background-highlight,var(--jse-theme-color-highlight,#5f9dff))}.jse-welcome.svelte-9kz9uv .jse-contents:where(.svelte-9kz9uv) button:where(.svelte-9kz9uv):disabled{background:var(--jse-button-primary-background-disabled,#9d9d9d)}.jse-navigation-bar-dropdown.svelte-1aaso6d{z-index:3;background:var(--jse-navigation-bar-background,var(--jse-background-color,#fff));color:var(--jse-navigation-bar-dropdown-color,#656565);box-shadow:var(--jse-controls-box-shadow,0 2px 6px 0 #0000003d);flex-direction:column;min-width:80px;max-height:300px;display:flex;position:absolute;top:100%;left:0;overflow:auto}.jse-navigation-bar-dropdown.svelte-1aaso6d button.jse-navigation-bar-dropdown-item:where(.svelte-1aaso6d){font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);color:inherit;cursor:pointer;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(.5*var(--jse-padding,10px))36px;background:0 0;border:none;outline:none}.jse-navigation-bar-dropdown.svelte-1aaso6d button.jse-navigation-bar-dropdown-item:where(.svelte-1aaso6d):focus,.jse-navigation-bar-dropdown.svelte-1aaso6d button.jse-navigation-bar-dropdown-item:where(.svelte-1aaso6d):hover{background:var(--jse-navigation-bar-background-highlight,#e5e5e5)}.jse-navigation-bar-dropdown.svelte-1aaso6d button.jse-navigation-bar-dropdown-item.jse-selected:where(.svelte-1aaso6d){background:var(--jse-navigation-bar-dropdown-color,#656565);color:var(--jse-navigation-bar-background,var(--jse-background-color,#fff))}.jse-navigation-bar-item.svelte-zm4a8n{display:flex;position:relative}.jse-navigation-bar-item.svelte-zm4a8n button.jse-navigation-bar-button:where(.svelte-zm4a8n){font-family:inherit;font-size:inherit;padding:calc(.5*var(--jse-padding,10px))2px;color:inherit;cursor:pointer;white-space:nowrap;background:0 0;border:none;outline:none;min-width:2em}.jse-navigation-bar-item.svelte-zm4a8n button.jse-navigation-bar-button:where(.svelte-zm4a8n):focus,.jse-navigation-bar-item.svelte-zm4a8n button.jse-navigation-bar-button:where(.svelte-zm4a8n):hover{background:var(--jse-panel-button-background-highlight,#e0e0e0);color:var(--panel-button-color-highlight,var(--jse-text-color,#4d4d4d))}.jse-navigation-bar-item.svelte-zm4a8n button.jse-navigation-bar-button.jse-navigation-bar-arrow:where(.svelte-zm4a8n){padding:2px var(--jse-padding,10px)0}.jse-navigation-bar-item.svelte-zm4a8n button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open:where(.svelte-zm4a8n){background:var(--jse-navigation-bar-background,var(--jse-background-color,#fff));color:var(--jse-navigation-bar-dropdown-color,#656565)}.jse-navigation-bar-item.svelte-zm4a8n:last-child{padding-right:var(--jse-padding,10px)}.jse-navigation-bar-path-editor.svelte-i6k38e{border:var(--jse-edit-outline,2px solid #656565);background:var(--jse-background-color,#fff);flex:1;display:flex}.jse-navigation-bar-path-editor.svelte-i6k38e input.jse-navigation-bar-text:where(.svelte-i6k38e){font-family:inherit;font-size:inherit;background:var(--jse-background-color,#fff);color:var(--jse-text-color,#4d4d4d);border:none;outline:none;flex:1;padding:0 5px 1px}.jse-navigation-bar-path-editor.svelte-i6k38e button:where(.svelte-i6k38e){background:var(--jse-background-color,#fff);cursor:pointer;color:inherit;border:none;font-family:inherit;font-size:80%}.jse-navigation-bar-path-editor.svelte-i6k38e button.jse-navigation-bar-copy.copied:where(.svelte-i6k38e){color:var(--message-success-background,#9ac45d)}.jse-navigation-bar-path-editor.svelte-i6k38e button.jse-navigation-bar-validation-error:where(.svelte-i6k38e){color:var(--jse-error-color,#ee5341)}.jse-navigation-bar-path-editor.error.svelte-i6k38e{border-color:var(--jse-error-color,#ee5341)}.jse-navigation-bar-path-editor.error.svelte-i6k38e input.jse-navigation-bar-text:where(.svelte-i6k38e){color:var(--jse-error-color,#ee5341)}.jse-navigation-bar-path-editor.svelte-i6k38e .jse-copied-text:where(.svelte-i6k38e){background:var(--message-success-background,#9ac45d);color:var(--jse-message-success-color,#fff);border-radius:3px;margin:2px;padding:0 5px;position:relative}.jse-navigation-bar.svelte-ch0k1w{font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);background:var(--jse-panel-background,#ebebeb);color:var(--jse-panel-button-color,inherit);border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);margin:0;padding:0;display:flex;overflow:auto}.jse-navigation-bar.svelte-ch0k1w .jse-navigation-bar-edit:where(.svelte-ch0k1w){font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px);color:var(--jse-panel-color-readonly,#b2b2b2);cursor:pointer;background:0 0;border:none;outline:none;align-items:center;display:flex}.jse-navigation-bar.svelte-ch0k1w .jse-navigation-bar-edit.flex:where(.svelte-ch0k1w){flex:1}.jse-navigation-bar.svelte-ch0k1w .jse-navigation-bar-edit:where(.svelte-ch0k1w):focus,.jse-navigation-bar.svelte-ch0k1w .jse-navigation-bar-edit:where(.svelte-ch0k1w):hover,.jse-navigation-bar.svelte-ch0k1w .jse-navigation-bar-edit.editing:where(.svelte-ch0k1w){background:var(--jse-panel-button-background-highlight,#e0e0e0);color:var(--panel-button-color-highlight,var(--jse-text-color,#4d4d4d));transition:color .2s ease-in,background .2s ease-in}.jse-navigation-bar.svelte-ch0k1w .jse-navigation-bar-edit:where(.svelte-ch0k1w) .jse-navigation-bar-space:where(.svelte-ch0k1w){text-align:left;flex:1}.jse-search-box.svelte-1yv1wjm{border:var(--jse-panel-border,var(--jse-main-border,1px solid #d7d7d7));font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:var(--jse-panel-background,#ebebeb);color:var(--jse-panel-color-readonly,#b2b2b2);box-shadow:var(--jse-controls-box-shadow,0 2px 6px 0 #0000003d);border-radius:3px;width:400px;max-width:100%;display:inline-block;overflow:auto}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm){align-items:stretch;display:flex}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) button:where(.svelte-1yv1wjm),.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) input:where(.svelte-1yv1wjm){font-family:inherit;font-size:inherit}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) button:where(.svelte-1yv1wjm){text-align:center;cursor:pointer;color:var(--jse-panel-button-color,inherit);background:var(--jse-panel-button-background,transparent);border:none;margin:0;padding:0 5px;display:block}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) button:where(.svelte-1yv1wjm):hover{color:var(--panel-button-color-highlight,var(--jse-text-color,#4d4d4d));background:var(--jse-panel-button-background-highlight,#e0e0e0)}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) input:where(.svelte-1yv1wjm){color:var(--jse-panel-color,var(--jse-text-color,#4d4d4d));border:var(--jse-input-border,1px solid #d8dbdf);background:var(--jse-input-background,var(--jse-background-color,#fff));border-radius:3px;outline:none;flex:1;width:0;min-width:50px;height:28px;margin:0;padding:0 5px}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-replace-toggle:where(.svelte-1yv1wjm){padding:var(--jse-padding,10px)calc(.5*var(--jse-padding,10px));background:var(--jse-panel-button-background-highlight,#e0e0e0);min-width:20px}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm){padding:calc(.5*var(--jse-padding,10px));gap:calc(.5*var(--jse-padding,10px));flex-direction:column;flex:1;display:flex}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm) .jse-search-section:where(.svelte-1yv1wjm){flex:1;align-items:center;display:flex;position:relative}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm) .jse-search-section:where(.svelte-1yv1wjm) .jse-search-icon:where(.svelte-1yv1wjm){color:inherit;cursor:inherit;background:inherit;text-align:center;width:32px}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm) .jse-search-section:where(.svelte-1yv1wjm) label.jse-search-input-label:where(.svelte-1yv1wjm){flex:1;display:flex}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm) .jse-search-section:where(.svelte-1yv1wjm) .jse-search-count:where(.svelte-1yv1wjm){color:inherit;visibility:hidden;text-align:center;min-width:36px;padding:0 5px;font-size:80%}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm) .jse-search-section:where(.svelte-1yv1wjm) .jse-search-count.jse-visible:where(.svelte-1yv1wjm){visibility:visible}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm) .jse-replace-section:where(.svelte-1yv1wjm){flex:1;padding-left:32px;display:flex}.jse-search-box.svelte-1yv1wjm .jse-search-form:where(.svelte-1yv1wjm) .jse-search-contents:where(.svelte-1yv1wjm) .jse-replace-section:where(.svelte-1yv1wjm) button:where(.svelte-1yv1wjm){width:auto}.jse-json-preview.svelte-6s14j1{font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);color:var(--jse-panel-color-readonly,#b2b2b2);white-space:pre-wrap;border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);border-bottom:var(--jse-main-border,1px solid #d7d7d7);flex:1;padding:2px;overflow:auto}button.jse-context-menu-button.svelte-1nv9wlw{color:inherit;cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);white-space:nowrap;padding:5px;padding:var(--jse-padding,10px);background:0 0;border:none;flex:1;margin:0}button.jse-context-menu-button.svelte-1nv9wlw:hover{background:var(--jse-context-menu-background-highlight,#7a7a7a)}button.jse-context-menu-button.svelte-1nv9wlw:focus{background:var(--jse-context-menu-background-highlight,#7a7a7a);z-index:1}button.jse-context-menu-button.svelte-1nv9wlw:disabled{color:var(--jse-context-menu-color-disabled,#9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-1nv9wlw{text-align:left}button.jse-context-menu-button.svelte-1nv9wlw svg{width:16px}.jse-dropdown-button.svelte-1i0a0jw{color:inherit;cursor:pointer;line-height:normal;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;border:none;flex:1;margin:0;padding:0;display:flex;position:relative}.jse-dropdown-button.svelte-1i0a0jw ul:where(.svelte-1i0a0jw){margin:0;padding:0}.jse-dropdown-button.svelte-1i0a0jw ul:where(.svelte-1i0a0jw) li:where(.svelte-1i0a0jw){margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-1i0a0jw button.jse-open-dropdown:where(.svelte-1i0a0jw){color:var(--jse-context-menu-color,var(--jse-text-color-inverse,#fff));cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-context-menu-background,#656565);width:2em;border:none;border-radius:0;margin:0;padding:5px}.jse-dropdown-button.svelte-1i0a0jw button.jse-open-dropdown.jse-visible:where(.svelte-1i0a0jw){background:var(--jse-context-menu-background,#656565)}.jse-dropdown-button.svelte-1i0a0jw button.jse-open-dropdown:where(.svelte-1i0a0jw):hover{background:var(--jse-context-menu-background-highlight,#7a7a7a)}.jse-dropdown-button.svelte-1i0a0jw button.jse-open-dropdown:where(.svelte-1i0a0jw):focus{z-index:1}.jse-dropdown-button.svelte-1i0a0jw button.jse-open-dropdown:where(.svelte-1i0a0jw):disabled{color:var(--jse-context-menu-color-disabled,#9d9d9d);background:unset}.jse-dropdown-button.svelte-1i0a0jw .jse-dropdown-items:where(.svelte-1i0a0jw){z-index:1;background:var(--jse-context-menu-background,#656565);color:var(--jse-context-menu-color,var(--jse-text-color-inverse,#fff));box-shadow:var(--jse-controls-box-shadow,0 2px 6px 0 #0000003d);display:none;position:absolute;top:100%;left:0}.jse-dropdown-button.svelte-1i0a0jw .jse-dropdown-items.jse-visible:where(.svelte-1i0a0jw){display:block}.jse-dropdown-button.svelte-1i0a0jw .jse-dropdown-items:where(.svelte-1i0a0jw) button:where(.svelte-1i0a0jw){color:inherit;cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);text-align:left;width:100%;padding:5px;padding:var(--jse-padding,10px);background:0 0;border:none;margin:0}.jse-dropdown-button.svelte-1i0a0jw .jse-dropdown-items:where(.svelte-1i0a0jw) button:where(.svelte-1i0a0jw):hover{background:var(--jse-context-menu-background-highlight,#7a7a7a)}.jse-dropdown-button.svelte-1i0a0jw .jse-dropdown-items:where(.svelte-1i0a0jw) button:where(.svelte-1i0a0jw):disabled{color:var(--jse-context-menu-color-disabled,#9d9d9d);background:unset}button.jse-context-menu-button.svelte-16zcttp{color:inherit;cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);white-space:nowrap;padding:5px;padding:var(--jse-padding,10px);background:0 0;border:none;flex:1;margin:0}button.jse-context-menu-button.svelte-16zcttp:hover{background:var(--jse-context-menu-background-highlight,#7a7a7a)}button.jse-context-menu-button.svelte-16zcttp:focus{background:var(--jse-context-menu-background-highlight,#7a7a7a);z-index:1}button.jse-context-menu-button.svelte-16zcttp:disabled{color:var(--jse-context-menu-color-disabled,#9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-16zcttp{text-align:left}button.jse-context-menu-button.svelte-16zcttp svg{width:16px}.jse-contextmenu.svelte-196mxz0{box-shadow:var(--jse-controls-box-shadow,0 2px 6px 0 #0000003d);font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:var(--jse-context-menu-background,#656565);color:var(--jse-context-menu-color,var(--jse-text-color-inverse,#fff))}.jse-contextmenu.svelte-196mxz0 .jse-row:where(.svelte-196mxz0){flex-direction:row;justify-content:stretch;align-items:flex-start;display:flex}.jse-contextmenu.svelte-196mxz0 .jse-row:where(.svelte-196mxz0) div.jse-label:where(.svelte-196mxz0){white-space:nowrap;padding:var(--jse-padding,10px);color:var(--jse-context-menu-color-disabled,#9d9d9d);flex:1;line-height:normal}.jse-contextmenu.svelte-196mxz0 .jse-row:where(.svelte-196mxz0) div.jse-tip:where(.svelte-196mxz0){background:var(--jse-context-menu-tip-background,#fff3);color:var(--context-menu-tip-color,inherit);margin:calc(.5*var(--jse-padding,10px));padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px);align-items:flex-start;gap:var(--jse-padding,10px);border-radius:3px;flex-direction:row;flex:1;font-size:80%;line-height:1.3em;display:flex}.jse-contextmenu.svelte-196mxz0 .jse-row:where(.svelte-196mxz0) div.jse-tip:where(.svelte-196mxz0) div.jse-tip-icon:where(.svelte-196mxz0){padding-top:calc(.5*var(--jse-padding,10px))}.jse-contextmenu.svelte-196mxz0 .jse-column:where(.svelte-196mxz0){flex-direction:column;flex:1;align-items:stretch;display:flex}.jse-contextmenu.svelte-196mxz0 .jse-column:where(.svelte-196mxz0):not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color,#7a7a7a)}.jse-contextmenu.svelte-196mxz0 .jse-separator:where(.svelte-196mxz0){background:var(--jse-context-menu-separator-color,#7a7a7a);width:100%;height:1px}.jse-tree-mode.svelte-8301w6{background:var(--jse-background-color,#fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);color:var(--jse-text-color,#4d4d4d);line-height:var(--jse-line-height,calc(1em + 4px));flex-direction:column;flex:1;display:flex;position:relative}.jse-tree-mode.svelte-8301w6 .jse-hidden-input-label:where(.svelte-8301w6) .jse-hidden-input:where(.svelte-8301w6){border:0;outline:none;width:1px;height:1px;padding:0;position:fixed;top:-10px;left:-10px}.jse-tree-mode.no-main-menu.svelte-8301w6{border-top:var(--jse-main-border,1px solid #d7d7d7)}.jse-tree-mode.svelte-8301w6 .jse-search-box-container:where(.svelte-8301w6){height:0;top:var(--jse-padding,10px);margin-right:calc(var(--jse-padding,10px) + 20px);margin-left:var(--jse-padding,10px);text-align:right;z-index:3;position:relative}.jse-tree-mode.svelte-8301w6 .jse-contents:where(.svelte-8301w6){border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);flex-direction:column;flex:1;padding:2px;display:flex;position:relative;overflow:auto}.jse-tree-mode.svelte-8301w6 .jse-contents:where(.svelte-8301w6):last-child{border-bottom:var(--jse-main-border,1px solid #d7d7d7)}.jse-tree-mode.svelte-8301w6 .jse-contents:where(.svelte-8301w6) .jse-loading-space:where(.svelte-8301w6){flex:1}.jse-tree-mode.svelte-8301w6 .jse-contents:where(.svelte-8301w6) .jse-loading:where(.svelte-8301w6){text-align:center;color:var(--jse-panel-color-readonly,#b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);flex:2}.jse-tree-mode.svelte-8301w6 .jse-contents:where(.svelte-8301w6) .jse-search-box-background:where(.svelte-8301w6){border:50px solid var(--jse-modal-background,#f5f5f5);margin:-2px -2px 2px;display:inline-block}.jse-transform-modal-inner.svelte-co0e1w{flex-direction:column;flex:1;min-width:0;min-height:0;display:flex}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w){color:inherit;flex-direction:column;flex:1;min-width:0;min-height:0;padding:0;display:flex;overflow:auto}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-actions:where(.svelte-co0e1w){padding-top:var(--jse-padding,10px);flex-direction:row;justify-content:flex-end;display:flex}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-actions:where(.svelte-co0e1w) button.jse-primary:where(.svelte-co0e1w){color:var(--jse-button-primary-color,#fff);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-button-primary-background,var(--jse-theme-color,#3883fa));padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));border:none;border-radius:3px;margin:0}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-actions:where(.svelte-co0e1w) button.jse-primary:where(.svelte-co0e1w):hover{background:var(--jse-button-primary-background-highlight,var(--jse-theme-color-highlight,#5f9dff))}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-actions:where(.svelte-co0e1w) button.jse-primary:where(.svelte-co0e1w):disabled{background:var(--jse-button-primary-background-disabled,#9d9d9d)}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w){gap:calc(2*var(--jse-padding,10px));box-sizing:border-box;min-height:0;padding:0 calc(2*var(--jse-padding,10px))var(--jse-padding,10px);flex:1;display:flex}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w){flex-direction:column;flex:1;display:flex}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w) .jse-description:where(.svelte-co0e1w) p{margin:var(--jse-padding,10px)0}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w) .jse-description:where(.svelte-co0e1w) p:first-child{margin-top:0}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w) .jse-description:where(.svelte-co0e1w) p:last-child{margin-bottom:0}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w) .jse-description:where(.svelte-co0e1w) code{background:var(--jse-modal-code-background,#0000000d);font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px)}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w) .query-error:where(.svelte-co0e1w){color:var(--jse-error-color,#ee5341)}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w) textarea.jse-query:where(.svelte-co0e1w){resize:vertical;outline:none;flex:1}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents:where(.svelte-co0e1w){gap:calc(2*var(--jse-padding,10px));flex-direction:column;flex:1;display:flex}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents:where(.svelte-co0e1w) .jse-original-data:where(.svelte-co0e1w){box-sizing:border-box;flex-direction:column;flex:1;min-height:0;display:flex}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents:where(.svelte-co0e1w) .jse-original-data.jse-hide:where(.svelte-co0e1w){flex:none}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents:where(.svelte-co0e1w) .jse-preview-data:where(.svelte-co0e1w){box-sizing:border-box;flex-direction:column;flex:1;min-height:0;display:flex}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents.jse-hide-original-data:where(.svelte-co0e1w){flex-direction:column;gap:0;margin-bottom:0}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-actions:where(.svelte-co0e1w){padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px))calc(2*var(--jse-padding,10px))}@media screen and (max-width:1200px){.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w){flex-direction:column;overflow:auto}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-query-contents:where(.svelte-co0e1w) textarea.jse-query:where(.svelte-co0e1w){flex:none;min-height:150px}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents:where(.svelte-co0e1w) .jse-tree-mode{flex:none;height:300px}.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents:where(.svelte-co0e1w) .jse-original-data:where(.svelte-co0e1w),.jse-transform-modal-inner.svelte-co0e1w .jse-modal-contents:where(.svelte-co0e1w) .jse-main-contents:where(.svelte-co0e1w) .jse-data-contents:where(.svelte-co0e1w) .jse-preview-data:where(.svelte-co0e1w){flex:unset}}.jse-transform-modal-inner.svelte-co0e1w .jse-label:where(.svelte-co0e1w){box-sizing:border-box;font-weight:700;display:block}.jse-transform-modal-inner.svelte-co0e1w .jse-label:where(.svelte-co0e1w) .jse-label-inner:where(.svelte-co0e1w){margin-top:calc(2*var(--jse-padding,10px));margin-bottom:calc(.5*var(--jse-padding,10px));box-sizing:border-box}.jse-transform-modal-inner.svelte-co0e1w .jse-label:where(.svelte-co0e1w) .jse-label-inner:where(.svelte-co0e1w) button:where(.svelte-co0e1w){color:inherit;cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;border:none;margin:0;padding:0;font-weight:700}.jse-transform-modal-inner.svelte-co0e1w .jse-tree-mode{background:var(--jse-input-background-readonly,transparent);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border,1px solid #d8dbdf);flex:1}.jse-transform-modal-inner.svelte-co0e1w input:where(.svelte-co0e1w),.jse-transform-modal-inner.svelte-co0e1w textarea:where(.svelte-co0e1w){border:var(--jse-input-border,1px solid #d8dbdf);box-sizing:border-box;padding:calc(.5*var(--jse-padding,10px));font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);color:inherit;background:var(--jse-input-background,var(--jse-background-color,#fff));outline:none}.jse-transform-modal-inner.svelte-co0e1w input:where(.svelte-co0e1w):focus,.jse-transform-modal-inner.svelte-co0e1w textarea:where(.svelte-co0e1w):focus{border:var(--jse-input-border-focus,1px solid var(--jse-input-border-focus,var(--jse-theme-color,#3883fa)))}.jse-transform-modal-inner.svelte-co0e1w input:where(.svelte-co0e1w):read-only,.jse-transform-modal-inner.svelte-co0e1w textarea:where(.svelte-co0e1w):read-only{background:var(--jse-input-background-readonly,transparent)}.jse-transform-modal-inner.svelte-co0e1w .jse-preview.jse-error:where(.svelte-co0e1w){background:var(--jse-input-background-readonly,transparent);border:var(--jse-input-border,1px solid #d8dbdf);color:var(--jse-error-color,#ee5341);padding:calc(.5*var(--jse-padding,10px));flex:1}.jse-transform-modal-inner.svelte-co0e1w a{color:var(--jse-a-color,#156fc5)}.jse-transform-modal-inner.svelte-co0e1w a:hover{color:var(--jse-a-color-highlight,#0f508d)}.jse-status-bar.svelte-elhb0f{background:var(--jse-panel-background,#ebebeb);color:var(--jse-panel-color-readonly,#b2b2b2);font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);border-top:var(--jse-panel-border,var(--jse-main-border,1px solid #d7d7d7));border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);gap:var(--jse-padding,10px);margin:0;display:flex}.jse-status-bar.svelte-elhb0f:last-child{border-bottom:var(--jse-main-border,1px solid #d7d7d7)}.jse-status-bar.svelte-elhb0f .jse-status-bar-info:where(.svelte-elhb0f){padding:2px}.jse-text-mode.svelte-1sed3tc{--internal-key-color:var(--jse-key-color,#1a1a1a);--internal-value-color-number:var(--jse-value-color-number,#ee422e);--internal-value-color-boolean:var(--jse-value-color-boolean,#ff8c00);--internal-value-color-string:var(--jse-value-color-string,green);--internal-value-color-null:var(--jse-value-color-null,#004ed0);box-sizing:border-box;background:var(--jse-background-color,#fff);flex-direction:column;flex:1;display:flex}.jse-text-mode.no-main-menu.svelte-1sed3tc{border-top:var(--jse-main-border,1px solid #d7d7d7)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc){border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);flex-direction:column;flex:1;min-width:0;min-height:0;display:flex;position:relative;overflow:hidden}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc):last-child{border-bottom:var(--jse-main-border,1px solid #d7d7d7)}.jse-text-mode.svelte-1sed3tc .jse-contents.jse-hidden:where(.svelte-1sed3tc){visibility:hidden;position:absolute;top:0;left:0}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);line-height:var(--jse-line-height,calc(1em + 4px));color:var(--jse-delimiter-color,#00000061)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-gutters{background:var(--jse-panel-background,#ebebeb);color:var(--jse-panel-color-readonly,#b2b2b2);border-right:var(--jse-panel-border,var(--jse-main-border,1px solid #d7d7d7))}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-activeLine,.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color,#0000000f)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color,#d3d3d3)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color,#ffe665);outline:var(--jse-search-match-outline,none)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color,var(--jse-search-match-color,#ffe665));outline:var(--jse-search-match-outline,2px solid #e0be00)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color,#99ff7780)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background,#0003);color:var(--jse-tag-color,var(--jse-text-color-inverse,#fff));padding:0 var(--jse-padding,10px);border:none}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-tooltip{font-size:var(--jse-font-size,16px);font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);color:var(--jse-tooltip-color,var(--jse-text-color,#4d4d4d));background:var(--jse-tooltip-background,var(--jse-modal-background,#f5f5f5));border:var(--jse-tooltip-border,var(--jse-main-border,1px solid #d7d7d7))}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color,var(--jse-text-color-inverse,#fff));background:var(--jse-tooltip-action-button-background,#4d4d4d)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-panels{border-bottom:var(--jse-panel-border,var(--jse-main-border,1px solid #d7d7d7))}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-search{background:var(--jse-panel-background,#ebebeb);color:var(--jse-panel-color,var(--jse-text-color,#4d4d4d));font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-search input{font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size-text-mode-search,80%);color:var(--jse-input-color,var(--jse-text-color,#4d4d4d));border:var(--jse-input-border,1px solid #d8dbdf);background:var(--jse-input-background,var(--jse-background-color,#fff));margin-right:2px}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-search button{font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size-text-mode-search,80%);color:var(--jse-panel-button-color,inherit);background:var(--jse-panel-button-background,transparent);cursor:pointer;text-transform:capitalize;padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px);border:none;margin:0}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-search button:hover{color:var(--panel-button-color-highlight,var(--jse-text-color,#4d4d4d));background:var(--jse-panel-button-background-highlight,#e0e0e0)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-search label{font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size-text-mode-search,80%);padding-left:var(--jse-padding,10px)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-search button[name=close]{width:32px;height:32px;padding:0;font-size:24px;line-height:24px;top:-4px;right:0}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color,#4d4d4d)}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .jse-loading-space:where(.svelte-1sed3tc){flex:1}.jse-text-mode.svelte-1sed3tc .jse-contents:where(.svelte-1sed3tc) .jse-loading:where(.svelte-1sed3tc){text-align:center;color:var(--jse-panel-color-readonly,#b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);flex:2}.jse-text-mode.svelte-1sed3tc .jse-contents.jse-preview:where(.svelte-1sed3tc){font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);color:var(--jse-panel-color-readonly,#b2b2b2);white-space:pre-wrap;word-break:break-word;flex:1;padding:2px;overflow:auto}.jse-text-mode.svelte-1sed3tc .jse-fold-progress:where(.svelte-1sed3tc){background:var(--jse-background-color,#fff);border-top:var(--jse-panel-border,var(--jse-main-border,1px solid #d7d7d7));border-bottom:var(--jse-panel-border,var(--jse-main-border,1px solid #d7d7d7));align-items:center;gap:8px;padding:8px 12px;display:flex}.jse-text-mode.svelte-1sed3tc .jse-fold-progress:where(.svelte-1sed3tc) .jse-fold-tip:where(.svelte-1sed3tc){font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size-mono,14px);color:var(--jse-panel-color-readonly,#b2b2b2)}.jse-text-mode.svelte-1sed3tc .jse-fold-progress:where(.svelte-1sed3tc) .jse-fold-progress-track:where(.svelte-1sed3tc){background:var(--jse-panel-background,#ebebeb);border:1px solid var(--jse-panel-border,var(--jse-main-border,1px solid #d7d7d7));border-radius:3px;flex:1;height:6px;overflow:hidden}.jse-text-mode.svelte-1sed3tc .jse-fold-progress:where(.svelte-1sed3tc) .jse-fold-progress-fill:where(.svelte-1sed3tc){background:linear-gradient(90deg,var(--jse-theme-color,#3883fa),var(--jse-theme-color-highlight,#5f9dff));border-radius:2px;min-width:2px;height:100%;transition:width .1s}.jse-text-mode.svelte-1sed3tc .jse-fold-progress:where(.svelte-1sed3tc) .jse-fold-cancel-button:where(.svelte-1sed3tc){font-size:12px;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);background:var(--jse-theme-color,#3883fa);color:#fff;cursor:pointer;border:1px solid var(--jse-main-border,1px solid #d7d7d7);border-radius:3px;flex-shrink:0;padding:4px 12px;transition:background-color .2s}.jse-text-mode.svelte-1sed3tc .jse-fold-progress:where(.svelte-1sed3tc) .jse-fold-cancel-button:where(.svelte-1sed3tc):hover{background:var(--jse-theme-color-highlight,#5f9dff);color:#fff}.jse-inline-value.svelte-11x5eo4{font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);line-height:var(--jse-line-height,calc(1em + 4px));padding:0 calc(.5*var(--jse-padding,10px));color:inherit;cursor:inherit;background:0 0;border:none}.jse-inline-value.jse-highlight.svelte-11x5eo4{background-color:var(--jse-search-match-color,#ffe665);outline:var(--jse-search-match-outline,none)}.jse-inline-value.jse-highlight.jse-active.svelte-11x5eo4{background-color:var(--jse-search-match-active-color,var(--jse-search-match-color,#ffe665));outline:var(--jse-search-match-outline,2px solid #e0be00)}.jse-column-header.svelte-jv0pvc{font-family:inherit;font-size:inherit;color:inherit;gap:var(--jse-padding,10px);padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px)calc(.5*var(--jse-padding,10px))calc(.5*var(--jse-padding,10px));background:0 0;border:none;width:100%;display:flex}.jse-column-header.svelte-jv0pvc:hover{background:var(--jse-table-header-background-highlight,#e8e8e8)}.jse-column-header.svelte-jv0pvc:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-column-header.svelte-jv0pvc span.jse-column-sort-icon:where(.svelte-jv0pvc){height:1em}.jse-table-mode-welcome.svelte-t7oile{border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);flex-direction:column;flex:1;align-items:center;display:flex;overflow:auto}.jse-table-mode-welcome.svelte-t7oile:last-child{border-bottom:var(--jse-main-border,1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-t7oile .jse-space.jse-before:where(.svelte-t7oile){flex:1}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile){gap:var(--jse-padding,10px);max-width:400px;margin:2em var(--jse-padding,10px);font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);flex-direction:column;display:flex}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile) .jse-nested-arrays-info:where(.svelte-t7oile){color:var(--jse-panel-color-readonly,#b2b2b2)}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile) .jse-nested-property:where(.svelte-t7oile){align-items:center;gap:var(--jse-padding,10px);display:flex}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile) .jse-nested-property:where(.svelte-t7oile) .jse-nested-property-path:where(.svelte-t7oile){flex:1}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile) .jse-nested-property:where(.svelte-t7oile) .jse-nested-property-path:where(.svelte-t7oile) .jse-nested-property-count:where(.svelte-t7oile){opacity:.5;white-space:nowrap}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile) button.jse-nested-array-action:where(.svelte-t7oile){text-align:left;color:var(--jse-button-primary-color,#fff);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-button-primary-background,var(--jse-theme-color,#3883fa));padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));border:none;border-radius:3px;margin:0}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile) button.jse-nested-array-action:where(.svelte-t7oile):hover{background:var(--jse-button-primary-background-highlight,var(--jse-theme-color-highlight,#5f9dff))}.jse-table-mode-welcome.svelte-t7oile .jse-nested-arrays:where(.svelte-t7oile) button.jse-nested-array-action:where(.svelte-t7oile):disabled{background:var(--jse-button-primary-background-disabled,#9d9d9d)}.jse-table-mode-welcome.svelte-t7oile .jse-space.jse-after:where(.svelte-t7oile){flex:2}.jse-column-header.svelte-gfc1zr{font-family:inherit;font-size:inherit;color:inherit;gap:var(--jse-padding,10px);padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px)calc(.5*var(--jse-padding,10px))calc(.5*var(--jse-padding,10px));background:0 0;border:none;width:100%;display:flex}.jse-column-header.svelte-gfc1zr:hover{background:var(--jse-table-header-background-highlight,#e8e8e8)}.jse-column-header.svelte-gfc1zr:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-table-mode.svelte-m90oz6{background:var(--jse-background-color,#fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);color:var(--jse-text-color,#4d4d4d);line-height:var(--jse-line-height,calc(1em + 4px));flex-direction:column;flex:1;display:flex;position:relative}.jse-table-mode.no-main-menu.svelte-m90oz6{border-top:var(--jse-main-border,1px solid #d7d7d7)}.jse-table-mode.svelte-m90oz6 .jse-search-box-container:where(.svelte-m90oz6){height:0;top:calc(var(--jse-line-height,calc(1em + 4px)) + 2*var(--jse-padding,10px));margin-right:calc(var(--jse-padding,10px) + 20px);margin-left:var(--jse-padding,10px);text-align:right;z-index:3;position:relative}.jse-table-mode.svelte-m90oz6 .jse-hidden-input-label:where(.svelte-m90oz6){width:0;height:0;position:fixed;top:0;right:0}.jse-table-mode.svelte-m90oz6 .jse-hidden-input-label:where(.svelte-m90oz6) .jse-hidden-input:where(.svelte-m90oz6){border:0;outline:none;width:0;height:0;padding:0}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6){overflow-anchor:none;scrollbar-gutter:stable;border-left:var(--jse-main-border,1px solid #d7d7d7);border-right:var(--jse-main-border,1px solid #d7d7d7);flex-direction:column;flex:1;align-items:flex-start;display:flex;overflow:auto}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6):last-child{border-bottom:var(--jse-main-border,1px solid #d7d7d7)}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6){border-collapse:collapse;border-spacing:0}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-invisible-start-section:where(.svelte-m90oz6) td:where(.svelte-m90oz6),.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-invisible-end-section:where(.svelte-m90oz6) td:where(.svelte-m90oz6){margin:0;padding:0}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-search-box-background:where(.svelte-m90oz6){background:var(--jse-table-header-background,#f5f5f5)}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-invisible-end-section:where(.svelte-m90oz6) td:where(.svelte-m90oz6){padding-bottom:var(--jse-padding,10px)}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6):hover{background-color:var(--jse-table-row-odd-background,#0000000d)}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell:where(.svelte-m90oz6){padding:0 var(--jse-padding,10px)0 0;vertical-align:top;white-space:nowrap;height:var(--jse-line-height,calc(1em + 4px))}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell.jse-table-cell-header:where(.svelte-m90oz6),.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell.jse-table-cell-gutter:where(.svelte-m90oz6){text-align:left;color:var(--jse-text-readonly,#8d8d8d);background:var(--jse-table-header-background,#f5f5f5);font-weight:400}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell.jse-table-cell-header:where(.svelte-m90oz6){padding:0;position:sticky;top:0}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell.jse-table-cell-header:where(.svelte-m90oz6) .jse-table-root-error:where(.svelte-m90oz6){padding:calc(.5*var(--jse-padding,10px))var(--jse-padding,10px)calc(.5*var(--jse-padding,10px))calc(.5*var(--jse-padding,10px))}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell.jse-table-cell-gutter:where(.svelte-m90oz6){padding:0 var(--jse-padding,10px)0 calc(.5*var(--jse-padding,10px))}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell:where(.svelte-m90oz6) .jse-value-outer:where(.svelte-m90oz6){cursor:var(--jse-contents-cursor,pointer);display:inline-block}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell:where(.svelte-m90oz6) .jse-value-outer:where(.svelte-m90oz6):hover{background:var(--jse-hover-background-color,#0000000f)}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell:where(.svelte-m90oz6) .jse-value-outer.jse-selected-value:where(.svelte-m90oz6){background:var(--jse-selection-background-color,#d3d3d3)}.jse-table-mode.svelte-m90oz6 .jse-contents:where(.svelte-m90oz6) table.jse-table-main:where(.svelte-m90oz6) .jse-table-row:where(.svelte-m90oz6) .jse-table-cell:where(.svelte-m90oz6) .jse-context-menu-anchor:where(.svelte-m90oz6){vertical-align:top;display:inline-flex;position:relative}.jse-table-mode.svelte-m90oz6 .jse-contents.jse-contents-loading:where(.svelte-m90oz6){align-items:unset}.jse-table-mode.svelte-m90oz6 .jse-contents.jse-contents-loading:where(.svelte-m90oz6) .jse-loading-space:where(.svelte-m90oz6){flex:1}.jse-table-mode.svelte-m90oz6 .jse-contents.jse-contents-loading:where(.svelte-m90oz6) .jse-loading:where(.svelte-m90oz6){text-align:center;color:var(--jse-panel-color-readonly,#b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);flex:2}.jse-modal-wrapper.svelte-1hvu55v{flex-direction:column;flex:1;min-width:0;min-height:0;display:flex}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v){flex-direction:column;flex:1;min-width:0;min-height:0;padding:20px;display:flex;overflow:auto}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v) .jse-actions:where(.svelte-1hvu55v){padding-top:var(--jse-padding,10px);flex-direction:row;justify-content:flex-end;display:flex}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v) .jse-actions:where(.svelte-1hvu55v) button.jse-primary:where(.svelte-1hvu55v){color:var(--jse-button-primary-color,#fff);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-button-primary-background,var(--jse-theme-color,#3883fa));padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));border:none;border-radius:3px;margin:0}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v) .jse-actions:where(.svelte-1hvu55v) button.jse-primary:where(.svelte-1hvu55v):hover{background:var(--jse-button-primary-background-highlight,var(--jse-theme-color-highlight,#5f9dff))}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v) .jse-actions:where(.svelte-1hvu55v) button.jse-primary:where(.svelte-1hvu55v):disabled{background:var(--jse-button-primary-background-disabled,#9d9d9d)}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v) .jse-label:where(.svelte-1hvu55v){box-sizing:border-box;font-weight:700;display:block}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v) .jse-label:where(.svelte-1hvu55v) .jse-label-inner:where(.svelte-1hvu55v){margin-top:calc(2*var(--jse-padding,10px));margin-bottom:calc(.5*var(--jse-padding,10px));box-sizing:border-box}.jse-modal-wrapper.svelte-1hvu55v .jse-modal-contents:where(.svelte-1hvu55v) .jse-modal-inline-editor:where(.svelte-1hvu55v){--jse-theme-color:var(--jse-modal-editor-theme-color,#707070);--jse-theme-color-highlight:var(--jse-modal-editor-theme-color-highlight,#646464);flex:1;min-width:0;max-width:100%;min-height:150px;display:flex}.jse-modal-wrapper.svelte-1hvu55v .jse-actions:where(.svelte-1hvu55v){gap:var(--jse-padding,10px);align-items:center}.jse-modal-wrapper.svelte-1hvu55v .jse-actions:where(.svelte-1hvu55v) .jse-error:where(.svelte-1hvu55v){color:var(--jse-error-color,#ee5341);flex:1}.jse-modal-wrapper.svelte-1hvu55v .jse-actions:where(.svelte-1hvu55v) button.jse-secondary:where(.svelte-1hvu55v){color:var(--jse-button-secondary-color,var(--jse-text-color,#4d4d4d));cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-button-secondary-background,#d3d3d3);padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));border:none;border-radius:3px;margin:0}.jse-modal-wrapper.svelte-1hvu55v .jse-actions:where(.svelte-1hvu55v) button.jse-secondary:where(.svelte-1hvu55v):hover{background:var(--jse-button-secondary-background-highlight,#e1e1e1)}.jse-modal-wrapper.svelte-1hvu55v .jse-actions:where(.svelte-1hvu55v) button.jse-secondary:where(.svelte-1hvu55v):disabled{background:var(--jse-button-secondary-background-disabled,#9d9d9d)}.jse-modal-wrapper.svelte-1hvu55v input:where(.svelte-1hvu55v){border:var(--jse-input-border,1px solid #d8dbdf);box-sizing:border-box;padding:calc(.5*var(--jse-padding,10px));font-family:var(--jse-font-family-mono,consolas,menlo,monaco,"Ubuntu Mono","source-code-pro",monospace);font-size:var(--jse-font-size-mono,14px);color:inherit;background:var(--jse-input-background,var(--jse-background-color,#fff));outline:none}.jse-modal-wrapper.svelte-1hvu55v input:where(.svelte-1hvu55v):focus{border:var(--jse-input-border-focus,1px solid var(--jse-input-border-focus,var(--jse-theme-color,#3883fa)))}.jse-modal-wrapper.svelte-1hvu55v input:where(.svelte-1hvu55v):read-only{background:var(--jse-input-background-readonly,transparent)}.jse-modal-contents.svelte-bng95m{flex-direction:column;flex:1;min-width:0;min-height:0;padding:20px;display:flex;overflow:auto}.jse-modal-contents.svelte-bng95m .jse-actions:where(.svelte-bng95m){padding-top:var(--jse-padding,10px);flex-direction:row;justify-content:flex-end;display:flex}.jse-modal-contents.svelte-bng95m .jse-actions:where(.svelte-bng95m) button.jse-primary:where(.svelte-bng95m){color:var(--jse-button-primary-color,#fff);cursor:pointer;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);background:0 0;background:var(--jse-button-primary-background,var(--jse-theme-color,#3883fa));padding:5px;padding:var(--jse-padding,10px)calc(2*var(--jse-padding,10px));border:none;border-radius:3px;margin:0}.jse-modal-contents.svelte-bng95m .jse-actions:where(.svelte-bng95m) button.jse-primary:where(.svelte-bng95m):hover{background:var(--jse-button-primary-background-highlight,var(--jse-theme-color-highlight,#5f9dff))}.jse-modal-contents.svelte-bng95m .jse-actions:where(.svelte-bng95m) button.jse-primary:where(.svelte-bng95m):disabled{background:var(--jse-button-primary-background-disabled,#9d9d9d)}.jse-modal-contents.svelte-bng95m table:where(.svelte-bng95m){border-collapse:collapse;border-spacing:0;width:100%}.jse-modal-contents.svelte-bng95m table:where(.svelte-bng95m) th:where(.svelte-bng95m),.jse-modal-contents.svelte-bng95m table:where(.svelte-bng95m) td:where(.svelte-bng95m){text-align:left;vertical-align:middle;padding-bottom:var(--jse-padding,10px);font-weight:400}.jse-modal-contents.svelte-bng95m input.jse-path:where(.svelte-bng95m){box-sizing:border-box;border:var(--jse-input-border,1px solid #d8dbdf);border-radius:var(--jse-input-radius,3px);width:100%;font-family:inherit;font-size:inherit;background:inherit;background:var(--jse-input-background-readonly,transparent);color:inherit;outline:none;padding:5px 10px}.jse-modal-contents.svelte-bng95m .svelte-select input{box-sizing:border-box}.jse-modal-contents.svelte-bng95m .jse-space:where(.svelte-bng95m){height:200px}.jse-modal-contents.svelte-bng95m .jse-space:where(.svelte-bng95m) .jse-error:where(.svelte-bng95m){color:var(--jse-error-color,#ee5341)}.jse-main.svelte-1k65mul{width:100%;min-width:0;height:100%;min-height:150px;font-family:var(--jse-font-family,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif);font-size:var(--jse-font-size,16px);flex-direction:row;line-height:normal;display:flex;position:relative}.jse-main.svelte-1k65mul:not(.jse-focus){--jse-selection-background-color:var(--jse-selection-background-inactive-color,#e8e8e8);--jse-context-menu-pointer-background:var(--jse-context-menu-pointer-hover-background,#b2b2b2)}#nprogress{pointer-events:none}#nprogress .bar{z-index:1031;background:#29d;width:100%;height:2px;position:fixed;top:0;left:0}#nprogress .peg{opacity:1;width:100px;height:100%;display:block;position:absolute;right:0;transform:rotate(3deg)translateY(-4px);box-shadow:0 0 10px #29d,0 0 5px #29d}#nprogress .spinner{z-index:1031;display:block;position:fixed;top:15px;right:15px}#nprogress .spinner-icon{box-sizing:border-box;border:2px solid #0000;border-color:#29d #0000 #0000 #29d;border-radius:50%;width:18px;height:18px;animation:.4s linear infinite nprogress-spinner}.nprogress-custom-parent{position:relative;overflow:hidden}.nprogress-custom-parent #nprogress .spinner,.nprogress-custom-parent #nprogress .bar{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}html,body{background:#fff;width:100%;height:100%;margin:0;padding:0;overflow:hidden}.l.svelte-1n46o8q{background:#f5f5f5;flex-direction:column;justify-content:center;align-items:center;width:100vw;height:100vh;display:flex}.s.svelte-1n46o8q{border:5px solid #e0e0e0;border-top-color:#0090f7;border-radius:50%;width:50px;height:50px;animation:1s linear infinite svelte-1n46o8q-spin}@keyframes svelte-1n46o8q-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.t.svelte-1n46o8q{color:#666;margin-top:20px;font-size:18px}.e.svelte-1n46o8q{text-align:center;background:#f5f5f5;flex-direction:column;justify-content:center;align-items:center;width:100vw;height:100vh;padding:20px;display:flex}.i.svelte-1n46o8q{margin-bottom:20px;font-size:64px}.e.svelte-1n46o8q h2:where(.svelte-1n46o8q){color:#333;margin:0 0 15px}.m.svelte-1n46o8q{color:#666;max-width:600px;margin-bottom:30px}.e.svelte-1n46o8q button:where(.svelte-1n46o8q){color:#fff;cursor:pointer;background:#0090f7;border:none;border-radius:4px;padding:12px 24px;font-size:16px}.e.svelte-1n46o8q button:where(.svelte-1n46o8q):hover{background:#0080e0}.w.svelte-1n46o8q{flex-direction:column;width:100vw;height:100vh;display:flex}.editor-container.svelte-1n46o8q,.results.svelte-1n46o8q{overflow:auto}.results.svelte-1n46o8q{color:#666;background:#f5f5f5;padding:15px}.results.success.svelte-1n46o8q{color:#fff;background:#1ba851;font-weight:700}.b.svelte-1n46o8q{color:#fff;background:#ff5252;border-radius:4px;margin-bottom:10px;padding:10px}.jse-main{height:100%;border:none!important}.gutter{background:#fff}.gutter:hover{background:#0090f7}.custom-menu-checkbox{cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;gap:6px;margin-left:auto;padding:4px 8px;display:flex}.custom-menu-checkbox input[type=checkbox]{cursor:pointer;accent-color:#0090f7;width:16px;height:16px}.custom-menu-checkbox span{font-size:13px;font-weight:500}
/*$vite$:1*/</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
